import{x as te,w as Ie,o as xe,I as pe,b as ge,ag as se,s as O,h as R,M as Te,a as we,m as p,ae as Ee,H as Ce,d as K,e as W,i as b,a6 as Se,f as re,g as oe,p as Ae,ah as q,aa as ae,a2 as He,u as Q,ai as z,aj as Z,ak as J,al as Re,k as j,am as Me,an as be,a9 as ye,ao as Xe,ad as Ne,ap as ke,L as De,aq as Le,q as ee,G as C}from"./WqTU90lj.js";import{p as G}from"./CqAtsxFK.js";const Oe=[];function ie(e,n=!1){return N(e,new Map,"",Oe)}function N(e,n,t,l,r=null){if(typeof e=="object"&&e!==null){var c=n.get(e);if(c!==void 0)return c;if(e instanceof Map)return new Map(e);if(e instanceof Set)return new Set(e);if(te(e)){var a=Array(e.length);n.set(e,a),r!==null&&n.set(r,a);for(var _=0;_<e.length;_+=1){var f=e[_];_ in e&&(a[_]=N(f,n,t,l))}return a}if(Ie(e)===xe){a={},n.set(e,a),r!==null&&n.set(r,a);for(var d in e)a[d]=N(e[d],n,t,l);return a}if(e instanceof Date)return structuredClone(e);if(typeof e.toJSON=="function")return N(e.toJSON(),n,t,l,e)}if(e instanceof EventTarget)return e;try{return structuredClone(e)}catch{return e}}function Ke(e,n){return n}function We(e,n,t,l){for(var r=[],c=n.length,a=0;a<c;a++)be(n[a].e,r,!0);var _=c>0&&r.length===0&&t!==null;if(_){var f=t.parentNode;ye(f),f.append(t),l.clear(),H(e,n[0].prev,n[c-1].next)}Xe(r,()=>{for(var d=0;d<c;d++){var m=n[d];_||(l.delete(m.k),H(e,m.prev,m.next)),Ne(m.e,!_)}})}function Qe(e,n,t,l,r,c=null){var a=e,_={items:new Map,first:null},f=(n&se)!==0;if(f){var d=e;a=R?O(Te(d)):d.appendChild(pe())}R&&we();var m=null,v=!1,o=Ee(()=>{var i=t();return te(i)?i:i==null?[]:ae(i)});ge(()=>{var i=p(o),s=i.length;if(v&&s===0)return;v=s===0;let g=!1;if(R){var I=a.data===Ce;I!==(s===0)&&(a=K(),O(a),W(!1),g=!0)}if(R){for(var w=null,E,T=0;T<s;T++){if(b.nodeType===8&&b.data===Se){a=b,g=!0,W(!1);break}var u=i[T],h=l(u,T);E=le(b,_,w,null,u,h,T,r,n,t),_.items.set(h,E),w=E}s>0&&O(K())}R||qe(i,_,a,r,n,l,t),c!==null&&(s===0?m?re(m):m=oe(()=>c(a)):m!==null&&Ae(m,()=>{m=null})),g&&W(!0),p(o)}),R&&(a=b)}function qe(e,n,t,l,r,c,a){var V,Y,$,F;var _=(r&Me)!==0,f=(r&(z|J))!==0,d=e.length,m=n.items,v=n.first,o=v,i,s=null,g,I=[],w=[],E,T,u,h;if(_)for(h=0;h<d;h+=1)E=e[h],T=c(E,h),u=m.get(T),u!==void 0&&((V=u.a)==null||V.measure(),(g??(g=new Set)).add(u));for(h=0;h<d;h+=1){if(E=e[h],T=c(E,h),u=m.get(T),u===void 0){var me=o?o.e.nodes_start:t;s=le(me,n,s,s===null?n.first:s.next,E,T,h,l,r,a),m.set(T,s),I=[],w=[],o=s.next;continue}if(f&&Ge(u,E,h,r),u.e.f&q&&(re(u.e),_&&((Y=u.a)==null||Y.unfix(),(g??(g=new Set)).delete(u))),u!==o){if(i!==void 0&&i.has(u)){if(I.length<w.length){var X=w[0],A;s=X.prev;var P=I[0],D=I[I.length-1];for(A=0;A<I.length;A+=1)ne(I[A],X,t);for(A=0;A<w.length;A+=1)i.delete(w[A]);H(n,P.prev,D.next),H(n,s,P),H(n,D,X),o=X,s=D,h-=1,I=[],w=[]}else i.delete(u),ne(u,o,t),H(n,u.prev,u.next),H(n,u,s===null?n.first:s.next),H(n,s,u),s=u;continue}for(I=[],w=[];o!==null&&o.k!==T;)o.e.f&q||(i??(i=new Set)).add(o),w.push(o),o=o.next;if(o===null)continue;u=o}I.push(u),s=u,o=u.next}if(o!==null||i!==void 0){for(var M=i===void 0?[]:ae(i);o!==null;)o.e.f&q||M.push(o),o=o.next;var L=M.length;if(L>0){var _e=r&se&&d===0?t:null;if(_){for(h=0;h<L;h+=1)($=M[h].a)==null||$.measure();for(h=0;h<L;h+=1)(F=M[h].a)==null||F.fix()}We(n,M,_e,m)}}_&&He(()=>{var U;if(g!==void 0)for(u of g)(U=u.a)==null||U.apply()}),Q.first=n.first&&n.first.e,Q.last=s&&s.e}function Ge(e,n,t,l){l&z&&Z(e.v,n),l&J?Z(e.i,t):e.i=t}function le(e,n,t,l,r,c,a,_,f,d){var m=(f&z)!==0,v=(f&ke)===0,o=m?v?Re(r):j(r):r,i=f&J?j(a):a,s={i,v:o,k:c,a:null,e:null,prev:t,next:l};try{return s.e=oe(()=>_(e,o,i,d),R),s.e.prev=t&&t.e,s.e.next=l&&l.e,t===null?n.first=s:(t.next=s,t.e.next=s.e),l!==null&&(l.prev=s,l.e.prev=s.e),s}finally{}}function ne(e,n,t){for(var l=e.next?e.next.e.nodes_start:t,r=n?n.e.nodes_start:t,c=e.e.nodes_start;c!==l;){var a=De(c);r.before(c),c=a}}function H(e,n,t){n===null?e.first=t:(n.next=t,n.e.next=t&&t.e),t!==null&&(t.prev=n,t.e.prev=n&&n.e)}function Ze(e,n,t,l){var r=e.__styles??(e.__styles={});r[n]!==t&&(r[n]=t,t==null?e.style.removeProperty(n):e.style.setProperty(n,t,""))}const je=(e,n)=>Math.floor(Math.random()*(n-e+1)+e),en=3,nn=.5,tn=e=>e.colorIndex!==0,fe=()=>{const e=[[]];for(let n=0;n<de.v;n++){e[n]=[];for(let t=0;t<ue.v;t++)e[n][t]={colorIndex:0,Xed:!1}}return e},sn=()=>{for(let e=0;e<S.numRows;e++)for(let n=0;n<S.numColumns;n++)S.v[e][n].colorIndex>Je.v.length-1&&(S.v[e][n].colorIndex=0)},Be=()=>{k.v!==y.v.length-1&&y.v.splice(k.v+1),k.v++,y.v.push(ie(S.v))},ze=()=>{y.reset(),y.v[0]=ie(S.v),k.reset()},rn=()=>{ue.v<1||de.v<1||(S.v=fe(),Pe.v?ze():Be(),Ve.v=!1)},on=e=>{const n=parseInt(e.replace("#",""),16);return[n>>16&255,n>>8&255,n&255]},x=e=>{let n=Le(G(e));return{set v(l){ee(n,G(l))},get v(){return p(n)},reset:()=>ee(n,G(e))}},ce=()=>{const e=x(ve),n=C(()=>e.v.length),t=C(()=>e.v[0].length),l=C(()=>e.v.map(f=>f.map(d=>d.colorIndex))),r=C(()=>{const f=[[]],d=e.v.length,m=e.v[0].length;for(let v=0;v<d;v++){f[v]=[];const o=e.v[v][0],i={colorIndex:o.Xed?-1:o.colorIndex,count:1};for(let s=1;s<m;s++){const g=e.v[v][s-1],I=e.v[v][s];g.colorIndex===I.colorIndex&&g.Xed===I.Xed?i.count++:(f[v].push({...i}),i.colorIndex=I.Xed?-1:I.colorIndex,i.count=1)}f[v].push({...i})}return f}),c=C(()=>p(r).map(f=>f.filter(d=>d.colorIndex!==0&&d.colorIndex!==-1))),a=C(()=>{const f=[[]],d=e.v.length,m=e.v[0].length;for(let v=0;v<m;v++){f[v]=[];const o=e.v[0][v],i={colorIndex:o.Xed?-1:o.colorIndex,count:1};for(let s=1;s<d;s++){const g=e.v[s-1][v],I=e.v[s][v];g.colorIndex===I.colorIndex&&g.Xed===I.Xed?i.count++:(f[v].push({...i}),i.colorIndex=I.Xed?-1:I.colorIndex,i.count=1)}f[v].push({...i})}return f}),_=C(()=>p(a).map(f=>f.filter(d=>d.colorIndex!==0&&d.colorIndex!==-1)));return{get columnEncodes(){return p(a)},get colorIndices(){return p(l)},get columnHints(){return p(_)},get rowEncodes(){return p(r)},get numColumns(){return p(t)},get rowHints(){return p(c)},set v(f){e.v=f},get numRows(){return p(n)},get v(){return e.v},reset:e.reset}},an=x("#476fb8"),Je=x(["#f8fafc","#020617"]),ln=x(1),ue=x(5),de=x(5),ve=fe(),S=ce(),B=ce(),y=x([ve]),k=x(0),Pe=x(!1),fn=x({colorIndex:-1,column:-1,Xed:!1,row:-1}),cn=x(1),un=x(!1),Ve=x(!1),dn=x(!1),vn=x(!1),hn=x(!1),mn=x(!1),he=C(()=>{const e=[];let n=!0;const t=S.numRows,l=S.numColumns;for(let r=0;r<t;r++)for(let c=0;c<l;c++)B.v[r]&&B.v[r][c]&&B.v[r][c].colorIndex!==S.v[r][c].colorIndex&&(e.push({column:c,row:r}),n=!1);return{differentTiles:e,isWin:n}}),Ye=C(()=>p(he).differentTiles),$e=C(()=>p(he).isWin),_n=()=>p(Ye),In=()=>p($e);export{fn as A,vn as B,Ve as C,tn as D,k as E,y as F,ie as G,en as M,Pe as a,an as b,S as c,ue as d,Qe as e,de as f,je as g,on as h,Ke as i,Je as j,ln as k,fe as l,Be as m,rn as n,sn as o,In as p,_n as q,ze as r,Ze as s,B as t,hn as u,mn as v,nn as w,cn as x,un as y,dn as z};
