import{R as ie,n as fe,T as ee,x as N,q as R,V as de,v as ue,g as X,W as ve,H as Ie,w as Z,y as D,C as A,X as xe,z as ne,A as se,B as he,Y as W,Z as re,_ as me,j as F,$ as L,a0 as J,a1 as P,a2 as _e,d as K,a3 as Xe,a4 as pe,a5 as ge,a6 as Te,a7 as we,a8 as Ee,a9 as Ce,m as He,aa as Re,h as Q,P as E}from"./B7cm8bZ7.js";import{p as k}from"./PUcuCr2T.js";function We(o,e){return e}function ye(o,e,r,f){for(var l=[],i=e.length,v=0;v<i;v++)pe(e[v].e,l,!0);var m=i>0&&l.length===0&&r!==null;if(m){var g=r.parentNode;ge(g),g.append(r),f.clear(),H(o,e[0].prev,e[i-1].next)}Te(l,()=>{for(var t=0;t<i;t++){var a=e[t];m||(f.delete(a.k),H(o,a.prev,a.next)),we(a.e,!m)}})}function ke(o,e,r,f,l,i=null){var v=o,m={items:new Map,first:null},g=(e&ee)!==0;if(g){var t=o;v=R?N(de(t)):t.appendChild(ie())}R&&ue();var a=null,T=!1,n=ve(()=>{var d=r();return He(d)?d:d==null?[]:re(d)});fe(()=>{var d=X(n),s=d.length;if(T&&s===0)return;T=s===0;let x=!1;if(R){var h=v.data===Ie;h!==(s===0)&&(v=Z(),N(v),D(!1),x=!0)}if(R){for(var I=null,w,p=0;p<s;p++){if(A.nodeType===8&&A.data===xe){v=A,x=!0,D(!1);break}var c=d[p],u=f(c,p);w=oe(A,m,I,null,c,u,p,l,e,r),m.items.set(u,w),I=w}s>0&&N(Z())}R||Ae(d,m,v,l,e,f,r),i!==null&&(s===0?a?ne(a):a=se(()=>i(v)):a!==null&&he(a,()=>{a=null})),x&&D(!0),X(n)}),R&&(v=A)}function Ae(o,e,r,f,l,i,v){var $,B,z,G;var m=(l&Xe)!==0,g=(l&(L|P))!==0,t=o.length,a=e.items,T=e.first,n=T,d,s=null,x,h=[],I=[],w,p,c,u;if(m)for(u=0;u<t;u+=1)w=o[u],p=i(w,u),c=a.get(p),c!==void 0&&(($=c.a)==null||$.measure(),(x??(x=new Set)).add(c));for(u=0;u<t;u+=1){if(w=o[u],p=i(w,u),c=a.get(p),c===void 0){var ae=n?n.e.nodes_start:r;s=oe(ae,e,s,s===null?e.first:s.next,w,p,u,f,l,v),a.set(p,s),h=[],I=[],n=s.next;continue}if(g&&Se(c,w,u,l),c.e.f&W&&(ne(c.e),m&&((B=c.a)==null||B.unfix(),(x??(x=new Set)).delete(c))),c!==n){if(d!==void 0&&d.has(c)){if(h.length<I.length){var S=I[0],C;s=S.prev;var Y=h[0],b=h[h.length-1];for(C=0;C<h.length;C+=1)j(h[C],S,r);for(C=0;C<I.length;C+=1)d.delete(I[C]);H(e,Y.prev,b.next),H(e,s,Y),H(e,b,S),n=S,s=b,u-=1,h=[],I=[]}else d.delete(c),j(c,n,r),H(e,c.prev,c.next),H(e,c,s===null?e.first:s.next),H(e,s,c),s=c;continue}for(h=[],I=[];n!==null&&n.k!==p;)n.e.f&W||(d??(d=new Set)).add(n),I.push(n),n=n.next;if(n===null)continue;c=n}h.push(c),s=c,n=c.next}if(n!==null||d!==void 0){for(var y=d===void 0?[]:re(d);n!==null;)n.e.f&W||y.push(n),n=n.next;var M=y.length;if(M>0){var ce=l&ee&&t===0?r:null;if(m){for(u=0;u<M;u+=1)(z=y[u].a)==null||z.measure();for(u=0;u<M;u+=1)(G=y[u].a)==null||G.fix()}ye(e,y,ce,a)}}m&&me(()=>{var U;if(x!==void 0)for(c of x)(U=c.a)==null||U.apply()}),F.first=e.first&&e.first.e,F.last=s&&s.e}function Se(o,e,r,f){f&L&&J(o.v,e),f&P?J(o.i,r):o.i=r}function oe(o,e,r,f,l,i,v,m,g,t){var a=(g&L)!==0,T=(g&Ee)===0,n=a?T?_e(l):K(l):l,d=g&P?K(v):v,s={i:d,v:n,k:i,a:null,e:null,prev:r,next:f};try{return s.e=se(()=>m(o,n,d,t),R),s.e.prev=r&&r.e,s.e.next=f&&f.e,r===null?e.first=s:(r.next=s,r.e.next=s.e),f!==null&&(f.prev=s,f.e.prev=s.e),s}finally{}}function j(o,e,r){for(var f=o.next?o.next.e.nodes_start:r,l=e?e.e.nodes_start:r,i=o.e.nodes_start;i!==f;){var v=Ce(i);l.before(i),i=v}}function H(o,e,r){e===null?o.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}function Oe(o,e,r,f){var l=o.__styles??(o.__styles={});l[e]!==r&&(l[e]=r,r==null?o.style.removeProperty(e):o.style.setProperty(e,r,""))}const qe=(o,e)=>Math.floor(Math.random()*(e-o+1)+o),_=o=>{let e=Re(k(o));return{set v(f){Q(e,k(f))},get v(){return X(e)},reset:()=>Q(e,k(o))}},le=o=>{const e=_(o),r=E(()=>e.v.length),f=E(()=>e.v[0].length),l=E(()=>e.v.map(t=>t.map(a=>a.colorIndex))),i=E(()=>{const t=[[]],a=e.v.length,T=e.v[0].length;for(let n=0;n<a;n++){t[n]=[];const d=e.v[n][0],s={colorIndex:d.Xed?-1:d.colorIndex,count:1};for(let x=1;x<T;x++){const h=e.v[n][x-1],I=e.v[n][x];h.colorIndex===I.colorIndex&&h.Xed===I.Xed?s.count++:(t[n].push({...s}),s.colorIndex=I.Xed?-1:I.colorIndex,s.count=1)}t[n].push({...s})}return t}),v=E(()=>X(i).map(t=>t.filter(a=>a.colorIndex!==0&&a.colorIndex!==-1))),m=E(()=>{const t=[[]],a=e.v.length,T=e.v[0].length;for(let n=0;n<T;n++){t[n]=[];const d=e.v[0][n],s={colorIndex:d.Xed?-1:d.colorIndex,count:1};for(let x=1;x<a;x++){const h=e.v[x-1][n],I=e.v[x][n];h.colorIndex===I.colorIndex&&h.Xed===I.Xed?s.count++:(t[n].push({...s}),s.colorIndex=I.Xed?-1:I.colorIndex,s.count=1)}t[n].push({...s})}return t}),g=E(()=>X(m).map(t=>t.filter(a=>a.colorIndex!==0&&a.colorIndex!==-1)));return{get columnEncodes(){return X(m)},get colorIndices(){return X(l)},get columnHints(){return X(g)},get rowEncodes(){return X(i)},get numColumns(){return X(f)},get rowHints(){return X(v)},set v(t){e.v=t},get numRows(){return X(r)},get v(){return e.v},reset:e.reset}},Le=_("#476fb8"),Pe=_(["#f8fafc","#020617"]),Ve=_(1),V=[[{colorIndex:0,Xed:!1},{colorIndex:0,Xed:!1},{colorIndex:0,Xed:!1},{colorIndex:0,Xed:!1},{colorIndex:0,Xed:!1}],[{colorIndex:0,Xed:!1},{colorIndex:0,Xed:!1},{colorIndex:0,Xed:!1},{colorIndex:0,Xed:!1},{colorIndex:0,Xed:!1}],[{colorIndex:0,Xed:!1},{colorIndex:0,Xed:!1},{colorIndex:0,Xed:!1},{colorIndex:0,Xed:!1},{colorIndex:0,Xed:!1}],[{colorIndex:0,Xed:!1},{colorIndex:0,Xed:!1},{colorIndex:0,Xed:!1},{colorIndex:0,Xed:!1},{colorIndex:0,Xed:!1}],[{colorIndex:0,Xed:!1},{colorIndex:0,Xed:!1},{colorIndex:0,Xed:!1},{colorIndex:0,Xed:!1},{colorIndex:0,Xed:!1}]],Ye=_(5),$e=_(5),O=le(V),q=le(V),Be=_([V]),ze=_(0),Ge=_(!1),Ue=_({colorIndex:-1,column:-1,Xed:!1,row:-1}),Ze=_(1),Fe=_(!1),Je=_(!1),Ke=_(!1),Qe=_(!1),je=_(!1),en=_(!1),te=E(()=>{const o=[];let e=!0;const r=O.numRows,f=O.numColumns;for(let l=0;l<r;l++)for(let i=0;i<f;i++)q.v[l]&&q.v[l][i]&&q.v[l][i].colorIndex!==O.v[l][i].colorIndex&&(o.push({column:i,row:l}),e=!1);return{differentTiles:o,isWin:e}}),be=E(()=>X(te).differentTiles),Me=E(()=>X(te).isWin),nn=()=>X(be),sn=()=>X(Me);export{ze as a,Le as b,Pe as c,Be as d,ke as e,Ye as f,qe as g,$e as h,We as i,Ve as j,Je as k,Ge as l,q as m,sn as n,nn as o,je as p,en as q,Ze as r,Oe as s,O as t,Fe as u,Ke as v,Ue as w,Qe as x};
