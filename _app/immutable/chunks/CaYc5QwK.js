import{x as re,w as _e,o as Ie,N as xe,b as pe,ad as oe,e as L,h as R,K as ge,a as Te,n as p,ac as we,H as Ee,d as Q,f as W,j as M,a4 as Ce,g as ie,i as ae,p as Se,ae as q,a8 as le,_ as Ae,u as Z,af as P,ag as ee,ah as V,ai as He,l as ne,aj as Re,ak as be,a7 as Me,al as Xe,ab as ye,am as Ne,a2 as De,an as ke,q as te,G as S}from"./BMllRh0k.js";import{p as G}from"./zVeqNCes.js";const Oe=[];function fe(e,n=!1){return N(e,new Map,"",Oe)}function N(e,n,t,r,o=null){if(typeof e=="object"&&e!==null){var c=n.get(e);if(c!==void 0)return c;if(e instanceof Map)return new Map(e);if(e instanceof Set)return new Set(e);if(re(e)){var a=Array(e.length);n.set(e,a),o!==null&&n.set(o,a);for(var _=0;_<e.length;_+=1){var f=e[_];_ in e&&(a[_]=N(f,n,t,r))}return a}if(_e(e)===Ie){a={},n.set(e,a),o!==null&&n.set(o,a);for(var d in e)a[d]=N(e[d],n,t,r);return a}if(e instanceof Date)return structuredClone(e);if(typeof e.toJSON=="function")return N(e.toJSON(),n,t,r,e)}if(e instanceof EventTarget)return e;try{return structuredClone(e)}catch{return e}}function Ue(e,n){return n}function Le(e,n,t,r){for(var o=[],c=n.length,a=0;a<c;a++)be(n[a].e,o,!0);var _=c>0&&o.length===0&&t!==null;if(_){var f=t.parentNode;Me(f),f.append(t),r.clear(),H(e,n[0].prev,n[c-1].next)}Xe(o,()=>{for(var d=0;d<c;d++){var m=n[d];_||(r.delete(m.k),H(e,m.prev,m.next)),ye(m.e,!_)}})}function je(e,n,t,r,o,c=null){var a=e,_={items:new Map,first:null},f=(n&oe)!==0;if(f){var d=e;a=R?L(ge(d)):d.appendChild(xe())}R&&Te();var m=null,v=!1,i=we(()=>{var l=t();return re(l)?l:l==null?[]:le(l)});pe(()=>{var l=p(i),s=l.length;if(v&&s===0)return;v=s===0;let g=!1;if(R){var I=a.data===Ee;I!==(s===0)&&(a=Q(),L(a),W(!1),g=!0)}if(R){for(var w=null,C,T=0;T<s;T++){if(M.nodeType===8&&M.data===Ce){a=M,g=!0,W(!1);break}var u=l[T],h=r(u,T);C=ce(M,_,w,null,u,h,T,o,n,t),_.items.set(h,C),w=C}s>0&&L(Q())}R||We(l,_,a,o,n,r,t),c!==null&&(s===0?m?ie(m):m=ae(()=>c(a)):m!==null&&Se(m,()=>{m=null})),g&&W(!0),p(i)}),R&&(a=M)}function We(e,n,t,r,o,c,a){var $,F,K,U;var _=(o&Re)!==0,f=(o&(P|V))!==0,d=e.length,m=n.items,v=n.first,i=v,l,s=null,g,I=[],w=[],C,T,u,h;if(_)for(h=0;h<d;h+=1)C=e[h],T=c(C,h),u=m.get(T),u!==void 0&&(($=u.a)==null||$.measure(),(g??(g=new Set)).add(u));for(h=0;h<d;h+=1){if(C=e[h],T=c(C,h),u=m.get(T),u===void 0){var he=i?i.e.nodes_start:t;s=ce(he,n,s,s===null?n.first:s.next,C,T,h,r,o,a),m.set(T,s),I=[],w=[],i=s.next;continue}if(f&&qe(u,C,h,o),u.e.f&q&&(ie(u.e),_&&((F=u.a)==null||F.unfix(),(g??(g=new Set)).delete(u))),u!==i){if(l!==void 0&&l.has(u)){if(I.length<w.length){var y=w[0],A;s=y.prev;var Y=I[0],k=I[I.length-1];for(A=0;A<I.length;A+=1)se(I[A],y,t);for(A=0;A<w.length;A+=1)l.delete(w[A]);H(n,Y.prev,k.next),H(n,s,Y),H(n,k,y),i=y,s=k,h-=1,I=[],w=[]}else l.delete(u),se(u,i,t),H(n,u.prev,u.next),H(n,u,s===null?n.first:s.next),H(n,s,u),s=u;continue}for(I=[],w=[];i!==null&&i.k!==T;)i.e.f&q||(l??(l=new Set)).add(i),w.push(i),i=i.next;if(i===null)continue;u=i}I.push(u),s=u,i=u.next}if(i!==null||l!==void 0){for(var b=l===void 0?[]:le(l);i!==null;)i.e.f&q||b.push(i),i=i.next;var O=b.length;if(O>0){var me=o&oe&&d===0?t:null;if(_){for(h=0;h<O;h+=1)(K=b[h].a)==null||K.measure();for(h=0;h<O;h+=1)(U=b[h].a)==null||U.fix()}Le(n,b,me,m)}}_&&Ae(()=>{var j;if(g!==void 0)for(u of g)(j=u.a)==null||j.apply()}),Z.first=n.first&&n.first.e,Z.last=s&&s.e}function qe(e,n,t,r){r&P&&ee(e.v,n),r&V?ee(e.i,t):e.i=t}function ce(e,n,t,r,o,c,a,_,f,d){var m=(f&P)!==0,v=(f&Ne)===0,i=m?v?He(o):ne(o):o,l=f&V?ne(a):a,s={i:l,v:i,k:c,a:null,e:null,prev:t,next:r};try{return s.e=ae(()=>_(e,i,l,d),R),s.e.prev=t&&t.e,s.e.next=r&&r.e,t===null?n.first=s:(t.next=s,t.e.next=s.e),r!==null&&(r.prev=s,r.e.prev=s.e),s}finally{}}function se(e,n,t){for(var r=e.next?e.next.e.nodes_start:t,o=n?n.e.nodes_start:t,c=e.e.nodes_start;c!==r;){var a=De(c);o.before(c),c=a}}function H(e,n,t){n===null?e.first=t:(n.next=t,n.e.next=t&&t.e),t!==null&&(t.prev=n,t.e.prev=n&&n.e)}function Qe(e,n,t,r){var o=e.__styles??(e.__styles={});o[n]!==t&&(o[n]=t,t==null?e.style.removeProperty(n):e.style.setProperty(n,t,""))}const Ze=(e,n)=>Math.floor(Math.random()*(n-e+1)+e),en=3,nn=.5,tn=e=>e.colorIndex!==0,Ge=()=>{const e=[[]];for(let n=0;n<J.v;n++){e[n]=[];for(let t=0;t<z.v;t++)e[n][t]={colorIndex:0,Xed:!1}}return e},sn=()=>{for(let e=0;e<E.numRows;e++)for(let n=0;n<E.numColumns;n++)E.v[e][n].colorIndex>Je.v.length-1&&(E.v[e][n].colorIndex=0)},Be=()=>{D.v!==X.v.length-1&&X.v.splice(D.v+1),D.v++,X.v.push(fe(E.v))},ze=()=>{X.reset(),X.v[0]=fe(E.v),D.reset()},rn=()=>{if(z.v<1||J.v<1)return;const e=E.v,n=[[]];for(let t=0;t<J.v;t++){n[t]=[];for(let r=0;r<z.v;r++)e&&e[t]&&e[t][r]?n[t][r]={...e[t][r]}:n[t][r]={colorIndex:0,Xed:!1}}E.v=n,Pe.v?ze():Be(),Ve.v=!1},on=e=>{const n=parseInt(e.replace("#",""),16);return[n>>16&255,n>>8&255,n&255]},x=e=>{let n=ke(G(e));return{set v(r){te(n,G(r))},get v(){return p(n)},reset:()=>te(n,G(e))}},ue=()=>{const e=x(de),n=S(()=>e.v.length),t=S(()=>e.v[0].length),r=S(()=>e.v.map(f=>f.map(d=>d.colorIndex))),o=S(()=>{const f=[[]],d=e.v.length,m=e.v[0].length;for(let v=0;v<d;v++){f[v]=[];const i=e.v[v][0],l={colorIndex:i.Xed?-1:i.colorIndex,count:1};for(let s=1;s<m;s++){const g=e.v[v][s-1],I=e.v[v][s];g.colorIndex===I.colorIndex&&g.Xed===I.Xed?l.count++:(f[v].push({...l}),l.colorIndex=I.Xed?-1:I.colorIndex,l.count=1)}f[v].push({...l})}return f}),c=S(()=>p(o).map(f=>f.filter(d=>d.colorIndex!==0&&d.colorIndex!==-1))),a=S(()=>{const f=[[]],d=e.v.length,m=e.v[0].length;for(let v=0;v<m;v++){f[v]=[];const i=e.v[0][v],l={colorIndex:i.Xed?-1:i.colorIndex,count:1};for(let s=1;s<d;s++){const g=e.v[s-1][v],I=e.v[s][v];g.colorIndex===I.colorIndex&&g.Xed===I.Xed?l.count++:(f[v].push({...l}),l.colorIndex=I.Xed?-1:I.colorIndex,l.count=1)}f[v].push({...l})}return f}),_=S(()=>p(a).map(f=>f.filter(d=>d.colorIndex!==0&&d.colorIndex!==-1)));return{get columnEncodes(){return p(a)},get colorIndices(){return p(r)},get columnHints(){return p(_)},get rowEncodes(){return p(o)},get numColumns(){return p(t)},get rowHints(){return p(c)},set v(f){e.v=f},get numRows(){return p(n)},get v(){return e.v},reset:e.reset}},an=x("#476fb8"),Je=x(["#f8fafc","#020617"]),ln=x(1),z=x(5),J=x(5),de=Ge(),E=ue(),B=ue(),X=x([de]),D=x(0),Pe=x(!1),fn=x({colorIndex:-1,column:-1,Xed:!1,row:-1}),cn=x(1),un=x(!1),Ve=x(!1),dn=x(!1),vn=x(!1),hn=x(!1),mn=x(!1),ve=S(()=>{const e=[];let n=!0;const t=E.numRows,r=E.numColumns;for(let o=0;o<t;o++)for(let c=0;c<r;c++)B.v[o]&&B.v[o][c]&&B.v[o][c].colorIndex!==E.v[o][c].colorIndex&&(e.push({column:c,row:o}),n=!1);return{differentTiles:e,isWin:n}}),Ye=S(()=>p(ve).differentTiles),$e=S(()=>p(ve).isWin),_n=()=>p(Ye),In=()=>p($e);export{fn as A,vn as B,Ve as C,tn as D,D as E,X as F,fe as G,en as M,Pe as a,an as b,E as c,z as d,je as e,J as f,Ze as g,Be as h,Ue as i,on as j,Je as k,ln as l,Ge as m,rn as n,sn as o,In as p,_n as q,ze as r,Qe as s,B as t,hn as u,mn as v,nn as w,cn as x,un as y,dn as z};
