import{c as mr,a as A,t as M}from"../chunks/disclose-version.BFyFZ1Tk.js";import{v as rr,q as Ht,o as gr,R as wr,w as xr,at as nr,A as le,D as wt,B as br,a9 as or,H as yr,C as Ut,F as xt,G as et,au as lt,x as sr,y as ar,z as kr,_ as dt,k as ht,av as Yt,aw as Wt,ax as zt,ay as Ir,a8 as $r,az as Tr,Q as Er,T as Cr,a5 as Xr,Z as ir,aA as Sr,m as Ar,h as Rt,aB as Mr,a2 as Hr,ab as lr,u as cr,aC as Rr,aD as Nr,aE as Lr,E as Dr,aF as Or,aG as qr,aH as Pr,n as tt,aI as Yr,X as Jt,Y as Vt,aJ as zr,ac as pt,b as Br,d as U,g as b,ar as ne,O as B,p as Q,f as Je,a as j,c as q,s as L,r as D,J as Ge,aK as Nt,aL as fe,t as V,aM as Fr}from"../chunks/runtime.kwFfegih.js";import{a as Gr,b as Ur,l as _t,d as ue,e as te,s as Lt,c as Wr}from"../chunks/render.DZPyI7WY.js";import{a as Jr,p as xe,i as oe}from"../chunks/if.QfZRQiwm.js";import{i as de}from"../chunks/legacy.BZr0P_gC.js";const Vr=[];function mt(e,t=!1){return ct(e,new Map,"",Vr)}function ct(e,t,r,n,o=null){if(typeof e=="object"&&e!==null){const s=t.get(e);if(s!==void 0)return s;if(e instanceof Map)return new Map(e);if(e instanceof Set)return new Set(e);if(rr(e)){const f=[];t.set(e,f),o!==null&&t.set(o,f);for(let d=0;d<e.length;d+=1)f.push(ct(e[d],t,r,n));return f}if(Ht(e)===gr){const f={};t.set(e,f),o!==null&&t.set(o,f);for(var v in e)f[v]=ct(e[v],t,r,n);return f}if(e instanceof Date)return structuredClone(e);if(typeof e.toJSON=="function")return ct(e.toJSON(),t,r,n,e)}if(e instanceof EventTarget)return e;try{return structuredClone(e)}catch{return e}}function Ce(e,t){return t}function Kr(e,t,r,n){for(var o=[],v=t.length,s=0;s<v;s++)Ir(t[s].e,o,!0);var f=v>0&&o.length===0&&r!==null;if(f){var d=r.parentNode;$r(d),d.append(r),n.clear(),Te(e,t[0].prev,t[v-1].next)}Tr(o,()=>{for(var a=0;a<v;a++){var l=t[a];f||(n.delete(l.k),Te(e,l.prev,l.next)),Er(l.e,!f)}})}function Xe(e,t,r,n,o,v=null){var s=e,f={flags:t,items:new Map,first:null},d=(t&nr)!==0;if(d){var a=e;s=le?wt(Cr(a)):a.appendChild(wr())}le&&br();var l=null,p=!1;xr(()=>{var i=r(),h=rr(i)?i:i==null?[]:or(i),c=h.length;if(p&&c===0)return;p=c===0;let m=!1;if(le){var g=s.data===yr;g!==(c===0)&&(s=Ut(),wt(s),xt(!1),m=!0)}if(le){for(var w=null,C,$=0;$<c;$++){if(et.nodeType===8&&et.data===Xr){s=et,m=!0,xt(!1);break}var k=h[$],N=n(k,$);C=vr(et,f,w,null,k,N,$,o,t),f.items.set(N,C),w=C}c>0&&wt(Ut())}if(!le){var ae=ir;Zr(h,f,s,o,t,(ae.f&lt)!==0,n)}v!==null&&(c===0?l?sr(l):l=ar(()=>v(s)):l!==null&&kr(l,()=>{l=null})),m&&xt(!0),r()}),le&&(s=et)}function Zr(e,t,r,n,o,v,s){var Pe,ye,Ne,je;var f=(o&Sr)!==0,d=(o&(Yt|zt))!==0,a=e.length,l=t.items,p=t.first,i=p,h,c=null,m,g=[],w=[],C,$,k,N;if(f)for(N=0;N<a;N+=1)C=e[N],$=s(C,N),k=l.get($),k!==void 0&&((Pe=k.a)==null||Pe.measure(),(m??(m=new Set)).add(k));for(N=0;N<a;N+=1){if(C=e[N],$=s(C,N),k=l.get($),k===void 0){var ae=i?i.e.nodes_start:r;c=vr(ae,t,c,c===null?t.first:c.next,C,$,N,n,o),l.set($,c),g=[],w=[],i=c.next;continue}if(d&&Qr(k,C,N,o),k.e.f&lt&&(sr(k.e),f&&((ye=k.a)==null||ye.unfix(),(m??(m=new Set)).delete(k))),k!==i){if(h!==void 0&&h.has(k)){if(g.length<w.length){var re=w[0],G;c=re.prev;var he=g[0],ie=g[g.length-1];for(G=0;G<g.length;G+=1)Kt(g[G],re,r);for(G=0;G<w.length;G+=1)h.delete(w[G]);Te(t,he.prev,ie.next),Te(t,c,he),Te(t,ie,re),i=re,c=ie,N-=1,g=[],w=[]}else h.delete(k),Kt(k,i,r),Te(t,k.prev,k.next),Te(t,k,c===null?t.first:c.next),Te(t,c,k),c=k;continue}for(g=[],w=[];i!==null&&i.k!==$;)(v||!(i.e.f&lt))&&(h??(h=new Set)).add(i),w.push(i),i=i.next;if(i===null)continue;k=i}g.push(k),c=k,i=k.next}if(i!==null||h!==void 0){for(var ve=h===void 0?[]:or(h);i!==null;)(v||!(i.e.f&lt))&&ve.push(i),i=i.next;var Re=ve.length;if(Re>0){var Qe=o&nr&&a===0?r:null;if(f){for(N=0;N<Re;N+=1)(Ne=ve[N].a)==null||Ne.measure();for(N=0;N<Re;N+=1)(je=ve[N].a)==null||je.fix()}Kr(t,ve,Qe,l)}}f&&dt(()=>{var u;if(m!==void 0)for(k of m)(u=k.a)==null||u.apply()}),ht.first=t.first&&t.first.e,ht.last=c&&c.e}function Qr(e,t,r,n){n&Yt&&Wt(e.v,t),n&zt?Wt(e.i,r):e.i=r}function vr(e,t,r,n,o,v,s,f,d){var a=(d&Yt)!==0,l=(d&Mr)===0,p=a?l?Ar(o):Rt(o):o,i=d&zt?Rt(s):s,h={i,v:p,k:v,a:null,e:null,prev:r,next:n};try{return h.e=ar(()=>f(e,p,i),le),h.e.prev=r&&r.e,h.e.next=n&&n.e,r===null?t.first=h:(r.next=h,r.e.next=h.e),n!==null&&(n.prev=h,n.e.prev=h.e),h}finally{}}function Kt(e,t,r){for(var n=e.next?e.next.e.nodes_start:r,o=t?t.e.nodes_start:r,v=e.e.nodes_start;v!==n;){var s=Hr(v);o.before(v),v=s}}function Te(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function fr(e,t,r){lr(()=>{var n=cr(()=>t(e,r==null?void 0:r())||{});if(n!=null&&n.destroy)return()=>n.destroy()})}function se(e){if(le){var t=!1,r=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var n=e.value;Ve(e,"value",null),e.value=n}if(e.hasAttribute("checked")){var o=e.checked;Ve(e,"checked",null),e.checked=o}}};e.__on_r=r,Lr(r),Gr()}}function Ve(e,t,r,n){var o=e.__attributes??(e.__attributes={});le&&(o[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||o[t]!==(o[t]=r)&&(t==="style"&&"__styles"in e&&(e.__styles={}),t==="loading"&&(e[Rr]=r),r==null?e.removeAttribute(t):typeof r!="string"&&jr(e).includes(t)?e[t]=r:e.setAttribute(t,r))}var Zt=new Map;function jr(e){var t=Zt.get(e.nodeName);if(t)return t;Zt.set(e.nodeName,t=[]);for(var r,n=Ht(e),o=Element.prototype;o!==n;){r=Nr(n);for(var v in r)r[v].set&&t.push(v);n=Ht(n)}return t}function T(e,t,r,n){var o=e.__styles??(e.__styles={});o[t]!==r&&(o[t]=r,r==null?e.style.removeProperty(t):e.style.setProperty(t,r,""))}const en=()=>performance.now(),Se={tick:e=>requestAnimationFrame(e),now:()=>en(),tasks:new Set};function ur(e){Se.tasks.forEach(t=>{t.c(e)||(Se.tasks.delete(t),t.f())}),Se.tasks.size!==0&&Se.tick(ur)}function tn(e){let t;return Se.tasks.size===0&&Se.tick(ur),{promise:new Promise(r=>{Se.tasks.add(t={c:e,f:r})}),abort(){Se.tasks.delete(t)}}}function ot(e,t){e.dispatchEvent(new CustomEvent(t))}function rn(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function Qt(e){const t={},r=e.split(";");for(const n of r){const[o,v]=n.split(":");if(!o||v===void 0)break;const s=rn(o.trim());t[s]=v.trim()}return t}const nn=e=>e;function on(e,t,r,n){var o=(e&Yr)!==0,v="both",s,f=t.inert,d,a;function l(){var m=ir,g=ht;Jt(null),Vt(null);try{return s??(s=r()(t,(n==null?void 0:n())??{},{direction:v}))}finally{Jt(m),Vt(g)}}var p={is_global:o,in(){t.inert=f,ot(t,"introstart"),d=Dt(t,l(),a,1,()=>{ot(t,"introend"),d==null||d.abort(),d=s=void 0})},out(m){t.inert=!0,ot(t,"outrostart"),a=Dt(t,l(),d,0,()=>{ot(t,"outroend"),m==null||m()})},stop:()=>{d==null||d.abort(),a==null||a.abort()}},i=ht;if((i.transitions??(i.transitions=[])).push(p),Ur){var h=o;if(!h){for(var c=i.parent;c&&c.f&Dr;)for(;(c=c.parent)&&!(c.f&Or););h=!c||(c.f&qr)!==0}h&&lr(()=>{cr(()=>p.in())})}}function Dt(e,t,r,n,o){var v=n===1;if(Pr(t)){var s,f=!1;return dt(()=>{if(!f){var g=t({direction:v?"in":"out"});s=Dt(e,g,r,n,o)}}),{abort:()=>{f=!0,s==null||s.abort()},deactivate:()=>s.deactivate(),reset:()=>s.reset(),t:()=>s.t()}}if(r==null||r.deactivate(),!(t!=null&&t.duration))return o(),{abort:tt,deactivate:tt,reset:tt,t:()=>n};const{delay:d=0,css:a,tick:l,easing:p=nn}=t;var i=[];if(v&&r===void 0&&(l&&l(0,1),a)){var h=Qt(a(0,1));i.push(h,h)}var c=()=>1-n,m=e.animate(i,{duration:d});return m.onfinish=()=>{var g=(r==null?void 0:r.t())??1-n;r==null||r.abort();var w=n-g,C=t.duration*Math.abs(w),$=[];if(C>0){if(a)for(var k=Math.ceil(C/16.666666666666668),N=0;N<=k;N+=1){var ae=g+w*p(N/k),re=a(ae,1-ae);$.push(Qt(re))}c=()=>{var G=m.currentTime;return g+w*p(G/C)},l&&tn(()=>{if(m.playState!=="running")return!1;var G=c();return l(G,1-G),!0})}m=e.animate($,{duration:C,fill:"forwards"}),m.onfinish=()=>{c=()=>n,l==null||l(n,1-n),o()}},{abort:()=>{m&&(m.cancel(),m.effect=null,m.onfinish=tt)},deactivate:()=>{o=tt},reset:()=>{n===0&&(l==null||l(1,0))},t:()=>c()}}function Ke(e,t,r=t){var n=zr();_t(e,"input",()=>{var o=kt(e)?It(e.value):e.value;r(o),n&&o!==(o=t())&&(e.value=o??"")}),pt(()=>{var o=t();if(le&&e.defaultValue!==e.value){r(kt(e)?It(e.value):e.value);return}kt(e)&&o===It(e.value)||e.type==="date"&&!o&&!e.value||o!==e.value&&(e.value=o??"")})}const bt=new Set;function yt(e,t,r,n,o=n){var v=r.getAttribute("type")==="checkbox",s=e;let f=!1;if(t!==null)for(var d of t)s=s[d]??(s[d]=[]);s.push(r),_t(r,"change",()=>{var a=r.__value;v&&(a=jt(s,a,r.checked)),o(a)},()=>o(v?[]:null)),pt(()=>{var a=n();if(le&&r.defaultChecked!==r.checked){f=!0;return}v?(a=a||[],r.checked=a.includes(r.__value)):r.checked=Jr(r.__value,a)}),Br(()=>{var a=s.indexOf(r);a!==-1&&s.splice(a,1)}),bt.has(s)||(bt.add(s),dt(()=>{s.sort((a,l)=>a.compareDocumentPosition(l)===4?-1:1),bt.delete(s)})),dt(()=>{if(f){var a;if(v)a=jt(s,a,r.checked);else{var l=s.find(p=>p.checked);a=l==null?void 0:l.__value}o(a)}})}function Ot(e,t,r=t){_t(e,"change",()=>{var n=e.checked;r(n)}),t()==null&&r(!1),pt(()=>{var n=t();e.checked=!!n})}function jt(e,t,r){for(var n=new Set,o=0;o<e.length;o+=1)e[o].checked&&n.add(e[o].__value);return r||n.delete(t),Array.from(n)}function kt(e){var t=e.type;return t==="number"||t==="range"}function It(e){return e===""?null:+e}function sn(e,t,r=t){_t(e,"change",()=>{r(e.files)}),pt(()=>{e.files=t()})}function K(e){var t=Rt(0);return function(){return arguments.length===1?(U(t,b(t)+1),arguments[0]):(b(t),e())}}const an=!0,ko=Object.freeze(Object.defineProperty({__proto__:null,prerender:an},Symbol.toStringTag,{value:"Module"})),ke=e=>e.colorIndex!==0,Bt=()=>{const e=[[]];for(let t=0;t<Me.v;(t+=1)-1){e[t]=[];for(let r=0;r<Ae.v;(r+=1)-1)e[t][r]={colorIndex:0,Xed:!1}}return e},dr=()=>{for(let e=0;e<I.numRows;(e+=1)-1)for(let t=0;t<I.numColumns;(t+=1)-1)I.v[e][t].colorIndex>O.v.length-1&&(I.v[e][t].colorIndex=0)},Ft=()=>{be.v!==He.v.length-1&&He.v.splice(be.v+1),be.v+=1,He.v.push(mt(I.v))},vt=()=>{Ae.v<1||Me.v<1||(I.v=Bt(),He.reset(),He.v[0]=mt(I.v),be.reset(),Ee.v=!1)},qt=e=>{let t=0;for(let r=0;r<e.length;(r+=1)-1)t*=26,t+=e.charCodeAt(r)-97+1;return t-1},Pt=e=>{const t=parseInt(e.replace("#",""),16);return[t>>16&255,t>>8&255,t&255]},ft=(e,t)=>Math.floor(Math.random()*(t-e+1)+e),st=e=>{let t="";for(;e>=0;)t=String.fromCharCode(e%26+97)+t,e=Math.floor(e/26)-1;return t},F=e=>{let t=ne(xe(e));return{set v(n){U(t,xe(n))},get v(){return b(t)},reset:()=>U(t,xe(e))}},hr=()=>{const e=F(pr),t=B(()=>e.v.length),r=B(()=>e.v[0].length),n=B(()=>e.v.map(a=>a.map(l=>l.colorIndex))),o=B(()=>{const a=[[]],l=e.v.length,p=e.v[0].length;for(let i=0;i<l;(i+=1)-1){a[i]=[];const h=e.v[i][0],c={color:h.Xed?"X":st(h.colorIndex),count:1};for(let m=1;m<p;(m+=1)-1){const g=e.v[i][m-1],w=e.v[i][m];g.colorIndex===w.colorIndex&&g.Xed===w.Xed?c.count+=1:(a[i].push({...c}),c.color=w.Xed?"X":st(w.colorIndex),c.count=1)}a[i].push({...c})}return a}),v=B(()=>b(o).map(a=>a.filter(l=>l.color!=="a"&&l.color!=="X"))),s=B(()=>{const a=[[]],l=e.v.length,p=e.v[0].length;for(let i=0;i<p;(i+=1)-1){a[i]=[];const h=e.v[0][i],c={color:h.Xed?"X":st(h.colorIndex),count:1};for(let m=1;m<l;(m+=1)-1){const g=e.v[m-1][i],w=e.v[m][i];g.colorIndex===w.colorIndex&&g.Xed===w.Xed?c.count+=1:(a[i].push({...c}),c.color=w.Xed?"X":st(w.colorIndex),c.count=1)}a[i].push({...c})}return a}),f=B(()=>b(s).map(a=>a.filter(l=>l.color!=="a"&&l.color!=="X"))),d=B(()=>{let a="",l="",p=0;for(let i=0;i<b(o).length;(i+=1)-1)for(let h=0;h<b(o)[i].length;(h+=1)-1){const c=b(o)[i][h];c.color===l?p+=c.count:(l!==""&&(a+=p+l),l=c.color,p=c.count)}return a+=p+l,a});return{get columnEncodes(){return b(s)},get colorIndices(){return b(n)},get columnHints(){return b(f)},get rowEncodes(){return b(o)},get numColumns(){return b(r)},get rowHints(){return b(v)},set v(a){e.v=a},get encoded(){return b(d)},get numRows(){return b(t)},get v(){return e.v},reset:e.reset}},Ue=F("#476fb8"),O=F(["#f8fafc","#020617"]),qe=F(1),Ae=F(5),Me=F(5),pr=Bt(),I=hr(),ce=hr(),He=F([pr]),be=F(0),Z=F(!1),z=F({colorIndex:-1,column:-1,Xed:!1,row:-1}),we=F(1),nt=F(!1),Y=F(50),We=F(!1),Gt=F(!1),Ee=F(!1),Be=F(!0),Ze=F(!1),Fe=F(!1),ut=F(!1);var Ye=K(()=>Me),ze=K(()=>Ae),$t=K(()=>Z),ln=M("<button>New Editor</button>"),cn=M('<div class="flex"><input class="min-w-0 text-center" type="text"> <input class="min-w-0 text-center" type="text"></div>');function vn(e,t){Q(t,!1);const r=v=>Math.max(0,Number(String(v).replace(/[^0-9]/g,"")));de();var n=mr(),o=Je(n);oe(o,()=>$t().v,v=>{var s=ln();s.__click=()=>{$t($t().v=!1),vt()},A(v,s)},v=>{var s=cn(),f=q(s);se(f),f.__input=()=>{ze(ze().v=r(ze().v)),vt()};var d=L(f,2);se(d),d.__input=()=>{Ye(Ye().v=r(Ye().v)),vt()},D(s),Ke(f,()=>ze().v,a=>ze(ze().v=a)),Ke(d,()=>Ye().v,a=>Ye(Ye().v=a)),A(v,s)}),A(e,n),j()}ue(["click","input"]);const fn=(e,t)=>{t(I.colorIndices,O.v,r=>{const n=document.createElement("a");n.download="shareogram.png",n.href=r,n.click()})};var un=M("<button>Export as PNG</button>");function dn(e,t){Q(t,!1);const r=(o,v,s)=>{const f=o[0].length,d=o.length,a=document.createElement("canvas");a.width=f,a.height=d;const l=a.getContext("2d");if(l){const p=l.createImageData(f,d);for(let h=0;h<d;(h+=1)-1)for(let c=0;c<f;(c+=1)-1){const m=v[o[h][c]],g=Pt(m);if(g){const[w,C,$]=g,k=(h*f+c)*4;p.data[k]=w,p.data[k+1]=C,p.data[k+2]=$,p.data[k+3]=255}}l.putImageData(p,0,0);const i=a.toDataURL("image/png");s(i)}};de();var n=un();n.__click=[fn,r],A(e,n),j()}ue(["click"]);var hn=M('<input class="mx-2" type="range" max="442" min="10">'),pn=M('<input accept="image/png" id="file-upload" type="file" class="svelte-1mz0xx0"> <!>',1);function _n(e,t){Q(t,!0);let r=ne(10),n=ne(void 0);const o=(p,i,h)=>{const[c,m,g]=p,[w,C,$]=i;return Math.sqrt((c-w)**2+(m-C)**2+(g-$)**2)<=h},v=(p,i,h)=>"#"+[p,i,h].map(c=>Math.round(c).toString(16).padStart(2,"0")).join(""),s=(p,i,h)=>{const c=Pt(p);for(let m=0;m<i.length;(m+=1)-1){const g=Pt(i[m]);if(o(c,g,h))return m}return i.push(p),i.length-1},f=(p,i,h)=>{const c=new FileReader;c.onload=m=>{var w;const g=new Image;g.onload=()=>{const C=document.createElement("canvas"),$=C.getContext("2d");if($){C.width=g.width,C.height=g.height,$.drawImage(g,0,0);const k=$.getImageData(0,0,g.width,g.height).data,N=[],ae=[];for(let re=0;re<g.height;(re+=1)-1){const G=[];for(let he=0;he<g.width;(he+=1)-1){const ie=(re*g.width+he)*4,ve=k[ie],Re=k[ie+1],Qe=k[ie+2],ye=k[ie+3]<1?"#ffffff":v(ve,Re,Qe),Ne=s(ye,N,i);G.push(Ne)}ae.push(G)}h(ae,N)}},g.src=(w=m.target)==null?void 0:w.result},c.readAsDataURL(p)};Ge(()=>{b(n)&&f(b(n)[0],b(r),(p,i)=>{Ae.v=p[0].length,Me.v=p.length,O.v=i,qe.v=0,I.v=Bt();for(let h=0;h<I.numRows;(h+=1)-1)for(let c=0;c<I.numColumns;(c+=1)-1)I.v[h][c].colorIndex=p[h][c];Ft()})});var d=pn(),a=Je(d),l=L(a,2);oe(l,()=>b(n),p=>{var i=hn();se(i),Ke(i,()=>b(r),h=>U(r,h)),A(p,i)}),sn(a,()=>b(n),p=>U(n,p)),A(e,d),j()}var Ie=K(()=>nt),Tt=K(()=>qe),Et=K(()=>Ue),$e=K(()=>O),mn=M('<button class="flex-1">-</button>'),gn=M('<!> <button class="flex-1">+</button>',1),wn=M('<input type="color" class="h-8 min-w-12 flex-1 border-0">'),xn=M('<div><div class="flex flex-wrap"><!></div> <div class="flex flex-wrap"><input type="color" class="h-8 min-w-12 flex-1 border-0"> <!></div></div>');function bn(e,t){Q(t,!1);const r=()=>{const l="0123456789abcdef";let p="#";for(let i=0;i<6;(i+=1)-1){const h=Math.floor(Math.random()*l.length);p+=l[h]}return p},n=()=>$e().v.length>2;de();var o=xn(),v=q(o),s=q(v);oe(s,()=>!Z.v,l=>{var p=gn(),i=Je(p);oe(i,n,c=>{var m=mn();m.__click=()=>{$e().v.pop(),Tt().v>$e().v.length-1&&Tt(Tt().v-=1),dr()},A(c,m)});var h=L(i,2);h.__click=()=>{$e().v.push(r())},A(l,p)}),D(v);var f=L(v,2),d=q(f);se(d),d.__change=()=>{Ie(Ie().v=!0)},d.__click=()=>{Ie(Ie().v=!1)};var a=L(d,2);Xe(a,1,()=>$e().v,Ce,(l,p,i)=>{var h=wn();se(h),h.__change=()=>{Ie(Ie().v=!0)},h.__click=()=>{Ie(Ie().v=!1)},Ke(h,()=>$e().v[i],c=>$e($e().v[i]=c)),A(l,h)}),D(f),D(o),Ke(d,()=>Et().v,l=>Et(Et().v=l)),A(e,o),j()}ue(["click","change"]);var Ct=K(()=>Be),yn=M('<div class="flex justify-center border-b-2 border-b-black pb-5"><input type="checkbox" class="svelte-1puqql9"></div>');function kn(e,t){Q(t,!1),de();var r=yn(),n=q(r);se(n),D(r),Ot(n,()=>Ct().v,o=>Ct(Ct().v=o)),A(e,r),j()}var ge=K(()=>we),In=M('<input name="border" type="radio" class="svelte-14k2w4w">'),$n=M('<div class="flex justify-between p-5 accent-black svelte-14k2w4w"><input name="border" type="radio" class="svelte-14k2w4w"> <input name="border" type="radio" class="svelte-14k2w4w"> <!></div>');function Tn(e,t){Q(t,!1);const r=[];de();var n=$n(),o=q(n);se(o),o.value=(o.__value=0)==null?"":0;var v=L(o,2);se(v),v.value=(v.__value=1)==null?"":1;var s=L(v,2);oe(s,()=>Ae.v>5||Me.v>5,f=>{var d=In();se(d),d.value=(d.__value=2)==null?"":2,yt(r,[],d,()=>ge().v,a=>ge(ge().v=a)),A(f,d)}),D(n),yt(r,[],o,()=>ge().v,f=>ge(ge().v=f)),yt(r,[],v,()=>ge().v,f=>ge(ge().v=f)),A(e,n),j()}var En=M("<button>Reveal Tile</button>");function Cn(e,t){Q(t,!0);const r=B(()=>{const f=[];let d=!0;const a=I.numRows,l=I.numColumns;for(let p=0;p<a;(p+=1)-1)for(let i=0;i<l;(i+=1)-1)ce.v[p][i].colorIndex!==I.v[p][i].colorIndex&&(f.push({column:i,row:p}),d=!1);return{isDifferent:f,allSame:d}}),n=B(()=>b(r).isDifferent),o=B(()=>b(r).allSame);Ge(()=>{We.v=b(o)});const v=()=>{if(!We.v){const f=ft(0,b(n).length-1),d=b(n)[f].row,a=b(n)[f].column;I.v[d][a]={colorIndex:ce.v[d][a].colorIndex,Xed:!1},Ft()}};var s=En();s.__click=v,A(e,s),j()}ue(["click"]);var Xt=K(()=>ut),St=K(()=>Fe),Xn=M('<div class="flex justify-between border-t-2 border-t-black p-5"><input type="checkbox" class="svelte-1puqql9"> <input type="checkbox" class="svelte-1puqql9"></div>');function Sn(e,t){Q(t,!1),de();var r=Xn(),n=q(r);se(n);var o=L(n,2);se(o),D(r),Ot(n,()=>St().v,v=>St(St().v=v)),Ot(o,()=>Xt().v,v=>Xt(Xt().v=v)),A(e,r),j()}const _r="none";function An(e){return Array.isArray(e)?e:[e]}function rt(e,t,r){return e.addEventListener(t,r),()=>e.removeEventListener(t,r)}function Mn(e,t){const r=e.getBoundingClientRect(),n=Math.abs(t[0].clientX-t[1].clientX),o=Math.abs(t[0].clientY-t[1].clientY),v=Math.min(t[0].clientX,t[1].clientX),s=Math.min(t[0].clientY,t[1].clientY),f=v+n/2,d=s+o/2,a=Math.round(f-r.left),l=Math.round(d-r.top);return{x:a,y:l}}function Hn(e,t){return t.filter(r=>e.pointerId!==r.pointerId)}function at(e,t,r,n,o){const v=e.getBoundingClientRect(),s=Math.round(r.clientX-v.left),f=Math.round(r.clientY-v.top);e.dispatchEvent(new CustomEvent(`${t}${o}`,{detail:{event:r,pointersCount:n.length,target:r.target,x:s,y:f}}))}function Rn(e,t,r,n,o,v=_r){t.style.touchAction=An(v).join(" ");let s=[];function f(a){s.push(a),at(t,e,a,s,"down"),n==null||n(s,a);const l=a.pointerId;function p(w){l===w.pointerId&&(s=Hn(w,s),s.length||i(),at(t,e,w,s,"up"),o==null||o(s,w))}function i(){h(),c(),m(),g()}const h=rt(t,"pointermove",w=>{s=s.map(C=>w.pointerId===C.pointerId?w:C),at(t,e,w,s,"move"),r==null||r(s,w)}),c=rt(t,"lostpointercapture",w=>{p(w)}),m=rt(t,"pointerup",w=>{p(w)}),g=rt(t,"pointerleave",w=>{s=[],i(),at(t,e,w,s,"up"),o==null||o(s,w)})}const d=rt(t,"pointerdown",f);return{destroy:()=>{d()}}}function er(e){return Math.hypot(e[0].clientX-e[1].clientX,e[0].clientY-e[1].clientY)}function Nn(e,t){const r={touchAction:_r,composed:!1,...t},n="pinch";let o,v=0,s;function f(l,p){l.length===1&&(o=void 0)}function d(l,p){l.length===2&&(v=er(l),s=Mn(e,l))}function a(l,p){if(l.length===2){const i=er(l);if(o!==void 0&&i!==o){const h=i/v;e.dispatchEvent(new CustomEvent(n,{detail:{scale:h,center:s,pointerType:p.pointerType}}))}o=i}return!1}return r.composed?{onMove:a,onDown:d,onUp:null}:Rn(n,e,a,d,f,r.touchAction)}var Ln=M('<input type="range" class="svelte-artubv">');function Dn(e,t){Q(t,!0);const r=100,n=10;let o=ne(1);const v=d=>{d.preventDefault(),d.deltaY<0&&Y.v<r?Y.v+=5:d.deltaY>0&&Y.v>n&&(Y.v-=5)},s=d=>{if(!Ze.v)return;const a=b(o);U(o,xe(d.detail.scale));const l=b(o)<a;l&&Y.v>n?Y.v-=1:!l&&Y.v<r&&(Y.v+=1)};var f=Ln();te("wheel",fe,v,void 0,!1),fr(Nt.body,d=>Nn(d)),te("pinch",Nt.body,s),se(f),Ve(f,"max",r),Ve(f,"min",n),Ke(f,()=>Y.v,d=>Y.v=d),A(e,f),j()}var it=K(()=>Gt),On=M("<!> <!>",1),qn=M("<!> <!>",1),Pn=M('<div class="fixed bottom-0 top-0 z-50 flex w-40 max-w-[75%] flex-col overflow-hidden rounded-l-3xl bg-white svelte-187qfh2"><!> <!> <!> <!> <!> <!> <!></div>');function Yn(e,t){Q(t,!1);const r=p=>{p.key==="o"&&it(it().v=!it().v)};de();var n=Pn();te("keydown",fe,r);var o=q(n);oe(o,()=>!Z.v,p=>{var i=On(),h=Je(i);_n(h,{});var c=L(h,2);dn(c,{}),A(p,i)});var v=L(o,2);vn(v,{});var s=L(v,2);bn(s,{});var f=L(s,2);Tn(f,{});var d=L(f,2);kn(d,{});var a=L(d,2);Dn(a,{});var l=L(a,2);oe(l,()=>Z.v,p=>{var i=qn(),h=Je(i);Sn(h,{});var c=L(h,2);Cn(c,{}),A(p,i)}),D(n),V(()=>T(n,"right",it().v?"0":"-300px")),A(e,n),j()}const zn=e=>e;function Bn(e,{delay:t=0,duration:r=400,easing:n=zn}={}){const o=+getComputedStyle(e).opacity;return{delay:t,duration:r,easing:n,css:v=>`opacity: ${v*o}`}}var Fn=M('<div class="font-normal"> </div>'),Gn=M("<th></th>"),Un=M('<thead class="top-0 z-20 align-bottom"><tr><th class="invisible"></th><!></tr></thead>'),Wn=M("<div> </div>"),Jn=M('<td class="left-0 z-10"><div></div></td>'),Vn=M("<span>X</span>"),Kn=M('<td class="box-content" tabindex="0"><!></td>'),Zn=M("<tr><!><!></tr>"),Qn=M('<table class="m-32 border-collapse"><!><tbody></tbody></table>');function jn(e,t){Q(t,!0);let r=ne(!1),n=ne(!1),o=ne(""),v=ne(0);const s=(u,_,x,S)=>{const E=Math.abs(u-x),y=Math.abs(_-S);return E===0&&y===1?S>_?"right":"left":E===1&&y===0?x>u?"below":"above":"not adjacent"},f=u=>u.Xed,d=u=>u.colorIndex===qe.v,a=(u,_)=>{u.colorIndex=_},l=u=>{u.colorIndex=0},p=u=>{u.Xed=!u.Xed},i=(u,_,x)=>{Ze.v||(u.target instanceof HTMLElement&&u.target.releasePointerCapture(u.pointerId),u.button===0?U(r,!0):u.button===2&&U(n,!0),h(_,x))},h=(u,_)=>{z.v={colorIndex:I.v[u][_].colorIndex,Xed:I.v[u][_].Xed,column:_,row:u},nt.v=!1,U(v,0),Z.v?b(r)?Ee.v&&!ke(I.v[u][_])?p(I.v[u][_]):!Ee.v&&!f(I.v[u][_])&&(d(I.v[u][_])?l(I.v[u][_]):a(I.v[u][_],qe.v)):b(n)&&(ke(I.v[u][_])?l(I.v[u][_]):p(I.v[u][_])):b(r)?a(I.v[u][_],qe.v):b(n)&&l(I.v[u][_])},c=u=>{u.button===0?U(r,!1):u.button===2&&U(n,!1),nt.v=!0},m=(u,_)=>{if(!b(r)&&!b(n)||b(r)&&b(n)||z.v.row===-1||Ze.v)return;Fr(v),b(v)===1&&U(o,xe(s(z.v.row,z.v.column,u,_)));const x=I.v[z.v.row][z.v.column];if(Z.v)if(b(o)==="above"||b(o)==="below"){const S=Math.min(z.v.row,u),E=Math.max(z.v.row,u);for(let y=S;y<E+1;(y+=1)-1){const X=I.v[y][z.v.column];b(r)?Ee.v&&!ke(X)?X.Xed=x.Xed:!Ee.v&&!f(X)&&a(X,x.colorIndex):z.v.Xed&&!ke(X)?X.Xed=!1:z.v.colorIndex===0&&!ke(X)?X.Xed=!0:z.v.colorIndex!==0&&!f(X)&&l(X)}}else{const S=Math.min(z.v.column,_),E=Math.max(z.v.column,_);for(let y=S;y<E+1;(y+=1)-1){const X=I.v[z.v.row][y];b(r)?Ee.v&&!ke(X)?X.Xed=x.Xed:!Ee.v&&!f(X)&&a(X,x.colorIndex):z.v.Xed&&!ke(X)?X.Xed=!1:z.v.colorIndex===0&&!ke(X)?X.Xed=!0:z.v.colorIndex!==0&&!f(X)&&l(X)}}else b(r)?a(I.v[u][_],qe.v):l(I.v[u][_])};let g=ne(!1),w=ne(xe(we.v)),C=ne(xe(Be.v));Ge(()=>{We.v&&!b(g)?(U(g,!0),U(w,xe(we.v)),U(C,xe(Be.v)),we.v=0,Be.v=!1):!We.v&&b(g)&&(U(g,!1),we.v=b(w),Be.v=b(C))});let $=0,k=0;const N=(u,_)=>{$=u,k=_},ae=u=>{var S;if(u.key!=="ArrowUp"&&u.key!=="ArrowDown"&&u.key!=="ArrowLeft"&&u.key!=="ArrowRight"&&u.key!==" ")return;u.preventDefault();let _=$,x=k;u.key==="ArrowUp"&&$>0?_-=1:u.key==="ArrowDown"&&$<I.numRows-1?_+=1:u.key==="ArrowLeft"&&k>0?x-=1:u.key==="ArrowRight"&&k<I.numColumns-1?x+=1:u.key===" "&&U(r,!0),(S=document.querySelector(`[data-row="${_}"][data-col="${x}"]`))==null||S.focus(),b(r)&&h(_,x)},re=u=>{u.key===" "&&U(r,!1)},G=(u,_)=>{let x=0;for(let E=0;E<=u;(E+=1)-1)E!==0&&_[E-1].color===_[E].color&&(x+=1),E<u&&(x+=_[E].count);let S=0;for(let E=_.length-1;E>=u;(E-=1)+1)E!==_.length-1&&_[E].color===_[E+1].color&&(S+=1),E>u&&(S+=_[E].count);return{offsetHead:x,offsetTail:S}},he=(u,_,x)=>{const{offsetHead:S,offsetTail:E}=G(u,_);let y=0,X=0;for(;y<S;)x[X].color!=="X"?y+=x[X].count:X>0&&(y+=1),X+=1;y=0;let P=x.length-1;for(;y<E;)x[P].color!=="X"?y+=x[P].count:P<x.length-1&&(y+=1),P-=1;return{encodesStartIndex:X,encodesEndIndex:P}},ie=(u,_)=>{const x=new Array(u.length).fill(void 0),S=new Array(u.length).fill(void 0),E=new Array(u.length).fill(void 0);for(let y=0;y<u.length;(y+=1)-1){const{encodesStartIndex:X,encodesEndIndex:P}=he(y,u,_),W=u[y];for(let R=X;R<=P;(R+=1)-1)if(W.color===_[R].color&&W.count>=_[R].count){if(x.slice(0,y).includes(R))continue;x[y]=R;for(let H=0;H<y;(H+=1)-1)x[H]>R&&(x[H]=void 0);break}}for(let y=u.length-1;y>=0;(y-=1)+1){const{encodesStartIndex:X,encodesEndIndex:P}=he(y,u,_),W=u[y];for(let R=P;R>=X;(R-=1)+1)if(W.color===_[R].color&&W.count>=_[R].count){if(S.slice(y+1).includes(R))continue;S[y]=R;for(let H=u.length-1;H>y;(H-=1)+1)S[H]<R&&(S[H]=void 0);break}}for(let y=0;y<u.length;(y+=1)-1)x[y]===S[y]&&(E[y]=x[y]);return E},ve=(u,_)=>{const x=ie(u,_);let S=[],E=x[0]!==void 0?x[0]:0;for(let y=1;y<x.length;(y+=1)-1)x[y]!==void 0&&!(E===0&&x[y]===_.length-1)&&(x[y-1]===void 0&&S.push([E,x[y]]),E=x[y]);x[x.length-1]===void 0&&E!==_.length-1&&E!==0&&S.push([E,_.length-1]);for(let y=0;y<S.length;(y+=1)-1){const[X,P]=S[y],W=X===0?0:x.indexOf(X),R=P===_.length-1?u.length-1:x.indexOf(P),H=u.slice(W,R+1),ee=_.slice(X,P+1),pe=ee.reduce((me,gt)=>me+gt.count,0),{offsetTail:J}=G(0,H);if(J+H[0].count>pe)continue;const _e=ie(H,ee);for(let me=0;me<_e.length;(me+=1)-1)_e[me]!==void 0&&(_e[me]=_e[me]+X);x.splice(W,R-W+1,..._e)}return x},Re=B(()=>{let u=[[]];for(let _=0;_<ce.rowHints.length;(_+=1)-1){const x=ce.rowHints[_],S=I.rowEncodes[_];u[_]=ve(x,S)}return u}),Qe=B(()=>{let u=[[]];for(let _=0;_<ce.columnHints.length;(_+=1)-1){const x=ce.columnHints[_],S=I.columnEncodes[_];u[_]=ve(x,S)}return u}),Pe=(u,_,x,S)=>{const E=S?b(Re):b(Qe),y=S?I.rowEncodes[u]:I.columnEncodes[u];return E[u][_]!==void 0&&JSON.stringify(x)===JSON.stringify(y[E[u][_]])};var ye=Qn();te("pointerup",fe,c),te("keyup",fe,re);var Ne=q(ye);oe(Ne,()=>Z.v,u=>{var _=Un(),x=q(_),S=L(q(x));Xe(S,17,()=>({length:I.numColumns}),Ce,(E,y,X)=>{var P=Gn();Xe(P,21,()=>ce.columnHints[X],Ce,(W,R,H)=>{var ee=Fn();const pe=B(()=>Pe(X,H,b(R),!1)?.2:1);V(()=>T(ee,"opacity",b(pe)));const J=B(()=>O.v[qt(b(R).color)]);V(()=>T(ee,"color",b(J)));var _e=q(ee,!0);D(ee),V(()=>{T(ee,"font-size",ut.v?Y.v/3+"px":Y.v/1.5+"px"),Lt(_e,b(R).count)}),A(W,ee)}),D(P),A(E,P)}),D(x),D(_),V(()=>{T(_,"position",ut.v?"sticky":""),T(_,"background-color",ut.v?O.v[0]:"")}),A(u,_)});var je=L(Ne);Xe(je,21,()=>({length:I.numRows}),Ce,(u,_,x)=>{var S=Zn(),E=q(S);oe(E,()=>Z.v,P=>{var W=Jn(),R=q(W);T(R,"justify-content","right"),T(R,"display","flex"),Xe(R,21,()=>ce.rowHints[x],Ce,(H,ee,pe)=>{var J=Wn();const _e=B(()=>Pe(x,pe,b(ee),!0)?.2:1);V(()=>T(J,"opacity",b(_e)));const me=B(()=>O.v[qt(b(ee).color)]);V(()=>T(J,"color",b(me))),T(J,"justify-content","center"),T(J,"align-items","center"),T(J,"display","flex");var gt=q(J,!0);D(J),V(()=>{T(J,"font-size",Fe.v?Y.v/3+"px":Y.v/1.5+"px"),T(J,"min-width",Fe.v?Y.v/3+"px":Y.v+"px"),T(J,"height",Fe.v?Y.v/3+"px":Y.v+"px"),Lt(gt,b(ee).count)}),A(H,J)}),D(R),D(W),V(()=>{T(W,"position",Fe.v?"sticky":""),T(W,"background-color",Fe.v?O.v[0]:"")}),A(P,W)});var y=L(E);Xe(y,17,()=>({length:I.numColumns}),Ce,(P,W,R)=>{var H=Kn();H.__pointerdown=pe=>{i(pe,x,R)},Ve(H,"data-row",x),Ve(H,"data-col",R),H.__keydown=ae,T(H,"transition","background-color .5s, border-radius .5s"),T(H,"text-align","center");var ee=q(H);oe(ee,()=>f(I.v[x][R])&&!We.v,pe=>{var J=Vn();on(3,J,()=>Bn,()=>({duration:300})),A(pe,J)}),D(H),V(()=>{T(H,"border-left",we.v===0?"0":`solid ${R%5===0&&R!==0&&we.v===2?`4px ${O.v[1]}`:`2px ${Ue.v}`}`),T(H,"border-top",we.v===0?"0":`solid ${x%5===0&&x!==0&&we.v===2?`4px ${O.v[1]}`:`2px ${Ue.v}`}`),T(H,"border-radius",Be.v===!0?"20%":"0"),T(H,"background-color",O.v[I.v[x][R].colorIndex]),T(H,"font-size",Y.v/1.5+"px"),T(H,"min-width",Y.v+"px"),T(H,"height",Y.v+"px"),T(H,"color",O.v[1])}),te("pointerenter",H,()=>{m(x,R)}),te("focus",H,()=>{N(x,R)}),A(P,H)}),D(S),A(u,S)}),D(je),D(ye),A(e,ye),j()}ue(["pointerdown","keydown"]);var eo=M('<div class="flex"><button class="flex-1">Undo</button> <button class="flex-1">Redo</button></div>');function to(e,t){Q(t,!0);const r=()=>{z.v.row!==-1&&Ft(),z.reset()},n=l=>{l.key==="z"?v():l.key==="y"&&s()},o=()=>{I.v=mt(He.v[be.v]),dr()},v=()=>{be.v!==0&&(be.v-=1,o())},s=()=>{be.v!==He.v.length-1&&(be.v+=1,o())};var f=eo();te("keydown",fe,n),te("pointerup",fe,r);var d=q(f);d.__click=v;var a=L(d,2);a.__click=s,D(f),A(e,f),j()}ue(["click"]);var Le=K(()=>Ze),De=K(()=>qe),Oe=K(()=>Ee),ro=M('<button class="flex aspect-square h-8 flex-1 items-center justify-center p-0"></button>'),no=M('<button class="flex aspect-square h-8 flex-1 items-center justify-center p-0">X</button>'),oo=M('<div class="flex flex-wrap"><!> <!> <button class="flex aspect-square h-8 flex-1 items-center justify-center p-0" aria-label="Move"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 21v-9m0 9l3-3m-3 3l-3-3m3-6V3m0 9H3m9 0h9m-9-9L9 6m3-3l3 3M3 12l3 3m-3-3l3-3m15 3l-3-3m3 3l-3 3"></path></svg></button></div>');function so(e,t){Q(t,!1);const r=l=>{/[1-9]/.test(l.key)&&Number(l.key)<=O.v.length?n(Number(l.key)-1):l.key==="m"?v():l.key==="x"&&Z.v&&o()},n=l=>{Oe(Oe().v=!1),Le(Le().v=!1),De(De().v=l)},o=()=>{Oe(Oe().v=!0),Le(Le().v=!1),De(De().v=-1)},v=()=>{Oe(Oe().v=!1),Le(Le().v=!0),De(De().v=-1)};de();var s=oo();te("keydown",fe,r);var f=q(s);Xe(f,1,()=>O.v,Ce,(l,p,i)=>{var h=ro();h.__click=()=>{n(i)},h.textContent=i+1,V(()=>{T(h,"border",`solid 2px ${i===De().v?i===0?O.v[1]:O.v[0]:O.v[i]}`),T(h,"color",i===0?O.v[1]:O.v[0]),T(h,"background-color",O.v[i])}),A(l,h)});var d=L(f,2);oe(d,()=>Z.v,l=>{var p=no();p.__click=o,V(()=>T(p,"border",`solid 2px ${Oe().v?O.v[1]:"ButtonFace"}`)),A(l,p)});var a=L(d,2);a.__click=v,D(s),V(()=>T(a,"border",`solid 2px ${Le().v?O.v[1]:"ButtonFace"}`)),A(e,s),j()}ue(["click"]);var At=K(()=>Gt),ao=M('<footer class="flex justify-center"><div><button>Options</button> <div><!> <!></div></div></footer>');function io(e,t){Q(t,!1),de();var r=ao(),n=q(r);T(n,"border-top-right-radius","8px"),T(n,"border-top-left-radius","8px"),T(n,"overflow","hidden"),T(n,"display","flex");var o=q(n);o.__click=()=>{At(At().v=!At().v)};var v=L(o,2),s=q(v);so(s,{});var f=L(s,2);to(f,{}),D(v),D(n),D(r),A(e,r),j()}ue(["click"]);var lo=M('<div class="absolute -left-4 -top-4 scale-[40%]" id="dynamic-svg"><a href="https://github.com/Tree52/Shareogram" aria-label="Link to GitHub repository"><svg height="96" width="98" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z" fill="#fff" fill-rule="evenodd"></path></svg></a></div>');function co(e){var t=lo();A(e,t)}var tr=K(()=>ce),Mt=K(()=>Z),vo=M("<span> </span>"),fo=M('<button class="rounded-b-lg">Start Game</button>'),uo=M('<header class="flex items-center justify-center"><!> <!></header>');function ho(e,t){Q(t,!1),de();var r=uo(),n=q(r);co(n);var o=L(n,2);oe(o,()=>Mt().v,v=>{var s=vo();T(s,"padding-top","10px");var f=q(s,!0);D(s),V(()=>Lt(f,We.v?"You win!":"Keep trying")),A(v,s)},v=>{var s=fo();s.__click=()=>{Mt(Mt().v=!0),tr(tr().v=I.v),vt()},A(v,s)}),D(r),A(e,r),j()}ue(["click"]);const po=e=>{let t=!1,r,n,o,v;const s=a=>{(a.button===1||a.button===0&&Ze.v)&&(a.preventDefault(),t=!0,r=a.pageX-e.offsetLeft,n=a.pageY-e.offsetTop,o=e.scrollLeft,v=e.scrollTop,e.style.cursor="grabbing",document.addEventListener("mousemove",f),document.addEventListener("mouseup",d))},f=a=>{if(!t)return;a.preventDefault();const l=a.pageX-e.offsetLeft,p=a.pageY-e.offsetTop,i=(l-r)*2,h=(p-n)*2;e.scrollLeft=o-i,e.scrollTop=v-h},d=()=>{t=!1,e.style.cursor="",document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",d)};return e.addEventListener("mousedown",s),{destroy:()=>{e.removeEventListener("mousedown",s),e.style.cursor=""}}};var _o=M('<li class="absolute -bottom-[200px] block aspect-square rounded-[10%] bg-white/20 svelte-qqc5lb"></li>'),mo=M('<ul class="absolute inset-0 -z-10 m-0 overflow-hidden p-0 svelte-qqc5lb"></ul> <!>  <main class="m-3 flex flex-1 overflow-auto svelte-qqc5lb"><!></main> <!> <!>',1);function Io(e,t){Q(t,!0);let r=ne(!1);const n=c=>{const m=c.match(/(\d+|[a-zX]+)/g),g=[],w=[];if(m)for(let C=0;C<m.length;(C+=1)-1){const $=m[C];isNaN(Number($))?w.push($):g.push(Number($))}if(g.length!==w.length)throw new Error("Error: different number of counts and letters.");return{letters:w,numbers:g}},o=c=>{const m=n(c),g=[];let w=0,C=0;for(let $=0;$<Me.v;($+=1)-1)g[$]=[];for(let $=0;$<m.numbers.length;($+=1)-1)for(let k=0;k<m.numbers[$];(k+=1)-1)m.letters[$]==="X"?g[w][(C+=1)-1]={colorIndex:0,Xed:!0}:g[w][(C+=1)-1]={colorIndex:qt(m.letters[$]),Xed:!1},C>Ae.v-1&&(w+=1,C=0);return g},v=c=>(c.preventDefault(),c.returnValue="",""),s=()=>{const c=window.location.hash;if(c){try{const m=c.slice(1).split("-");Z.v=!!Number(m[0]),Ae.v=Number(m[1]),Me.v=Number(m[2]),Ue.v="#"+m[3];const g=Z.v?m.slice(4,-2):m.slice(4,-1);for(let w=0;w<g.length;(w+=1)-1)O.v[w]="#"+g[w];I.v=o(m[Z.v?m.length-2:m.length-1]),He.v[0]=mt(I.v),Z.v&&(ce.v=o(m[m.length-1]))}catch{alert("Couldn't load the code from the URL. Make sure you copied the link correctly.")}nt.v=!0}U(r,!0)};Ge(()=>{for(;!b(r);)s()}),Ge(()=>{if(nt.v){const c=[Number(Z.v),Ae.v,Me.v,Ue.v.slice(1)];for(let m=0;m<O.v.length;(m+=1)-1)c.push(O.v[m].slice(1));c.push(I.encoded),Z.v&&c.push(ce.encoded),window.location.hash=c.join("-")}}),Ge(()=>{document.body.style.color=O.v[0];const c=document.querySelector("#dynamic-svg path");c==null||c.setAttribute("fill",O.v[0])});var f=mo();Wr(c=>{Nt.title="Shareogram"}),te("contextmenu",fe,c=>c.preventDefault()),te("load",fe,s),te("beforeunload",fe,c=>{v(c)});var d=Je(f);Xe(d,20,()=>({length:35}),Ce,(c,m)=>{var g=_o();const w=B(()=>ft(0,60)+"s");V(()=>T(g,"animation-delay",b(w)));const C=B(()=>ft(5,200)+"px");V(()=>T(g,"width",b(C)));const $=B(()=>ft(0,100)+"%");V(()=>T(g,"left",b($))),A(c,g)}),D(d);var a=L(d,2);ho(a,{});var l=L(a,2);l.__click=()=>{Gt.v=!1};var p=q(l);jn(p,{}),D(l),fr(l,c=>po(c));var i=L(l,2);io(i,{});var h=L(i,2);Yn(h,{}),V(()=>{T(d,"background-color",Ue.v),T(l,"touch-action",Ze.v?"auto":"none")}),A(e,f),j()}ue(["click"]);export{Io as component,ko as universal};
