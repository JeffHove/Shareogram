import{c as dr,a as E,t as A}from"../chunks/disclose-version.BFyFZ1Tk.js";import{v as Kt,q as Ct,o as hr,R as pr,w as _r,at as Zt,A as le,D as dt,B as mr,a9 as Qt,H as gr,C as Pt,F as ht,G as We,au as rt,x as jt,y as er,z as wr,_ as it,k as lt,av as Nt,aw as Yt,ax as Lt,ay as br,a8 as xr,az as yr,Q as kr,T as Ir,a5 as $r,Z as tr,aA as Tr,m as Cr,h as Et,aB as Er,a2 as Ar,ab as rr,u as nr,aC as Xr,aD as Sr,aE as Mr,E as Hr,aF as Rr,aG as Nr,aH as Lr,n as Ve,aI as Dr,X as zt,Y as Bt,aJ as Or,ac as ct,b as qr,d as J,g as w,ar as ne,O as B,p as Q,f as Ge,a as j,c as O,s as R,r as N,J as Ye,aK as At,aL as ue,t as W,aM as Pr}from"../chunks/runtime.kwFfegih.js";import{a as Yr,b as zr,l as vt,d as de,e as te,s as Xt,c as Br}from"../chunks/render.DZPyI7WY.js";import{a as Gr,p as me,i as oe}from"../chunks/if.QfZRQiwm.js";import{i as he}from"../chunks/legacy.BZr0P_gC.js";const Fr=[];function ft(e,t=!1){return nt(e,new Map,"",Fr)}function nt(e,t,r,n,o=null){if(typeof e=="object"&&e!==null){const s=t.get(e);if(s!==void 0)return s;if(e instanceof Map)return new Map(e);if(e instanceof Set)return new Set(e);if(Kt(e)){const f=[];t.set(e,f),o!==null&&t.set(o,f);for(let u=0;u<e.length;u+=1)f.push(nt(e[u],t,r,n));return f}if(Ct(e)===hr){const f={};t.set(e,f),o!==null&&t.set(o,f);for(var v in e)f[v]=nt(e[v],t,r,n);return f}if(e instanceof Date)return structuredClone(e);if(typeof e.toJSON=="function")return nt(e.toJSON(),t,r,n,e)}if(e instanceof EventTarget)return e;try{return structuredClone(e)}catch{return e}}function Te(e,t){return t}function Jr(e,t,r,n){for(var o=[],v=t.length,s=0;s<v;s++)br(t[s].e,o,!0);var f=v>0&&o.length===0&&r!==null;if(f){var u=r.parentNode;xr(u),u.append(r),n.clear(),Ie(e,t[0].prev,t[v-1].next)}yr(o,()=>{for(var a=0;a<v;a++){var l=t[a];f||(n.delete(l.k),Ie(e,l.prev,l.next)),kr(l.e,!f)}})}function Ce(e,t,r,n,o,v=null){var s=e,f={flags:t,items:new Map,first:null},u=(t&Zt)!==0;if(u){var a=e;s=le?dt(Ir(a)):a.appendChild(pr())}le&&mr();var l=null,h=!1;_r(()=>{var i=r(),d=Kt(i)?i:i==null?[]:Qt(i),c=d.length;if(h&&c===0)return;h=c===0;let _=!1;if(le){var m=s.data===gr;m!==(c===0)&&(s=Pt(),dt(s),ht(!1),_=!0)}if(le){for(var g=null,C,$=0;$<c;$++){if(We.nodeType===8&&We.data===$r){s=We,_=!0,ht(!1);break}var k=d[$],H=n(k,$);C=or(We,f,g,null,k,H,$,o,t),f.items.set(H,C),g=C}c>0&&dt(Pt())}if(!le){var ae=tr;Ur(d,f,s,o,t,(ae.f&rt)!==0,n)}v!==null&&(c===0?l?jt(l):l=er(()=>v(s)):l!==null&&wr(l,()=>{l=null})),_&&ht(!0),r()}),le&&(s=We)}function Ur(e,t,r,n,o,v,s){var p,b,y,X;var f=(o&Tr)!==0,u=(o&(Nt|Lt))!==0,a=e.length,l=t.items,h=t.first,i=h,d,c=null,_,m=[],g=[],C,$,k,H;if(f)for(H=0;H<a;H+=1)C=e[H],$=s(C,H),k=l.get($),k!==void 0&&((p=k.a)==null||p.measure(),(_??(_=new Set)).add(k));for(H=0;H<a;H+=1){if(C=e[H],$=s(C,H),k=l.get($),k===void 0){var ae=i?i.e.nodes_start:r;c=or(ae,t,c,c===null?t.first:c.next,C,$,H,n,o),l.set($,c),m=[],g=[],i=c.next;continue}if(u&&Wr(k,C,H,o),k.e.f&rt&&(jt(k.e),f&&((b=k.a)==null||b.unfix(),(_??(_=new Set)).delete(k))),k!==i){if(d!==void 0&&d.has(k)){if(m.length<g.length){var re=g[0],Y;c=re.prev;var ve=m[0],fe=m[m.length-1];for(Y=0;Y<m.length;Y+=1)Gt(m[Y],re,r);for(Y=0;Y<g.length;Y+=1)d.delete(g[Y]);Ie(t,ve.prev,fe.next),Ie(t,c,ve),Ie(t,fe,re),i=re,c=fe,H-=1,m=[],g=[]}else d.delete(k),Gt(k,i,r),Ie(t,k.prev,k.next),Ie(t,k,c===null?t.first:c.next),Ie(t,c,k),c=k;continue}for(m=[],g=[];i!==null&&i.k!==$;)(v||!(i.e.f&rt))&&(d??(d=new Set)).add(i),g.push(i),i=i.next;if(i===null)continue;k=i}m.push(k),c=k,i=k.next}if(i!==null||d!==void 0){for(var ie=d===void 0?[]:Qt(d);i!==null;)(v||!(i.e.f&rt))&&ie.push(i),i=i.next;var we=ie.length;if(we>0){var Le=o&Zt&&a===0?r:null;if(f){for(H=0;H<we;H+=1)(y=ie[H].a)==null||y.measure();for(H=0;H<we;H+=1)(X=ie[H].a)==null||X.fix()}Jr(t,ie,Le,l)}}f&&it(()=>{var U;if(_!==void 0)for(k of _)(U=k.a)==null||U.apply()}),lt.first=t.first&&t.first.e,lt.last=c&&c.e}function Wr(e,t,r,n){n&Nt&&Yt(e.v,t),n&Lt?Yt(e.i,r):e.i=r}function or(e,t,r,n,o,v,s,f,u){var a=(u&Nt)!==0,l=(u&Er)===0,h=a?l?Cr(o):Et(o):o,i=u&Lt?Et(s):s,d={i,v:h,k:v,a:null,e:null,prev:r,next:n};try{return d.e=er(()=>f(e,h,i),le),d.e.prev=r&&r.e,d.e.next=n&&n.e,r===null?t.first=d:(r.next=d,r.e.next=d.e),n!==null&&(n.prev=d,n.e.prev=d.e),d}finally{}}function Gt(e,t,r){for(var n=e.next?e.next.e.nodes_start:r,o=t?t.e.nodes_start:r,v=e.e.nodes_start;v!==n;){var s=Ar(v);o.before(v),v=s}}function Ie(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function sr(e,t,r){rr(()=>{var n=nr(()=>t(e,r==null?void 0:r())||{});if(n!=null&&n.destroy)return()=>n.destroy()})}function se(e){if(le){var t=!1,r=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var n=e.value;Fe(e,"value",null),e.value=n}if(e.hasAttribute("checked")){var o=e.checked;Fe(e,"checked",null),e.checked=o}}};e.__on_r=r,Mr(r),Yr()}}function Fe(e,t,r,n){var o=e.__attributes??(e.__attributes={});le&&(o[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||o[t]!==(o[t]=r)&&(t==="style"&&"__styles"in e&&(e.__styles={}),t==="loading"&&(e[Xr]=r),r==null?e.removeAttribute(t):typeof r!="string"&&Vr(e).includes(t)?e[t]=r:e.setAttribute(t,r))}var Ft=new Map;function Vr(e){var t=Ft.get(e.nodeName);if(t)return t;Ft.set(e.nodeName,t=[]);for(var r,n=Ct(e),o=Element.prototype;o!==n;){r=Sr(n);for(var v in r)r[v].set&&t.push(v);n=Ct(n)}return t}function T(e,t,r,n){var o=e.__styles??(e.__styles={});o[t]!==r&&(o[t]=r,r==null?e.style.removeProperty(t):e.style.setProperty(t,r,""))}const Kr=()=>performance.now(),Ee={tick:e=>requestAnimationFrame(e),now:()=>Kr(),tasks:new Set};function ar(e){Ee.tasks.forEach(t=>{t.c(e)||(Ee.tasks.delete(t),t.f())}),Ee.tasks.size!==0&&Ee.tick(ar)}function Zr(e){let t;return Ee.tasks.size===0&&Ee.tick(ar),{promise:new Promise(r=>{Ee.tasks.add(t={c:e,f:r})}),abort(){Ee.tasks.delete(t)}}}function Qe(e,t){e.dispatchEvent(new CustomEvent(t))}function Qr(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function Jt(e){const t={},r=e.split(";");for(const n of r){const[o,v]=n.split(":");if(!o||v===void 0)break;const s=Qr(o.trim());t[s]=v.trim()}return t}const jr=e=>e;function en(e,t,r,n){var o=(e&Dr)!==0,v="both",s,f=t.inert,u,a;function l(){var _=tr,m=lt;zt(null),Bt(null);try{return s??(s=r()(t,(n==null?void 0:n())??{},{direction:v}))}finally{zt(_),Bt(m)}}var h={is_global:o,in(){t.inert=f,Qe(t,"introstart"),u=St(t,l(),a,1,()=>{Qe(t,"introend"),u==null||u.abort(),u=s=void 0})},out(_){t.inert=!0,Qe(t,"outrostart"),a=St(t,l(),u,0,()=>{Qe(t,"outroend"),_==null||_()})},stop:()=>{u==null||u.abort(),a==null||a.abort()}},i=lt;if((i.transitions??(i.transitions=[])).push(h),zr){var d=o;if(!d){for(var c=i.parent;c&&c.f&Hr;)for(;(c=c.parent)&&!(c.f&Rr););d=!c||(c.f&Nr)!==0}d&&rr(()=>{nr(()=>h.in())})}}function St(e,t,r,n,o){var v=n===1;if(Lr(t)){var s,f=!1;return it(()=>{if(!f){var m=t({direction:v?"in":"out"});s=St(e,m,r,n,o)}}),{abort:()=>{f=!0,s==null||s.abort()},deactivate:()=>s.deactivate(),reset:()=>s.reset(),t:()=>s.t()}}if(r==null||r.deactivate(),!(t!=null&&t.duration))return o(),{abort:Ve,deactivate:Ve,reset:Ve,t:()=>n};const{delay:u=0,css:a,tick:l,easing:h=jr}=t;var i=[];if(v&&r===void 0&&(l&&l(0,1),a)){var d=Jt(a(0,1));i.push(d,d)}var c=()=>1-n,_=e.animate(i,{duration:u});return _.onfinish=()=>{var m=(r==null?void 0:r.t())??1-n;r==null||r.abort();var g=n-m,C=t.duration*Math.abs(g),$=[];if(C>0){if(a)for(var k=Math.ceil(C/16.666666666666668),H=0;H<=k;H+=1){var ae=m+g*h(H/k),re=a(ae,1-ae);$.push(Jt(re))}c=()=>{var Y=_.currentTime;return m+g*h(Y/C)},l&&Zr(()=>{if(_.playState!=="running")return!1;var Y=c();return l(Y,1-Y),!0})}_=e.animate($,{duration:C,fill:"forwards"}),_.onfinish=()=>{c=()=>n,l==null||l(n,1-n),o()}},{abort:()=>{_&&(_.cancel(),_.effect=null,_.onfinish=Ve)},deactivate:()=>{o=Ve},reset:()=>{n===0&&(l==null||l(1,0))},t:()=>c()}}function Je(e,t,r=t){var n=Or();vt(e,"input",()=>{var o=mt(e)?gt(e.value):e.value;r(o),n&&o!==(o=t())&&(e.value=o??"")}),ct(()=>{var o=t();if(le&&e.defaultValue!==e.value){r(mt(e)?gt(e.value):e.value);return}mt(e)&&o===gt(e.value)||e.type==="date"&&!o&&!e.value||o!==e.value&&(e.value=o??"")})}const pt=new Set;function _t(e,t,r,n,o=n){var v=r.getAttribute("type")==="checkbox",s=e;let f=!1;if(t!==null)for(var u of t)s=s[u]??(s[u]=[]);s.push(r),vt(r,"change",()=>{var a=r.__value;v&&(a=Ut(s,a,r.checked)),o(a)},()=>o(v?[]:null)),ct(()=>{var a=n();if(le&&r.defaultChecked!==r.checked){f=!0;return}v?(a=a||[],r.checked=a.includes(r.__value)):r.checked=Gr(r.__value,a)}),qr(()=>{var a=s.indexOf(r);a!==-1&&s.splice(a,1)}),pt.has(s)||(pt.add(s),it(()=>{s.sort((a,l)=>a.compareDocumentPosition(l)===4?-1:1),pt.delete(s)})),it(()=>{if(f){var a;if(v)a=Ut(s,a,r.checked);else{var l=s.find(h=>h.checked);a=l==null?void 0:l.__value}o(a)}})}function Mt(e,t,r=t){vt(e,"change",()=>{var n=e.checked;r(n)}),t()==null&&r(!1),ct(()=>{var n=t();e.checked=!!n})}function Ut(e,t,r){for(var n=new Set,o=0;o<e.length;o+=1)e[o].checked&&n.add(e[o].__value);return r||n.delete(t),Array.from(n)}function mt(e){var t=e.type;return t==="number"||t==="range"}function gt(e){return e===""?null:+e}function tn(e,t,r=t){vt(e,"change",()=>{r(e.files)}),ct(()=>{e.files=t()})}function V(e){var t=Et(0);return function(){return arguments.length===1?(J(t,w(t)+1),arguments[0]):(w(t),e())}}const rn=!0,wo=Object.freeze(Object.defineProperty({__proto__:null,prerender:rn},Symbol.toStringTag,{value:"Module"})),xe=e=>e.colorIndex!==0,Dt=()=>{const e=[[]];for(let t=0;t<Xe.v;(t+=1)-1){e[t]=[];for(let r=0;r<Ae.v;(r+=1)-1)e[t][r]={colorIndex:0,Xed:!1}}return e},ir=()=>{for(let e=0;e<I.numRows;(e+=1)-1)for(let t=0;t<I.numColumns;(t+=1)-1)I.v[e][t].colorIndex>L.v.length-1&&(I.v[e][t].colorIndex=0)},Ot=()=>{ge.v!==Se.v.length-1&&Se.v.splice(ge.v+1),ge.v+=1,Se.v.push(ft(I.v))},ot=()=>{Ae.v<1||Xe.v<1||(I.v=Dt(),Se.reset(),Se.v[0]=ft(I.v),ge.reset(),$e.v=!1)},Ht=e=>{let t=0;for(let r=0;r<e.length;(r+=1)-1)t*=26,t+=e.charCodeAt(r)-97+1;return t-1},Rt=e=>{const t=parseInt(e.replace("#",""),16);return[t>>16&255,t>>8&255,t&255]},st=(e,t)=>Math.floor(Math.random()*(t-e+1)+e),je=e=>{let t="";for(;e>=0;)t=String.fromCharCode(e%26+97)+t,e=Math.floor(e/26)-1;return t},G=e=>{let t=ne(me(e));return{set v(n){J(t,me(n))},get v(){return w(t)},reset:()=>J(t,me(e))}},lr=()=>{const e=G(cr),t=B(()=>e.v.length),r=B(()=>e.v[0].length),n=B(()=>e.v.map(a=>a.map(l=>l.colorIndex))),o=B(()=>{const a=[[]],l=e.v.length,h=e.v[0].length;for(let i=0;i<l;(i+=1)-1){a[i]=[];const d=e.v[i][0],c={color:d.Xed?"X":je(d.colorIndex),count:1};for(let _=1;_<h;(_+=1)-1){const m=e.v[i][_-1],g=e.v[i][_];m.colorIndex===g.colorIndex&&m.Xed===g.Xed?c.count+=1:(a[i].push({...c}),c.color=g.Xed?"X":je(g.colorIndex),c.count=1)}a[i].push({...c})}return a}),v=B(()=>w(o).map(a=>a.filter(l=>l.color!=="a"))),s=B(()=>{const a=[[]],l=e.v.length,h=e.v[0].length;for(let i=0;i<h;(i+=1)-1){a[i]=[];const d=e.v[0][i],c={color:d.Xed?"X":je(d.colorIndex),count:1};for(let _=1;_<l;(_+=1)-1){const m=e.v[_-1][i],g=e.v[_][i];m.colorIndex===g.colorIndex&&m.Xed===g.Xed?c.count+=1:(a[i].push({...c}),c.color=g.Xed?"X":je(g.colorIndex),c.count=1)}a[i].push({...c})}return a}),f=B(()=>w(s).map(a=>a.filter(l=>l.color!=="a"))),u=B(()=>{let a="",l="",h=0;for(let i=0;i<w(o).length;(i+=1)-1)for(let d=0;d<w(o)[i].length;(d+=1)-1){const c=w(o)[i][d];c.color===l?h+=c.count:(l!==""&&(a+=h+l),l=c.color,h=c.count)}return a+=h+l,a});return{get columnEncodes(){return w(s)},get colorIndices(){return w(n)},get columnHints(){return w(f)},get rowEncodes(){return w(o)},get numColumns(){return w(r)},get rowHints(){return w(v)},set v(a){e.v=a},get encoded(){return w(u)},get numRows(){return w(t)},get v(){return e.v},reset:e.reset}},ze=G("#476fb8"),L=G(["#f8fafc","#020617"]),Ne=G(1),Ae=G(5),Xe=G(5),cr=Dt(),I=lr(),ce=lr(),Se=G([cr]),ge=G(0),K=G(!1),z=G({colorIndex:-1,column:-1,Xed:!1,row:-1}),_e=G(1),Ze=G(!1),P=G(50),Be=G(!1),qt=G(!1),$e=G(!1),qe=G(!0),Ue=G(!1),Pe=G(!1),at=G(!1);var De=V(()=>Xe),Oe=V(()=>Ae),wt=V(()=>K),nn=A("<button>New Editor</button>"),on=A('<div class="flex"><input class="min-w-0 text-center" type="text"> <input class="min-w-0 text-center" type="text"></div>');function sn(e,t){Q(t,!1);const r=v=>Math.max(0,Number(String(v).replace(/[^0-9]/g,"")));he();var n=dr(),o=Ge(n);oe(o,()=>wt().v,v=>{var s=nn();s.__click=()=>{wt(wt().v=!1),ot()},E(v,s)},v=>{var s=on(),f=O(s);se(f),f.__input=()=>{Oe(Oe().v=r(Oe().v)),ot()};var u=R(f,2);se(u),u.__input=()=>{De(De().v=r(De().v)),ot()},N(s),Je(f,()=>Oe().v,a=>Oe(Oe().v=a)),Je(u,()=>De().v,a=>De(De().v=a)),E(v,s)}),E(e,n),j()}de(["click","input"]);const an=(e,t)=>{t(I.colorIndices,L.v,r=>{const n=document.createElement("a");n.download="shareogram.png",n.href=r,n.click()})};var ln=A("<button>Export as PNG</button>");function cn(e,t){Q(t,!1);const r=(o,v,s)=>{const f=o[0].length,u=o.length,a=document.createElement("canvas");a.width=f,a.height=u;const l=a.getContext("2d");if(l){const h=l.createImageData(f,u);for(let d=0;d<u;(d+=1)-1)for(let c=0;c<f;(c+=1)-1){const _=v[o[d][c]],m=Rt(_);if(m){const[g,C,$]=m,k=(d*f+c)*4;h.data[k]=g,h.data[k+1]=C,h.data[k+2]=$,h.data[k+3]=255}}l.putImageData(h,0,0);const i=a.toDataURL("image/png");s(i)}};he();var n=ln();n.__click=[an,r],E(e,n),j()}de(["click"]);var vn=A('<input class="mx-2" type="range" max="442" min="10">'),fn=A('<input accept="image/png" id="file-upload" type="file" class="svelte-1mz0xx0"> <!>',1);function un(e,t){Q(t,!0);let r=ne(10),n=ne(void 0);const o=(h,i,d)=>{const[c,_,m]=h,[g,C,$]=i;return Math.sqrt((c-g)**2+(_-C)**2+(m-$)**2)<=d},v=(h,i,d)=>"#"+[h,i,d].map(c=>Math.round(c).toString(16).padStart(2,"0")).join(""),s=(h,i,d)=>{const c=Rt(h);for(let _=0;_<i.length;(_+=1)-1){const m=Rt(i[_]);if(o(c,m,d))return _}return i.push(h),i.length-1},f=(h,i,d)=>{const c=new FileReader;c.onload=_=>{var g;const m=new Image;m.onload=()=>{const C=document.createElement("canvas"),$=C.getContext("2d");if($){C.width=m.width,C.height=m.height,$.drawImage(m,0,0);const k=$.getImageData(0,0,m.width,m.height).data,H=[],ae=[];for(let re=0;re<m.height;(re+=1)-1){const Y=[];for(let ve=0;ve<m.width;(ve+=1)-1){const fe=(re*m.width+ve)*4,ie=k[fe],we=k[fe+1],Le=k[fe+2],p=v(ie,we,Le),b=s(p,H,i);Y.push(b)}ae.push(Y)}d(ae,H)}},m.src=(g=_.target)==null?void 0:g.result},c.readAsDataURL(h)};Ye(()=>{w(n)&&f(w(n)[0],w(r),(h,i)=>{Ae.v=h[0].length,Xe.v=h.length,L.v=i,Ne.v=0,I.v=Dt();for(let d=0;d<I.numRows;(d+=1)-1)for(let c=0;c<I.numColumns;(c+=1)-1)I.v[d][c].colorIndex=h[d][c];Ot()})});var u=fn(),a=Ge(u),l=R(a,2);oe(l,()=>w(n),h=>{var i=vn();se(i),Je(i,()=>w(r),d=>J(r,d)),E(h,i)}),tn(a,()=>w(n),h=>J(n,h)),E(e,u),j()}var ye=V(()=>Ze),bt=V(()=>Ne),xt=V(()=>ze),ke=V(()=>L),dn=A('<button class="flex-1">-</button>'),hn=A('<!> <button class="flex-1">+</button>',1),pn=A('<input type="color" class="h-8 min-w-12 flex-1 border-0">'),_n=A('<div><div class="flex flex-wrap"><!></div> <div class="flex flex-wrap"><input type="color" class="h-8 min-w-12 flex-1 border-0"> <!></div></div>');function mn(e,t){Q(t,!1);const r=()=>{const l="0123456789abcdef";let h="#";for(let i=0;i<6;(i+=1)-1){const d=Math.floor(Math.random()*l.length);h+=l[d]}return h},n=()=>ke().v.length>2;he();var o=_n(),v=O(o),s=O(v);oe(s,()=>!K.v,l=>{var h=hn(),i=Ge(h);oe(i,n,c=>{var _=dn();_.__click=()=>{ke().v.pop(),bt().v>ke().v.length-1&&bt(bt().v-=1),ir()},E(c,_)});var d=R(i,2);d.__click=()=>{ke().v.push(r())},E(l,h)}),N(v);var f=R(v,2),u=O(f);se(u),u.__change=()=>{ye(ye().v=!0)},u.__click=()=>{ye(ye().v=!1)};var a=R(u,2);Ce(a,1,()=>ke().v,Te,(l,h,i)=>{var d=pn();se(d),d.__change=()=>{ye(ye().v=!0)},d.__click=()=>{ye(ye().v=!1)},Je(d,()=>ke().v[i],c=>ke(ke().v[i]=c)),E(l,d)}),N(f),N(o),Je(u,()=>xt().v,l=>xt(xt().v=l)),E(e,o),j()}de(["click","change"]);var yt=V(()=>qe),gn=A('<div class="flex justify-center border-b-2 border-b-black pb-5"><input type="checkbox" class="svelte-1puqql9"></div>');function wn(e,t){Q(t,!1),he();var r=gn(),n=O(r);se(n),N(r),Mt(n,()=>yt().v,o=>yt(yt().v=o)),E(e,r),j()}var pe=V(()=>_e),bn=A('<input name="border" type="radio" class="svelte-14k2w4w">'),xn=A('<div class="flex justify-between p-5 accent-black svelte-14k2w4w"><input name="border" type="radio" class="svelte-14k2w4w"> <input name="border" type="radio" class="svelte-14k2w4w"> <!></div>');function yn(e,t){Q(t,!1);const r=[];he();var n=xn(),o=O(n);se(o),o.value=(o.__value=0)==null?"":0;var v=R(o,2);se(v),v.value=(v.__value=1)==null?"":1;var s=R(v,2);oe(s,()=>Ae.v>5||Xe.v>5,f=>{var u=bn();se(u),u.value=(u.__value=2)==null?"":2,_t(r,[],u,()=>pe().v,a=>pe(pe().v=a)),E(f,u)}),N(n),_t(r,[],o,()=>pe().v,f=>pe(pe().v=f)),_t(r,[],v,()=>pe().v,f=>pe(pe().v=f)),E(e,n),j()}var kn=A("<button>Reveal Tile</button>");function In(e,t){Q(t,!0);const r=B(()=>{const f=[];let u=!0;const a=I.numRows,l=I.numColumns;for(let h=0;h<a;(h+=1)-1)for(let i=0;i<l;(i+=1)-1)ce.v[h][i].colorIndex!==I.v[h][i].colorIndex&&(f.push({column:i,row:h}),u=!1);return{isDifferent:f,allSame:u}}),n=B(()=>w(r).isDifferent),o=B(()=>w(r).allSame);Ye(()=>{Be.v=w(o)});const v=()=>{if(!Be.v){const f=st(0,w(n).length-1),u=w(n)[f].row,a=w(n)[f].column;I.v[u][a]={colorIndex:ce.v[u][a].colorIndex,Xed:!1},Ot()}};var s=kn();s.__click=v,E(e,s),j()}de(["click"]);var kt=V(()=>at),It=V(()=>Pe),$n=A('<div class="flex justify-between border-t-2 border-t-black p-5"><input type="checkbox" class="svelte-1puqql9"> <input type="checkbox" class="svelte-1puqql9"></div>');function Tn(e,t){Q(t,!1),he();var r=$n(),n=O(r);se(n);var o=R(n,2);se(o),N(r),Mt(n,()=>It().v,v=>It(It().v=v)),Mt(o,()=>kt().v,v=>kt(kt().v=v)),E(e,r),j()}const vr="none";function Cn(e){return Array.isArray(e)?e:[e]}function Ke(e,t,r){return e.addEventListener(t,r),()=>e.removeEventListener(t,r)}function En(e,t){const r=e.getBoundingClientRect(),n=Math.abs(t[0].clientX-t[1].clientX),o=Math.abs(t[0].clientY-t[1].clientY),v=Math.min(t[0].clientX,t[1].clientX),s=Math.min(t[0].clientY,t[1].clientY),f=v+n/2,u=s+o/2,a=Math.round(f-r.left),l=Math.round(u-r.top);return{x:a,y:l}}function An(e,t){return t.filter(r=>e.pointerId!==r.pointerId)}function et(e,t,r,n,o){const v=e.getBoundingClientRect(),s=Math.round(r.clientX-v.left),f=Math.round(r.clientY-v.top);e.dispatchEvent(new CustomEvent(`${t}${o}`,{detail:{event:r,pointersCount:n.length,target:r.target,x:s,y:f}}))}function Xn(e,t,r,n,o,v=vr){t.style.touchAction=Cn(v).join(" ");let s=[];function f(a){s.push(a),et(t,e,a,s,"down"),n==null||n(s,a);const l=a.pointerId;function h(g){l===g.pointerId&&(s=An(g,s),s.length||i(),et(t,e,g,s,"up"),o==null||o(s,g))}function i(){d(),c(),_(),m()}const d=Ke(t,"pointermove",g=>{s=s.map(C=>g.pointerId===C.pointerId?g:C),et(t,e,g,s,"move"),r==null||r(s,g)}),c=Ke(t,"lostpointercapture",g=>{h(g)}),_=Ke(t,"pointerup",g=>{h(g)}),m=Ke(t,"pointerleave",g=>{s=[],i(),et(t,e,g,s,"up"),o==null||o(s,g)})}const u=Ke(t,"pointerdown",f);return{destroy:()=>{u()}}}function Wt(e){return Math.hypot(e[0].clientX-e[1].clientX,e[0].clientY-e[1].clientY)}function Sn(e,t){const r={touchAction:vr,composed:!1,...t},n="pinch";let o,v=0,s;function f(l,h){l.length===1&&(o=void 0)}function u(l,h){l.length===2&&(v=Wt(l),s=En(e,l))}function a(l,h){if(l.length===2){const i=Wt(l);if(o!==void 0&&i!==o){const d=i/v;e.dispatchEvent(new CustomEvent(n,{detail:{scale:d,center:s,pointerType:h.pointerType}}))}o=i}return!1}return r.composed?{onMove:a,onDown:u,onUp:null}:Xn(n,e,a,u,f,r.touchAction)}var Mn=A('<input type="range" class="svelte-artubv">');function Hn(e,t){Q(t,!0);const r=100,n=10;let o=ne(1);const v=u=>{u.preventDefault(),u.deltaY<0&&P.v<r?P.v+=5:u.deltaY>0&&P.v>n&&(P.v-=5)},s=u=>{if(!Ue.v)return;const a=w(o);J(o,me(u.detail.scale));const l=w(o)<a;l&&P.v>n?P.v-=1:!l&&P.v<r&&(P.v+=1)};var f=Mn();te("wheel",ue,v,void 0,!1),sr(At.body,u=>Sn(u)),te("pinch",At.body,s),se(f),Fe(f,"max",r),Fe(f,"min",n),Je(f,()=>P.v,u=>P.v=u),E(e,f),j()}var tt=V(()=>qt),Rn=A("<!> <!>",1),Nn=A("<!> <!>",1),Ln=A('<div class="fixed bottom-0 top-0 z-50 flex w-40 max-w-[75%] flex-col overflow-hidden rounded-l-3xl bg-white svelte-187qfh2"><!> <!> <!> <!> <!> <!> <!></div>');function Dn(e,t){Q(t,!1);const r=h=>{h.key==="o"&&tt(tt().v=!tt().v)};he();var n=Ln();te("keydown",ue,r);var o=O(n);oe(o,()=>!K.v,h=>{var i=Rn(),d=Ge(i);un(d,{});var c=R(d,2);cn(c,{}),E(h,i)});var v=R(o,2);sn(v,{});var s=R(v,2);mn(s,{});var f=R(s,2);yn(f,{});var u=R(f,2);wn(u,{});var a=R(u,2);Hn(a,{});var l=R(a,2);oe(l,()=>K.v,h=>{var i=Nn(),d=Ge(i);Tn(d,{});var c=R(d,2);In(c,{}),E(h,i)}),N(n),W(()=>T(n,"right",tt().v?"0":"-300px")),E(e,n),j()}const On=e=>e;function qn(e,{delay:t=0,duration:r=400,easing:n=On}={}){const o=+getComputedStyle(e).opacity;return{delay:t,duration:r,easing:n,css:v=>`opacity: ${v*o}`}}var Pn=A('<div class="font-normal"> </div>'),Yn=A("<th></th>"),zn=A('<thead class="top-0 z-20 align-bottom"><tr><th class="invisible"></th><!></tr></thead>'),Bn=A("<div> </div>"),Gn=A('<td class="left-0 z-10"><div></div></td>'),Fn=A("<span>X</span>"),Jn=A('<td class="box-content" tabindex="0"><!></td>'),Un=A("<tr><!><!></tr>"),Wn=A('<table class="m-32 border-collapse"><!><tbody></tbody></table>');function Vn(e,t){Q(t,!0);let r=ne(!1),n=ne(!1),o=ne(""),v=ne(0);const s=(p,b,y,X)=>{const U=Math.abs(p-y),q=Math.abs(b-X);return U===0&&q===1?X>b?"right":"left":U===1&&q===0?y>p?"below":"above":"not adjacent"},f=p=>p.Xed,u=p=>p.colorIndex===Ne.v,a=(p,b)=>{p.colorIndex=b},l=p=>{p.colorIndex=0},h=p=>{p.Xed=!p.Xed},i=(p,b,y)=>{Ue.v||(p.target instanceof HTMLElement&&p.target.releasePointerCapture(p.pointerId),p.button===0?J(r,!0):p.button===2&&J(n,!0),d(b,y))},d=(p,b)=>{z.v={colorIndex:I.v[p][b].colorIndex,Xed:I.v[p][b].Xed,column:b,row:p},Ze.v=!1,J(v,0),K.v?w(r)?$e.v&&!xe(I.v[p][b])?h(I.v[p][b]):!$e.v&&!f(I.v[p][b])&&(u(I.v[p][b])?l(I.v[p][b]):a(I.v[p][b],Ne.v)):w(n)&&(xe(I.v[p][b])?l(I.v[p][b]):h(I.v[p][b])):w(r)?a(I.v[p][b],Ne.v):w(n)&&l(I.v[p][b])},c=p=>{p.button===0?J(r,!1):p.button===2&&J(n,!1),Ze.v=!0},_=(p,b)=>{if(!w(r)&&!w(n)||w(r)&&w(n)||z.v.row===-1||Ue.v)return;Pr(v),w(v)===1&&J(o,me(s(z.v.row,z.v.column,p,b)));const y=I.v[z.v.row][z.v.column];if(K.v)if(w(o)==="above"||w(o)==="below"){const X=Math.min(z.v.row,p),U=Math.max(z.v.row,p);for(let q=X;q<U+1;(q+=1)-1){const M=I.v[q][z.v.column];w(r)?$e.v&&!xe(M)?M.Xed=y.Xed:!$e.v&&!f(M)&&a(M,y.colorIndex):z.v.Xed&&!xe(M)?M.Xed=!1:z.v.colorIndex===0&&!xe(M)?M.Xed=!0:z.v.colorIndex!==0&&!f(M)&&l(M)}}else{const X=Math.min(z.v.column,b),U=Math.max(z.v.column,b);for(let q=X;q<U+1;(q+=1)-1){const M=I.v[z.v.row][q];w(r)?$e.v&&!xe(M)?M.Xed=y.Xed:!$e.v&&!f(M)&&a(M,y.colorIndex):z.v.Xed&&!xe(M)?M.Xed=!1:z.v.colorIndex===0&&!xe(M)?M.Xed=!0:z.v.colorIndex!==0&&!f(M)&&l(M)}}else w(r)?a(I.v[p][b],Ne.v):l(I.v[p][b])};let m=ne(!1),g=ne(me(_e.v)),C=ne(me(qe.v));Ye(()=>{Be.v&&!w(m)?(J(m,!0),J(g,me(_e.v)),J(C,me(qe.v)),_e.v=0,qe.v=!1):!Be.v&&w(m)&&(J(m,!1),_e.v=w(g),qe.v=w(C))});let $=0,k=0;const H=(p,b)=>{$=p,k=b},ae=p=>{var X;if(p.key!=="ArrowUp"&&p.key!=="ArrowDown"&&p.key!=="ArrowLeft"&&p.key!=="ArrowRight"&&p.key!==" ")return;p.preventDefault();let b=$,y=k;p.key==="ArrowUp"&&$>0?b-=1:p.key==="ArrowDown"&&$<I.numRows-1?b+=1:p.key==="ArrowLeft"&&k>0?y-=1:p.key==="ArrowRight"&&k<I.numColumns-1?y+=1:p.key===" "&&J(r,!0),(X=document.querySelector(`[data-row="${b}"][data-col="${y}"]`))==null||X.focus(),w(r)&&d(b,y)},re=p=>{p.key===" "&&J(r,!1)},Y=B(()=>{let p=[[]];for(let b=0;b<ce.rowHints.length;(b+=1)-1){p[b]=[];const y=ce.rowHints[b];for(let X=0;X<y.length;(X+=1)-1){const U=y[X];let q=0,M=0;for(let x=0;x<y.length;(x+=1)-1)x!==0&&y[x-1].color===y[x].color&&(x<=X?q+=1:x>X&&(M+=1)),x<X?q+=y[x].count:x>X&&(M+=y[x].count);const F=I.rowEncodes[b];let ee=0,D=F.length-1,S=0;for(let x=0;x<F.length&&!(S>=q);(x+=1)-1)S+=F[x].count,ee+=1;S=0;for(let x=D;x>=0&&!(S>=M);(x-=1)+1)S+=F[x].count,D-=1;for(let x=ee;x<=D;(x+=1)-1)if(JSON.stringify(U)===JSON.stringify(F[x])){if(p[b][X]=x,p[b].slice(0,-1).includes(x))continue;break}}}return p}),ve=B(()=>{let p=[[]];for(let b=0;b<ce.columnHints.length;(b+=1)-1){p[b]=[];const y=ce.columnHints[b];for(let X=0;X<y.length;(X+=1)-1){const U=y[X];let q=0,M=0;for(let x=0;x<y.length;(x+=1)-1)x!==0&&y[x-1].color===y[x].color&&(x<=X?q+=1:x>X&&(M+=1)),x<X?q+=y[x].count:x>X&&(M+=y[x].count);const F=I.columnEncodes[b];let ee=0,D=F.length-1,S=0;for(let x=0;x<F.length&&!(S>=q);(x+=1)-1)S+=F[x].count,ee+=1;S=0;for(let x=D;x>=0&&!(S>=M);(x-=1)+1)S+=F[x].count,D-=1;for(let x=ee;x<=D;(x+=1)-1)if(JSON.stringify(U)===JSON.stringify(F[x])){if(p[b][X]=x,p[b].slice(0,-1).includes(x))continue;break}}}return p}),fe=(p,b)=>p.filter(y=>y===b).length>1;var ie=Wn();te("pointerup",ue,c),te("keyup",ue,re);var we=O(ie);oe(we,()=>K.v,p=>{var b=zn(),y=O(b),X=R(O(y));Ce(X,17,()=>({length:I.numColumns}),Te,(U,q,M)=>{var F=Yn();Ce(F,21,()=>ce.columnHints[M],Te,(ee,D,S)=>{var x=Pn();const be=B(()=>w(ve)[M][S]>=0&&!fe(w(ve)[M],w(ve)[M][S])?.2:1);W(()=>T(x,"opacity",w(be)));const Z=B(()=>L.v[Ht(w(D).color)]);W(()=>T(x,"color",w(Z)));var ut=O(x,!0);N(x),W(()=>{T(x,"font-size",at.v?P.v/3+"px":P.v/1.5+"px"),Xt(ut,w(D).count)}),E(ee,x)}),N(F),E(U,F)}),N(y),N(b),W(()=>{T(b,"position",at.v?"sticky":""),T(b,"background-color",at.v?L.v[0]:"")}),E(p,b)});var Le=R(we);Ce(Le,21,()=>({length:I.numRows}),Te,(p,b,y)=>{var X=Un(),U=O(X);oe(U,()=>K.v,F=>{var ee=Gn(),D=O(ee);T(D,"justify-content","right"),T(D,"display","flex"),Ce(D,21,()=>ce.rowHints[y],Te,(S,x,be)=>{var Z=Bn();const ut=B(()=>w(Y)[y][be]>=0&&!fe(w(Y)[y],w(Y)[y][be])?.2:1);W(()=>T(Z,"opacity",w(ut)));const fr=B(()=>L.v[Ht(w(x).color)]);W(()=>T(Z,"color",w(fr))),T(Z,"justify-content","center"),T(Z,"align-items","center"),T(Z,"display","flex");var ur=O(Z,!0);N(Z),W(()=>{T(Z,"font-size",Pe.v?P.v/3+"px":P.v/1.5+"px"),T(Z,"min-width",Pe.v?P.v/3+"px":P.v+"px"),T(Z,"height",Pe.v?P.v/3+"px":P.v+"px"),Xt(ur,w(x).count)}),E(S,Z)}),N(D),N(ee),W(()=>{T(ee,"position",Pe.v?"sticky":""),T(ee,"background-color",Pe.v?L.v[0]:"")}),E(F,ee)});var q=R(U);Ce(q,17,()=>({length:I.numColumns}),Te,(F,ee,D)=>{var S=Jn();S.__pointerdown=be=>{i(be,y,D)},Fe(S,"data-row",y),Fe(S,"data-col",D),S.__keydown=ae,T(S,"transition","background-color .5s, border-radius .5s"),T(S,"text-align","center");var x=O(S);oe(x,()=>f(I.v[y][D])&&!Be.v,be=>{var Z=Fn();en(3,Z,()=>qn,()=>({duration:300})),E(be,Z)}),N(S),W(()=>{T(S,"border-left",_e.v===0?"0":`solid ${D%5===0&&D!==0&&_e.v===2?`4px ${L.v[1]}`:`2px ${ze.v}`}`),T(S,"border-top",_e.v===0?"0":`solid ${y%5===0&&y!==0&&_e.v===2?`4px ${L.v[1]}`:`2px ${ze.v}`}`),T(S,"border-radius",qe.v===!0?"20%":"0"),T(S,"background-color",L.v[I.v[y][D].colorIndex]),T(S,"font-size",P.v/1.5+"px"),T(S,"min-width",P.v+"px"),T(S,"height",P.v+"px"),T(S,"color",L.v[1])}),te("pointerenter",S,()=>{_(y,D)}),te("focus",S,()=>{H(y,D)}),E(F,S)}),N(X),E(p,X)}),N(Le),N(ie),E(e,ie),j()}de(["pointerdown","keydown"]);var Kn=A('<div class="flex"><button class="flex-1">Undo</button> <button class="flex-1">Redo</button></div>');function Zn(e,t){Q(t,!0);const r=()=>{z.v.row!==-1&&Ot(),z.reset()},n=l=>{l.key==="z"?v():l.key==="y"&&s()},o=()=>{I.v=ft(Se.v[ge.v]),ir()},v=()=>{ge.v!==0&&(ge.v-=1,o())},s=()=>{ge.v!==Se.v.length-1&&(ge.v+=1,o())};var f=Kn();te("keydown",ue,n),te("pointerup",ue,r);var u=O(f);u.__click=v;var a=R(u,2);a.__click=s,N(f),E(e,f),j()}de(["click"]);var Me=V(()=>Ue),He=V(()=>Ne),Re=V(()=>$e),Qn=A('<button class="flex aspect-square h-8 flex-1 items-center justify-center p-0"></button>'),jn=A('<button class="flex aspect-square h-8 flex-1 items-center justify-center p-0">X</button>'),eo=A('<div class="flex flex-wrap"><!> <!> <button class="flex aspect-square h-8 flex-1 items-center justify-center p-0" aria-label="Move"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 21v-9m0 9l3-3m-3 3l-3-3m3-6V3m0 9H3m9 0h9m-9-9L9 6m3-3l3 3M3 12l3 3m-3-3l3-3m15 3l-3-3m3 3l-3 3"></path></svg></button></div>');function to(e,t){Q(t,!1);const r=l=>{/[1-9]/.test(l.key)&&Number(l.key)<=L.v.length?n(Number(l.key)-1):l.key==="m"?v():l.key==="x"&&K.v&&o()},n=l=>{Re(Re().v=!1),Me(Me().v=!1),He(He().v=l)},o=()=>{Re(Re().v=!0),Me(Me().v=!1),He(He().v=-1)},v=()=>{Re(Re().v=!1),Me(Me().v=!0),He(He().v=-1)};he();var s=eo();te("keydown",ue,r);var f=O(s);Ce(f,1,()=>L.v,Te,(l,h,i)=>{var d=Qn();d.__click=()=>{n(i)},d.textContent=i+1,W(()=>{T(d,"border",`solid 2px ${i===He().v?i===0?L.v[1]:L.v[0]:L.v[i]}`),T(d,"color",i===0?L.v[1]:L.v[0]),T(d,"background-color",L.v[i])}),E(l,d)});var u=R(f,2);oe(u,()=>K.v,l=>{var h=jn();h.__click=o,W(()=>T(h,"border",`solid 2px ${Re().v?L.v[1]:"ButtonFace"}`)),E(l,h)});var a=R(u,2);a.__click=v,N(s),W(()=>T(a,"border",`solid 2px ${Me().v?L.v[1]:"ButtonFace"}`)),E(e,s),j()}de(["click"]);var $t=V(()=>qt),ro=A('<footer class="flex justify-center"><div><button>Options</button> <div><!> <!></div></div></footer>');function no(e,t){Q(t,!1),he();var r=ro(),n=O(r);T(n,"border-top-right-radius","8px"),T(n,"border-top-left-radius","8px"),T(n,"overflow","hidden"),T(n,"display","flex");var o=O(n);o.__click=()=>{$t($t().v=!$t().v)};var v=R(o,2),s=O(v);to(s,{});var f=R(s,2);Zn(f,{}),N(v),N(n),N(r),E(e,r),j()}de(["click"]);var oo=A('<div class="absolute -left-4 -top-4 scale-[40%]" id="dynamic-svg"><a href="https://github.com/Tree52/Shareogram" aria-label="Link to GitHub repository"><svg height="96" width="98" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z" fill="#fff" fill-rule="evenodd"></path></svg></a></div>');function so(e){var t=oo();E(e,t)}var Vt=V(()=>ce),Tt=V(()=>K),ao=A("<span> </span>"),io=A('<button class="rounded-b-lg">Start Game</button>'),lo=A('<header class="flex items-center justify-center"><!> <!></header>');function co(e,t){Q(t,!1),he();var r=lo(),n=O(r);so(n);var o=R(n,2);oe(o,()=>Tt().v,v=>{var s=ao();T(s,"padding-top","10px");var f=O(s,!0);N(s),W(()=>Xt(f,Be.v?"You win!":"Keep trying")),E(v,s)},v=>{var s=io();s.__click=()=>{Tt(Tt().v=!0),Vt(Vt().v=I.v),ot()},E(v,s)}),N(r),E(e,r),j()}de(["click"]);const vo=e=>{let t=!1,r,n,o,v;const s=a=>{(a.button===1||a.button===0&&Ue.v)&&(a.preventDefault(),t=!0,r=a.pageX-e.offsetLeft,n=a.pageY-e.offsetTop,o=e.scrollLeft,v=e.scrollTop,e.style.cursor="grabbing",document.addEventListener("mousemove",f),document.addEventListener("mouseup",u))},f=a=>{if(!t)return;a.preventDefault();const l=a.pageX-e.offsetLeft,h=a.pageY-e.offsetTop,i=(l-r)*2,d=(h-n)*2;e.scrollLeft=o-i,e.scrollTop=v-d},u=()=>{t=!1,e.style.cursor="",document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",u)};return e.addEventListener("mousedown",s),{destroy:()=>{e.removeEventListener("mousedown",s),e.style.cursor=""}}};var fo=A('<li class="absolute -bottom-[200px] block aspect-square rounded-[10%] bg-white/20 svelte-qqc5lb"></li>'),uo=A('<ul class="absolute inset-0 -z-10 m-0 overflow-hidden p-0 svelte-qqc5lb"></ul> <!>  <main class="m-3 flex flex-1 overflow-auto svelte-qqc5lb"><!></main> <!> <!>',1);function bo(e,t){Q(t,!0);let r=ne(!1);const n=c=>{const _=c.match(/(\d+|[a-zX]+)/g),m=[],g=[];if(_)for(let C=0;C<_.length;(C+=1)-1){const $=_[C];isNaN(Number($))?g.push($):m.push(Number($))}if(m.length!==g.length)throw new Error("Error: different number of counts and letters.");return{letters:g,numbers:m}},o=c=>{const _=n(c),m=[];let g=0,C=0;for(let $=0;$<Xe.v;($+=1)-1)m[$]=[];for(let $=0;$<_.numbers.length;($+=1)-1)for(let k=0;k<_.numbers[$];(k+=1)-1)_.letters[$]==="X"?m[g][(C+=1)-1]={colorIndex:0,Xed:!0}:m[g][(C+=1)-1]={colorIndex:Ht(_.letters[$]),Xed:!1},C>Ae.v-1&&(g+=1,C=0);return m},v=c=>(c.preventDefault(),c.returnValue="",""),s=()=>{const c=window.location.hash;if(c){try{const _=c.slice(1).split("-");K.v=!!Number(_[0]),Ae.v=Number(_[1]),Xe.v=Number(_[2]),ze.v="#"+_[3];const m=K.v?_.slice(4,-2):_.slice(4,-1);for(let g=0;g<m.length;(g+=1)-1)L.v[g]="#"+m[g];I.v=o(_[K.v?_.length-2:_.length-1]),Se.v[0]=ft(I.v),K.v&&(ce.v=o(_[_.length-1]))}catch{alert("Couldn't load the code from the URL. Make sure you copied the link correctly.")}Ze.v=!0}J(r,!0)};Ye(()=>{for(;!w(r);)s()}),Ye(()=>{if(Ze.v){const c=[Number(K.v),Ae.v,Xe.v,ze.v.slice(1)];for(let _=0;_<L.v.length;(_+=1)-1)c.push(L.v[_].slice(1));c.push(I.encoded),K.v&&c.push(ce.encoded),window.location.hash=c.join("-")}}),Ye(()=>{document.body.style.color=L.v[0];const c=document.querySelector("#dynamic-svg path");c==null||c.setAttribute("fill",L.v[0])});var f=uo();Br(c=>{At.title="Shareogram"}),te("contextmenu",ue,c=>c.preventDefault()),te("load",ue,s),te("beforeunload",ue,c=>{v(c)});var u=Ge(f);Ce(u,20,()=>({length:35}),Te,(c,_)=>{var m=fo();const g=B(()=>st(0,60)+"s");W(()=>T(m,"animation-delay",w(g)));const C=B(()=>st(5,200)+"px");W(()=>T(m,"width",w(C)));const $=B(()=>st(0,100)+"%");W(()=>T(m,"left",w($))),E(c,m)}),N(u);var a=R(u,2);co(a,{});var l=R(a,2);l.__click=()=>{qt.v=!1};var h=O(l);Vn(h,{}),N(l),sr(l,c=>vo(c));var i=R(l,2);no(i,{});var d=R(i,2);Dn(d,{}),W(()=>{T(u,"background-color",ze.v),T(l,"touch-action",Ue.v?"auto":"none")}),E(e,f),j()}de(["click"]);export{bo as component,wo as universal};
