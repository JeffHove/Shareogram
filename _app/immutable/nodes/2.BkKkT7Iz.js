import{a as I,t as C}from"../chunks/disclose-version.CDbhbxgN.js";import{A as Xt,z as vt,o as Bt,R as Yt,b as Ut,as as At,h as j,G as je,D as Wt,a9 as Mt,H as Kt,F as xt,I as et,c as Re,at as Fe,B as Rt,a as Dt,C as Jt,_ as Ue,x as We,au as ht,av as wt,aw as mt,ax as Vt,a8 as Zt,ay as Qt,d as jt,T as er,a5 as tr,Z as Ht,az as rr,m as or,q as ct,aA as nr,a2 as sr,ab as Lt,u as Ot,aB as ar,aC as lr,aD as ir,E as vr,aE as cr,aF as fr,aG as ur,n as De,aH as dr,X as yt,Y as kt,aI as _r,ac as Je,i as hr,k as Y,j as m,aq as re,P as K,p as U,e as W,g as D,s as R,r as X,K as He,f as Ve,aJ as de,t as V,aK as mr,aL as pr}from"../chunks/runtime.Co6oywfN.js";import{a as gr,b as br,l as Ze,d as se,e as oe,s as ft,c as xr}from"../chunks/render.BvEaRdMn.js";import{a as wr,p as be,i as Z}from"../chunks/if.BtiKHYwi.js";import{i as ae}from"../chunks/legacy.BBsCaWKx.js";function Qe(e,t=!1){return qe(e,new Map)}function qe(e,t,r,o){if(typeof e=="object"&&e!==null){const c=t.get(e);if(c!==void 0)return c;if(e instanceof Map)return new Map(e);if(e instanceof Set)return new Set(e);if(Xt(e)){const a=[];t.set(e,a);for(let l=0;l<e.length;l+=1)a.push(qe(e[l],t));return a}if(vt(e)===Bt){const a={};t.set(e,a);for(var n in e)a[n]=qe(e[n],t);return a}if(e instanceof Date)return structuredClone(e);if(typeof e.toJSON=="function")return qe(e.toJSON(),t)}if(e instanceof EventTarget)return e;try{return structuredClone(e)}catch{return e}}function xe(e,t){return t}function yr(e,t,r,o){for(var n=[],c=t.length,a=0;a<c;a++)Vt(t[a].e,n,!0);var l=c>0&&n.length===0&&r!==null;if(l){var v=r.parentNode;Zt(v),v.append(r),o.clear(),pe(e,t[0].prev,t[c-1].next)}Qt(n,()=>{for(var i=0;i<c;i++){var f=t[i];l||(o.delete(f.k),pe(e,f.prev,f.next)),jt(f.e,!l)}})}function we(e,t,r,o,n,c=null){var a=e,l={flags:t,items:new Map,first:null},v=(t&At)!==0;if(v){var i=e;a=j?je(er(i)):i.appendChild(Yt())}j&&Wt();var f=null,d=!1;Ut(()=>{var s=r(),u=Xt(s)?s:s==null?[]:Mt(s),_=u.length;if(d&&_===0)return;d=_===0;let p=!1;if(j){var h=a.data===Kt;h!==(_===0)&&(a=xt(),je(a),et(!1),p=!0)}if(j){for(var y=null,S,N=0;N<_;N++){if(Re.nodeType===8&&Re.data===tr){a=Re,p=!0,et(!1);break}var b=u[N],T=o(b,N);S=zt(Re,l,y,null,b,T,N,n,t),l.items.set(T,S),y=S}_>0&&je(xt())}if(!j){var x=Ht;kr(u,l,a,n,t,(x.f&Fe)!==0,o)}c!==null&&(_===0?f?Rt(f):f=Dt(()=>c(a)):f!==null&&Jt(f,()=>{f=null})),p&&et(!0),r()}),j&&(a=Re)}function kr(e,t,r,o,n,c,a){var J,q,A,G;var l=(n&rr)!==0,v=(n&(ht|mt))!==0,i=e.length,f=t.items,d=t.first,s=d,u,_=null,p,h=[],y=[],S,N,b,T;if(l)for(T=0;T<i;T+=1)S=e[T],N=a(S,T),b=f.get(N),b!==void 0&&((J=b.a)==null||J.measure(),(p??(p=new Set)).add(b));for(T=0;T<i;T+=1){if(S=e[T],N=a(S,T),b=f.get(N),b===void 0){var x=s?s.e.nodes_start:r;_=zt(x,t,_,_===null?t.first:_.next,S,N,T,o,n),f.set(N,_),h=[],y=[],s=_.next;continue}if(v&&$r(b,S,T,n),b.e.f&Fe&&(Rt(b.e),l&&((q=b.a)==null||q.unfix(),(p??(p=new Set)).delete(b))),b!==s){if(u!==void 0&&u.has(b)){if(h.length<y.length){var k=y[0],g;_=k.prev;var O=h[0],z=h[h.length-1];for(g=0;g<h.length;g+=1)$t(h[g],k,r);for(g=0;g<y.length;g+=1)u.delete(y[g]);pe(t,O.prev,z.next),pe(t,_,O),pe(t,z,k),s=k,_=z,T-=1,h=[],y=[]}else u.delete(b),$t(b,s,r),pe(t,b.prev,b.next),pe(t,b,_===null?t.first:_.next),pe(t,_,b),_=b;continue}for(h=[],y=[];s!==null&&s.k!==N;)(c||!(s.e.f&Fe))&&(u??(u=new Set)).add(s),y.push(s),s=s.next;if(s===null)continue;b=s}h.push(b),_=b,s=b.next}if(s!==null||u!==void 0){for(var H=u===void 0?[]:Mt(u);s!==null;)(c||!(s.e.f&Fe))&&H.push(s),s=s.next;var E=H.length;if(E>0){var Q=n&At&&i===0?r:null;if(l){for(T=0;T<E;T+=1)(A=H[T].a)==null||A.measure();for(T=0;T<E;T+=1)(G=H[T].a)==null||G.fix()}yr(t,H,Q,f)}}l&&Ue(()=>{var ee;if(p!==void 0)for(b of p)(ee=b.a)==null||ee.apply()}),We.first=t.first&&t.first.e,We.last=_&&_.e}function $r(e,t,r,o){o&ht&&wt(e.v,t),o&mt?wt(e.i,r):e.i=r}function zt(e,t,r,o,n,c,a,l,v){var i=(v&ht)!==0,f=(v&nr)===0,d=i?f?or(n):ct(n):n,s=v&mt?ct(a):a,u={i:s,v:d,k:c,a:null,e:null,prev:r,next:o};try{return u.e=Dt(()=>l(e,d,s),j),u.e.prev=r&&r.e,u.e.next=o&&o.e,r===null?t.first=u:(r.next=u,r.e.next=u.e),o!==null&&(o.prev=u,o.e.prev=u.e),u}finally{}}function $t(e,t,r){for(var o=e.next?e.next.e.nodes_start:r,n=t?t.e.nodes_start:r,c=e.e.nodes_start;c!==o;){var a=sr(c);n.before(c),c=a}}function pe(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function Ir(e,t,r){Lt(()=>{var o=Ot(()=>t(e,r==null?void 0:r())||{});if(o!=null&&o.destroy)return()=>o.destroy()})}function ne(e){if(j){var t=!1,r=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var o=e.value;Ke(e,"value",null),e.value=o}if(e.hasAttribute("checked")){var n=e.checked;Ke(e,"checked",null),e.checked=n}}};e.__on_r=r,ir(r),gr()}}function Ke(e,t,r,o){var n=e.__attributes??(e.__attributes={});j&&(n[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||n[t]!==(n[t]=r)&&(t==="style"&&"__styles"in e&&(e.__styles={}),t==="loading"&&(e[ar]=r),r==null?e.removeAttribute(t):typeof r!="string"&&Cr(e).includes(t)?e[t]=r:e.setAttribute(t,r))}var It=new Map;function Cr(e){var t=It.get(e.nodeName);if(t)return t;It.set(e.nodeName,t=[]);for(var r,o=vt(e),n=Element.prototype;n!==o;){r=lr(o);for(var c in r)r[c].set&&t.push(c);o=vt(o)}return t}function $(e,t,r,o){var n=e.__styles??(e.__styles={});n[t]!==r&&(n[t]=r,r==null?e.style.removeProperty(t):e.style.setProperty(t,r,""))}const Tr=()=>performance.now(),ye={tick:e=>requestAnimationFrame(e),now:()=>Tr(),tasks:new Set};function Gt(e){ye.tasks.forEach(t=>{t.c(e)||(ye.tasks.delete(t),t.f())}),ye.tasks.size!==0&&ye.tick(Gt)}function Er(e){let t;return ye.tasks.size===0&&ye.tick(Gt),{promise:new Promise(r=>{ye.tasks.add(t={c:e,f:r})}),abort(){ye.tasks.delete(t)}}}function ze(e,t){e.dispatchEvent(new CustomEvent(t))}function Sr(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function Ct(e){const t={},r=e.split(";");for(const o of r){const[n,c]=o.split(":");if(!n||c===void 0)break;const a=Sr(n.trim());t[a]=c.trim()}return t}const Nr=e=>e;function Xr(e,t,r,o){var n=(e&dr)!==0,c="both",a,l=t.inert,v,i;function f(){var p=Ht,h=We;yt(null),kt(null);try{return a??(a=r()(t,(o==null?void 0:o())??{},{direction:c}))}finally{yt(p),kt(h)}}var d={is_global:n,in(){t.inert=l,ze(t,"introstart"),v=ut(t,f(),i,1,()=>{ze(t,"introend"),v==null||v.abort(),v=a=void 0})},out(p){t.inert=!0,ze(t,"outrostart"),i=ut(t,f(),v,0,()=>{ze(t,"outroend"),p==null||p()})},stop:()=>{v==null||v.abort(),i==null||i.abort()}},s=We;if((s.transitions??(s.transitions=[])).push(d),br){var u=n;if(!u){for(var _=s.parent;_&&_.f&vr;)for(;(_=_.parent)&&!(_.f&cr););u=!_||(_.f&fr)!==0}u&&Lt(()=>{Ot(()=>d.in())})}}function ut(e,t,r,o,n){var c=o===1;if(ur(t)){var a,l=!1;return Ue(()=>{if(!l){var h=t({direction:c?"in":"out"});a=ut(e,h,r,o,n)}}),{abort:()=>{l=!0,a==null||a.abort()},deactivate:()=>a.deactivate(),reset:()=>a.reset(),t:()=>a.t()}}if(r==null||r.deactivate(),!(t!=null&&t.duration))return n(),{abort:De,deactivate:De,reset:De,t:()=>o};const{delay:v=0,css:i,tick:f,easing:d=Nr}=t;var s=[];if(c&&r===void 0&&(f&&f(0,1),i)){var u=Ct(i(0,1));s.push(u,u)}var _=()=>1-o,p=e.animate(s,{duration:v});return p.onfinish=()=>{var h=(r==null?void 0:r.t())??1-o;r==null||r.abort();var y=o-h,S=t.duration*Math.abs(y),N=[];if(S>0){if(i)for(var b=Math.ceil(S/16.666666666666668),T=0;T<=b;T+=1){var x=h+y*d(T/b),k=i(x,1-x);N.push(Ct(k))}_=()=>{var g=p.currentTime;return h+y*d(g/S)},f&&Er(()=>{if(p.playState!=="running")return!1;var g=_();return f(g,1-g),!0})}p=e.animate(N,{duration:S,fill:"forwards"}),p.onfinish=()=>{_=()=>o,f==null||f(o,1-o),n()}},{abort:()=>{p&&(p.cancel(),p.effect=null,p.onfinish=De)},deactivate:()=>{n=De},reset:()=>{o===0&&(f==null||f(1,0))},t:()=>_()}}function Me(e,t,r=t){var o=_r();Ze(e,"input",()=>{var n=Et(e)?St(e.value):e.value;r(n),o&&n!==(n=t())&&(e.value=n??"")}),Je(()=>{var n=t();if(j&&e.defaultValue!==e.value){r(e.value);return}Et(e)&&n===St(e.value)||e.type==="date"&&!n&&!e.value||n!==e.value&&(e.value=n??"")})}const tt=new Set;function rt(e,t,r,o,n=o){var c=r.getAttribute("type")==="checkbox",a=e;let l=!1;if(t!==null)for(var v of t)a=a[v]??(a[v]=[]);a.push(r),Ze(r,"change",()=>{var i=r.__value;c&&(i=Tt(a,i,r.checked)),n(i)},()=>n(c?[]:null)),Je(()=>{var i=o();if(j&&r.defaultChecked!==r.checked){l=!0;return}c?(i=i||[],r.checked=i.includes(r.__value)):r.checked=wr(r.__value,i)}),hr(()=>{var i=a.indexOf(r);i!==-1&&a.splice(i,1)}),tt.has(a)||(tt.add(a),Ue(()=>{a.sort((i,f)=>i.compareDocumentPosition(f)===4?-1:1),tt.delete(a)})),Ue(()=>{if(l){var i;if(c)i=Tt(a,i,r.checked);else{var f=a.find(d=>d.checked);i=f==null?void 0:f.__value}n(i)}})}function Ar(e,t,r=t){Ze(e,"change",()=>{var o=e.checked;r(o)}),t()==null&&r(!1),Je(()=>{var o=t();e.checked=!!o})}function Tt(e,t,r){for(var o=new Set,n=0;n<e.length;n+=1)e[n].checked&&o.add(e[n].__value);return r||o.delete(t),Array.from(o)}function Et(e){var t=e.type;return t==="number"||t==="range"}function St(e){return e===""?null:+e}function Mr(e,t,r=t){Ze(e,"change",()=>{r(e.files)}),Je(()=>{e.files=t()})}function B(e){var t=ct(0);return function(){return arguments.length===1?(Y(t,m(t)+1),arguments[0]):(m(t),e())}}const Rr=!0,Po=Object.freeze(Object.defineProperty({__proto__:null,prerender:Rr},Symbol.toStringTag,{value:"Module"})),te=e=>e.colorIndex!==0,pt=()=>{const e=[[]];for(let t=0;t<$e.v;(t+=1)-1){e[t]=[];for(let r=0;r<ke.v;(r+=1)-1)e[t][r]={colorIndex:0,Xed:!1}}return e},Pt=()=>{for(let e=0;e<w.numRows;(e+=1)-1)for(let t=0;t<w.numColumns;(t+=1)-1)w.v[e][t].colorIndex>M.v.length-1&&(w.v[e][t].colorIndex=0)},gt=()=>{ue.v!==Ie.v.length-1&&Ie.v.splice(ue.v+1),ue.v+=1,Ie.v.push(Qe(w.v))},Be=()=>{ke.v<1||$e.v<1||(w.v=pt(),Ie.reset(),Ie.v[0]=Qe(w.v),ue.reset(),ge.v=!1)},dt=e=>{let t=0;for(let r=0;r<e.length;(r+=1)-1)t*=26,t+=e.charCodeAt(r)-97+1;return t-1},_t=e=>{const t=parseInt(e.replace("#",""),16);return[t>>16&255,t>>8&255,t&255]},Ye=(e,t)=>Math.floor(Math.random()*(t-e+1)+e),Ge=e=>{let t="";for(;e>=0;)t=String.fromCharCode(e%26+97)+t,e=Math.floor(e/26)-1;return t},F=e=>{let t=re(be(e));return{set v(o){Y(t,be(o))},get v(){return m(t)},reset:()=>Y(t,be(e))}},Ft=()=>{const e=F(qt),t=K(()=>e.v.length),r=K(()=>e.v[0].length),o=K(()=>e.v.map(l=>l.map(v=>v.colorIndex))),n=K(()=>{const l=[[]],v=e.v.length,i=e.v[0].length;for(let f=0;f<v;(f+=1)-1){l[f]=[{color:"",count:0}];for(let d=0;d<i;(d+=1)-1)if(te(e.v[f][d])){const s=d===0?null:e.v[f][d-1].colorIndex,u=e.v[f][d].colorIndex;s!==u?l[f].push({color:Ge(u),count:1}):l[f][l[f].length-1].count+=1}l[f].length>1&&l[f][0].count===0&&l[f].shift()}return l}),c=K(()=>{const l=[[]];for(let v=0;v<m(r);(v+=1)-1){l[v]=[{color:"",count:0}];for(let i=0;i<m(t);(i+=1)-1)if(te(e.v[i][v])){const f=i===0?null:e.v[i-1][v].colorIndex,d=e.v[i][v].colorIndex;f!==d?l[v].push({color:Ge(d),count:1}):l[v][l[v].length-1].count+=1}l[v].length>1&&l[v][0].count===0&&l[v].shift()}return l}),a=K(()=>{let l="",v=1;for(let f=0;f<m(t);(f+=1)-1)for(let d=0;d<m(r);(d+=1)-1)if(!(f===0&&d===0)){const s=d===0?e.v[f-1][m(r)-1]:e.v[f][d-1];s.colorIndex===e.v[f][d].colorIndex&&s.Xed===e.v[f][d].Xed?v+=1:(l+=v+(s.Xed?"X":Ge(s.colorIndex)),v=1)}const i=e.v[m(t)-1][m(r)-1];return l+=v+(i.Xed?"X":Ge(i.colorIndex)),l});return{get colorIndices(){return m(o)},get columnHints(){return m(c)},get numColumns(){return m(r)},get rowHints(){return m(n)},set v(l){e.v=l},get encoded(){return m(a)},get numRows(){return m(t)},get v(){return e.v},reset:e.reset}},Xe=F("#476fb8"),M=F(["#f8fafc","#020617"]),Ce=F(1),ke=F(5),$e=F(5),qt=pt(),w=Ft(),Te=Ft(),Ie=F([qt]),ue=F(0),P=F(!1),L=F({colorIndex:-1,column:-1,Xed:!1,row:-1}),fe=F(1),Le=F(!1),me=F(50),Ae=F(!1),bt=F(!1),ge=F(!1),Ne=F(!0);var Ee=B(()=>$e),Se=B(()=>ke),ot=B(()=>P),Dr=C("<button>New Editor</button>"),Hr=C('<div class="svelte-16du0in"><input type="text" class="svelte-16du0in"> <input type="text" class="svelte-16du0in"></div>'),Lr=C('<div class="svelte-16du0in"><!></div>');function Or(e,t){U(t,!1);const r=c=>Math.max(0,Number(String(c).replace(/[^0-9]/g,"")));ae();var o=Lr(),n=D(o);Z(n,()=>ot().v,c=>{var a=Dr();a.__click=()=>{ot(ot().v=!1),Be()},I(c,a)},c=>{var a=Hr(),l=D(a);ne(l),l.__input=()=>{Se(Se().v=r(Se().v)),Be()};var v=R(l,2);ne(v),v.__input=()=>{Ee(Ee().v=r(Ee().v)),Be()},X(a),Me(l,()=>Se().v,i=>Se(Se().v=i)),Me(v,()=>Ee().v,i=>Ee(Ee().v=i)),I(c,a)}),X(o),I(e,o),W()}se(["click","input"]);const zr=(e,t)=>{t(w.colorIndices,M.v,r=>{const o=document.createElement("a");o.download="shareogram.png",o.href=r,o.click()})};var Gr=C("<button>Export as PNG</button>");function Pr(e,t){U(t,!1);const r=(n,c,a)=>{const l=n[0].length,v=n.length,i=document.createElement("canvas");i.width=l,i.height=v;const f=i.getContext("2d");if(f){const d=f.createImageData(l,v);for(let u=0;u<v;(u+=1)-1)for(let _=0;_<l;(_+=1)-1){const p=c[n[u][_]],h=_t(p);if(h){const[y,S,N]=h,b=(u*l+_)*4;d.data[b]=y,d.data[b+1]=S,d.data[b+2]=N,d.data[b+3]=255}}f.putImageData(d,0,0);const s=i.toDataURL("image/png");a(s)}};ae();var o=Gr();o.__click=[zr,r],I(e,o),W()}se(["click"]);var Fr=C('<input type="range" max="442" min="10">'),qr=C('<input accept="image/png" id="file-upload" type="file" class="svelte-nlo4k4"> <!>',1);function Br(e,t){U(t,!0);let r=re(10),o=re(void 0);const n=(d,s,u)=>{const[_,p,h]=d,[y,S,N]=s;return Math.sqrt((_-y)**2+(p-S)**2+(h-N)**2)<=u},c=(d,s,u)=>"#"+[d,s,u].map(_=>Math.round(_).toString(16).padStart(2,"0")).join(""),a=(d,s,u)=>{const _=_t(d);for(let p=0;p<s.length;(p+=1)-1){const h=_t(s[p]);if(n(_,h,u))return p}return s.push(d),s.length-1},l=(d,s,u)=>{const _=new FileReader;_.onload=p=>{var y;const h=new Image;h.onload=()=>{const S=document.createElement("canvas"),N=S.getContext("2d");if(N){S.width=h.width,S.height=h.height,N.drawImage(h,0,0);const b=N.getImageData(0,0,h.width,h.height).data,T=[],x=[];for(let k=0;k<h.height;(k+=1)-1){const g=[];for(let O=0;O<h.width;(O+=1)-1){const z=(k*h.width+O)*4,H=b[z],E=b[z+1],Q=b[z+2],J=c(H,E,Q),q=a(J,T,s);g.push(q)}x.push(g)}u(x,T)}},h.src=(y=p.target)==null?void 0:y.result},_.readAsDataURL(d)};He(()=>{m(o)&&l(m(o)[0],m(r),(d,s)=>{ke.v=d[0].length,$e.v=d.length,M.v=s,Ce.v=0,w.v=pt();for(let u=0;u<w.numRows;(u+=1)-1)for(let _=0;_<w.numColumns;(_+=1)-1)w.v[u][_].colorIndex=d[u][_];gt()})});var v=qr(),i=Ve(v),f=R(i,2);Z(f,()=>m(o),d=>{var s=Fr();ne(s),Me(s,()=>m(r),u=>Y(r,u)),I(d,s)}),Mr(i,()=>m(o),d=>Y(o,d)),I(e,v),W()}var _e=B(()=>Le),nt=B(()=>Ce),st=B(()=>Xe),he=B(()=>M),Yr=C('<button class="svelte-1ubn0yt">-</button>'),Ur=C('<!> <button class="svelte-1ubn0yt">+</button>',1),Wr=C('<input type="color" class="svelte-1ubn0yt">'),Kr=C('<div class="svelte-1ubn0yt"><div class="svelte-1ubn0yt"><!></div> <div class="svelte-1ubn0yt"><input type="color" class="svelte-1ubn0yt"> <!></div></div>');function Jr(e,t){U(t,!1);const r=()=>{const f="0123456789abcdef";let d="#";for(let s=0;s<6;(s+=1)-1){const u=Math.floor(Math.random()*f.length);d+=f[u]}return d},o=()=>he().v.length>2;ae();var n=Kr(),c=D(n),a=D(c);Z(a,()=>!P.v,f=>{var d=Ur(),s=Ve(d);Z(s,o,_=>{var p=Yr();p.__click=()=>{he().v.pop(),nt().v>he().v.length-1&&nt(nt().v-=1),Pt()},I(_,p)});var u=R(s,2);u.__click=()=>{he().v.push(r())},I(f,d)}),X(c);var l=R(c,2),v=D(l);ne(v),v.__change=()=>{_e(_e().v=!0)},v.__click=()=>{_e(_e().v=!1)};var i=R(v,2);we(i,1,()=>he().v,xe,(f,d,s)=>{var u=Wr();ne(u),u.__change=()=>{_e(_e().v=!0)},u.__click=()=>{_e(_e().v=!1)},Me(u,()=>he().v[s],_=>he(he().v[s]=_)),I(f,u)}),X(l),X(n),Me(v,()=>st().v,f=>st(st().v=f)),I(e,n),W()}se(["click","change"]);var at=B(()=>Ne),Vr=C('<div class="svelte-1xxyg97"><label class="switch"><input type="checkbox" class="svelte-1xxyg97"></label></div>');function Zr(e,t){U(t,!1),ae();var r=Vr(),o=D(r),n=D(o);ne(n),X(o),X(r),Ar(n,()=>at().v,c=>at(at().v=c)),I(e,r),W()}var le=B(()=>fe),Qr=C('<input name="border" type="radio" class="svelte-qc9c1k">'),jr=C('<div class="svelte-qc9c1k"><input name="border" type="radio" class="svelte-qc9c1k"> <input name="border" type="radio" class="svelte-qc9c1k"> <!></div>');function eo(e,t){U(t,!1);const r=[];ae();var o=jr(),n=D(o);ne(n),n.value=(n.__value=0)==null?"":0;var c=R(n,2);ne(c),c.value=(c.__value=1)==null?"":1;var a=R(c,2);Z(a,()=>ke.v>5||$e.v>5,l=>{var v=Qr();ne(v),v.value=(v.__value=2)==null?"":2,rt(r,[],v,()=>le().v,i=>le(le().v=i)),I(l,v)}),X(o),rt(r,[],n,()=>le().v,l=>le(le().v=l)),rt(r,[],c,()=>le().v,l=>le(le().v=l)),I(e,o),W()}var to=C("<button>Reveal Tile</button>");function ro(e,t){U(t,!0);const r=K(()=>{const l=[];let v=!0;const i=w.numRows,f=w.numColumns;for(let d=0;d<i;(d+=1)-1)for(let s=0;s<f;(s+=1)-1)Te.v[d][s].colorIndex!==w.v[d][s].colorIndex&&(l.push({column:s,row:d}),v=!1);return{isDifferent:l,allSame:v}}),o=K(()=>m(r).isDifferent),n=K(()=>m(r).allSame);He(()=>{Ae.v=m(n)});const c=()=>{if(!Ae.v){const l=Ye(0,m(o).length-1),v=m(o)[l].row,i=m(o)[l].column;w.v[v][i]={colorIndex:Te.v[v][i].colorIndex,Xed:!1},gt()}};var a=to();a.__click=c,I(e,a),W()}se(["click"]);var ie=B(()=>me),oo=C('<input type="range" class="svelte-1wz0dqh">');function no(e,t){U(t,!1);const r=100,o=10,n=a=>{a.preventDefault(),a.deltaY<0&&ie().v<r?ie(ie().v+=5):a.deltaY>0&&ie().v>o&&ie(ie().v-=5)};ae();var c=oo();oe("wheel",de,n,void 0,!1),ne(c),Ke(c,"max",r),Ke(c,"min",o),Me(c,()=>ie().v,a=>ie(ie().v=a)),I(e,c),W()}var Pe=B(()=>bt),so=C("<!> <!>",1),ao=C('<div class="svelte-xm1pu0"><!> <!> <!> <!> <!> <!> <!></div>');function lo(e,t){U(t,!1);const r=d=>{d.key==="o"&&Pe(Pe().v=!Pe().v)};ae();var o=ao();oe("keydown",de,r);var n=D(o);Z(n,()=>!P.v,d=>{var s=so(),u=Ve(s);Br(u,{});var _=R(u,2);Pr(_,{}),I(d,s)});var c=R(n,2);Or(c,{});var a=R(c,2);Jr(a,{});var l=R(a,2);eo(l,{});var v=R(l,2);Zr(v,{});var i=R(v,2);no(i,{});var f=R(i,2);Z(f,()=>P.v,d=>{ro(d,{})}),X(o),V(()=>$(o,"right",Pe().v?"0":"-200px")),I(e,o),W()}const io=e=>e;function vo(e,{delay:t=0,duration:r=400,easing:o=io}={}){const n=+getComputedStyle(e).opacity;return{delay:t,duration:r,easing:o,css:c=>`opacity: ${c*n}`}}var co=C("<div> </div>"),fo=C('<th class="svelte-16s63u3"></th>'),uo=C('<thead><tr><th class="svelte-16s63u3"></th><!></tr></thead>'),_o=C("<div> </div>"),ho=C("<td></td>"),mo=C("<span>X</span>"),po=C("<td><!></td>"),go=C("<tr><!><!></tr>"),bo=C('<table class="svelte-16s63u3"><!><tbody></tbody></table>');function xo(e,t){U(t,!0);let r=re(!1),o=re(!1),n=re(""),c=re(0);const a=(x,k,g,O)=>{const z=Math.abs(x-g),H=Math.abs(k-O);return z===0&&H===1?O>k?"right":"left":z===1&&H===0?g>x?"below":"above":"not adjacent"},l=x=>x.Xed,v=x=>x.colorIndex===Ce.v,i=(x,k)=>{x.colorIndex=k},f=x=>{x.colorIndex=0},d=x=>{x.Xed=!x.Xed},s=(x,k,g)=>{L.v={colorIndex:w.v[k][g].colorIndex,Xed:w.v[k][g].Xed,column:g,row:k},Le.v=!1,Y(c,0),P.v?x.button===0?ge.v&&!te(w.v[k][g])?d(w.v[k][g]):!ge.v&&!l(w.v[k][g])&&(v(w.v[k][g])?f(w.v[k][g]):i(w.v[k][g],Ce.v)):x.button===2&&(te(w.v[k][g])?f(w.v[k][g]):d(w.v[k][g])):x.button===0?i(w.v[k][g],Ce.v):x.button===2&&f(w.v[k][g])},u=x=>{x.button===0?Y(r,!0):x.button===2&&Y(o,!0)},_=x=>{x.button===0?Y(r,!1):x.button===2&&Y(o,!1),Le.v=!0},p=(x,k)=>{if(!m(r)&&!m(o)||m(r)&&m(o)||L.v.row===-1)return;mr(c),m(c)===1&&Y(n,be(a(L.v.row,L.v.column,x,k)));const g=w.v[L.v.row][L.v.column];if(P.v)if(m(n)==="above"||m(n)==="below"){const O=Math.min(L.v.row,x),z=Math.max(L.v.row,x);for(let H=O;H<z+1;(H+=1)-1){const E=w.v[H][L.v.column];m(r)?ge.v&&!te(E)?E.Xed=g.Xed:!ge.v&&!l(E)&&i(E,g.colorIndex):L.v.Xed&&!te(E)?E.Xed=!1:L.v.colorIndex===0&&!te(E)?E.Xed=!0:L.v.colorIndex!==0&&!l(E)&&f(E)}}else{const O=Math.min(L.v.column,k),z=Math.max(L.v.column,k);for(let H=O;H<z+1;(H+=1)-1){const E=w.v[L.v.row][H];m(r)?ge.v&&!te(E)?E.Xed=g.Xed:!ge.v&&!l(E)&&i(E,g.colorIndex):L.v.Xed&&!te(E)?E.Xed=!1:L.v.colorIndex===0&&!te(E)?E.Xed=!0:L.v.colorIndex!==0&&!l(E)&&f(E)}}else m(r)?i(w.v[x][k],Ce.v):f(w.v[x][k])};let h=re(!1),y=re(be(fe.v)),S=re(be(Ne.v));He(()=>{Ae.v&&!m(h)?(Y(h,!0),Y(y,be(fe.v)),Y(S,be(Ne.v)),fe.v=0,Ne.v=!1):!Ae.v&&m(h)&&(Y(h,!1),fe.v=m(y),Ne.v=m(S))});var N=bo();oe("mousedown",de,u),oe("mouseup",de,_);var b=D(N);Z(b,()=>P.v,x=>{var k=uo(),g=D(k),O=R(D(g));we(O,17,()=>({length:w.numColumns}),xe,(z,H,E)=>{var Q=fo();we(Q,21,()=>Te.columnHints[E],xe,(J,q)=>{var A=co();const G=K(()=>M.v[dt(m(q).color)]);V(()=>$(A,"color",m(G)));var ee=D(A,!0);X(A),V(()=>{$(A,"font-size",me.v/1.5+"px"),ft(ee,m(q).count)}),I(J,A)}),X(Q),I(z,Q)}),X(g),X(k),I(x,k)});var T=R(b);we(T,21,()=>({length:w.numRows}),xe,(x,k,g)=>{var O=go(),z=D(O);Z(z,()=>P.v,Q=>{var J=ho();$(J,"justify-content","right"),$(J,"display","flex"),we(J,21,()=>Te.rowHints[g],xe,(q,A)=>{var G=_o();const ee=K(()=>M.v[dt(m(A).color)]);V(()=>$(G,"color",m(ee))),$(G,"justify-content","center"),$(G,"align-items","center"),$(G,"display","flex");var Oe=D(G,!0);X(G),V(()=>{$(G,"font-size",me.v/1.5+"px"),$(G,"min-width",me.v+"px"),$(G,"height",me.v+"px"),ft(Oe,m(A).count)}),I(q,G)}),X(J),I(Q,J)});var H=R(z);we(H,17,()=>({length:w.numColumns}),xe,(Q,J,q)=>{var A=po();A.__mousedown=ee=>{s(ee,g,q)},$(A,"transition","background-color .5s, border-radius .5s"),$(A,"text-align","center");var G=D(A);Z(G,()=>l(w.v[g][q])&&!Ae.v,ee=>{var Oe=mo();Xr(3,Oe,()=>vo,()=>({duration:300})),I(ee,Oe)}),X(A),V(()=>{$(A,"border-left",fe.v===0?"0":`solid ${q%5===0&&q!==0&&fe.v===2?`4px ${M.v[1]}`:`2px ${Xe.v}`}`),$(A,"border-top",fe.v===0?"0":`solid ${g%5===0&&g!==0&&fe.v===2?`4px ${M.v[1]}`:`2px ${Xe.v}`}`),$(A,"border-radius",Ne.v===!0?"20%":"0"),$(A,"background-color",M.v[w.v[g][q].colorIndex]),$(A,"font-size",me.v/1.5+"px"),$(A,"min-width",me.v+"px"),$(A,"height",me.v+"px"),$(A,"color",M.v[1])}),oe("mouseenter",A,()=>{p(g,q)}),I(Q,A)}),X(O),I(x,O)}),X(T),X(N),I(e,N),W()}se(["mousedown"]);var wo=C('<div class="svelte-r2sle7"><button class="svelte-r2sle7">Undo</button> <button class="svelte-r2sle7">Redo</button></div>');function yo(e,t){U(t,!0);const r=()=>{L.v.row!==-1&&gt(),L.reset()},o=f=>{f.key==="z"?c():f.key==="y"&&a()},n=()=>{w.v=Qe(Ie.v[ue.v]),Pt()},c=()=>{ue.v!==0&&(ue.v-=1,n())},a=()=>{ue.v!==Ie.v.length-1&&(ue.v+=1,n())};var l=wo();oe("keydown",de,o),oe("mouseup",de,r);var v=D(l);v.__click=c;var i=R(v,2);i.__click=a,X(l),I(e,l),W()}se(["click"]);var ve=B(()=>Ce),ce=B(()=>ge),ko=C('<button class="svelte-7gpg2x"></button>'),$o=C('<button class="svelte-7gpg2x">X</button>'),Io=C('<div class="svelte-7gpg2x"><!> <!></div>');function Co(e,t){U(t,!1);const r=a=>{/[1-9]/.test(a.key)&&Number(a.key)<=M.v.length?(ce(ce().v=!1),ve(ve().v=Number(a.key)-1)):a.key==="x"&&P.v&&(ce(ce().v=!0),ve(ve().v=-1))};ae();var o=Io();oe("keydown",de,r);var n=D(o);we(n,1,()=>M.v,xe,(a,l,v)=>{var i=ko();i.__click=()=>{ve(ve().v=v),ce(ce().v=!1)},i.textContent=v+1,V(()=>{$(i,"border",`solid 2px ${v===ve().v?v===0?M.v[1]:M.v[0]:M.v[v]}`),$(i,"--max-h",(M.v.length>4?"2":"6")+"rem"),$(i,"color",v===0?M.v[1]:M.v[0]),$(i,"background-color",M.v[v])}),I(a,i)});var c=R(n,2);Z(c,()=>P.v,a=>{var l=$o();l.__click=()=>{ce(ce().v=!0),ve(ve().v=-1)},V(()=>{$(l,"border",`solid 2px ${ce().v?M.v[1]:"ButtonFace"}`),$(l,"--max-h",(M.v.length>4?"2":"6")+"rem")}),I(a,l)}),X(o),I(e,o),W()}se(["click"]);var lt=B(()=>bt),To=C('<footer class="svelte-6v3vqk"><div><button>Options</button> <div><!> <!></div></div></footer>');function Eo(e,t){U(t,!1),ae();var r=To(),o=D(r);$(o,"border-top-right-radius","8px"),$(o,"border-top-left-radius","8px"),$(o,"overflow","hidden"),$(o,"display","flex");var n=D(o);n.__click=()=>{lt(lt().v=!lt().v)};var c=R(n,2),a=D(c);Co(a,{});var l=R(a,2);yo(l,{}),X(c),X(o),X(r),I(e,r),W()}se(["click"]);var Nt=B(()=>Te),it=B(()=>P),So=C("<span> </span>"),No=C('<button class="svelte-93z3ep">Start Game</button>'),Xo=C('<header class="svelte-93z3ep"><!></header>');function Ao(e,t){U(t,!1),ae();var r=Xo(),o=D(r);Z(o,()=>it().v,n=>{var c=So();$(c,"padding-top","10px");var a=D(c,!0);X(c),V(()=>ft(a,Ae.v?"You win!":"Keep trying")),I(n,c)},n=>{var c=No();c.__click=()=>{it(it().v=!0),Nt(Nt().v=w.v),Be()},I(n,c)}),X(r),I(e,r),W()}se(["click"]);const Mo=e=>{let t=!1,r,o,n,c;const a=i=>{i.button===1&&(i.preventDefault(),t=!0,r=i.pageX-e.offsetLeft,o=i.pageY-e.offsetTop,n=e.scrollLeft,c=e.scrollTop,e.style.cursor="grabbing",document.addEventListener("mousemove",l),document.addEventListener("mouseup",v))},l=i=>{if(!t)return;i.preventDefault();const f=i.pageX-e.offsetLeft,d=i.pageY-e.offsetTop,s=(f-r)*2,u=(d-o)*2;e.scrollLeft=n-s,e.scrollTop=c-u},v=()=>{t=!1,e.style.cursor="",document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",v)};return e.addEventListener("mousedown",a),{destroy:()=>{e.removeEventListener("mousedown",a),e.style.cursor=""}}};var Ro=C('<li class="svelte-xa8k7k"></li>'),Do=C('<ul class="background svelte-xa8k7k"></ul> <!>  <main class="svelte-xa8k7k"><!></main> <!> <!>',1);function Fo(e,t){U(t,!0);const r=s=>{const u=s.match(/(\d+|[a-zX]+)/g),_=[],p=[];if(u)for(let h=0;h<u.length;(h+=1)-1){const y=u[h];isNaN(Number(y))?p.push(y):_.push(Number(y))}if(_.length!==p.length)throw new Error("Error: different number of counts and letters.");return{letters:p,numbers:_}},o=s=>{const u=r(s),_=[];let p=0,h=0;for(let y=0;y<$e.v;(y+=1)-1)_[y]=[];for(let y=0;y<u.numbers.length;(y+=1)-1)for(let S=0;S<u.numbers[y];(S+=1)-1)u.letters[y]==="X"?_[p][(h+=1)-1]={colorIndex:0,Xed:!0}:_[p][(h+=1)-1]={colorIndex:dt(u.letters[y]),Xed:!1},h>ke.v-1&&(p+=1,h=0);return _},n=()=>{if(window.location.hash){try{const s=window.location.hash.slice(1).split("-");P.v=!!Number(s[0]),ke.v=Number(s[1]),$e.v=Number(s[2]),Xe.v="#"+s[3];const u=P.v?s.slice(4,-2):s.slice(4,-1);for(let _=0;_<u.length;(_+=1)-1)M.v[_]="#"+u[_];w.v=o(s[P.v?s.length-2:s.length-1]),Ie.v[0]=Qe(w.v),P.v&&(Te.v=o(s[s.length-1]))}catch{alert("Couldn't load the code from the URL. Make sure you copied the link correctly.")}Le.v=!0}};He(()=>{if(Le.v){const s=[Number(P.v),ke.v,$e.v,Xe.v.slice(1)];for(let u=0;u<M.v.length;(u+=1)-1)s.push(M.v[u].slice(1));s.push(w.encoded),P.v&&s.push(Te.encoded),window.location.hash=s.join("-")}}),He(()=>{document.body.style.color=M.v[0]});var c=Do();xr(s=>{pr.title="Shareogram"}),oe("contextmenu",de,s=>s.preventDefault()),oe("load",de,n);var a=Ve(c);we(a,20,()=>({length:35}),xe,(s,u)=>{var _=Ro();const p=K(()=>Ye(0,60)+"s");V(()=>$(_,"animation-delay",m(p)));const h=K(()=>Ye(5,200)+"px");V(()=>$(_,"width",m(h)));const y=K(()=>Ye(0,100)+"%");V(()=>$(_,"left",m(y))),I(s,_)}),X(a);var l=R(a,2);Ao(l,{});var v=R(l,2);v.__click=()=>{bt.v=!1};var i=D(v);xo(i,{}),X(v),Ir(v,s=>Mo(s));var f=R(v,2);Eo(f,{});var d=R(f,2);lo(d,{}),V(()=>$(a,"background-color",Xe.v)),I(e,c),W()}se(["click"]);export{Fo as component,Po as universal};
