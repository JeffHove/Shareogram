import{k as mt,E as ot,h as U,s as Ce,a as gt,H as pt,r as Fe,d as Te,e as de,A as Pe,B as Le,C as bt,q as xt,n as $t,D as wt,g as A,i as g,b as w,t as y,j as T,$ as ue,f as ke,F as yt}from"../chunks/disclose-version.C6sGzUTY.js";import{k as st,n as It,o as kt,p as Ct,q as at,t as lt,v as Tt,R as Et,C as Re,m as Ye,s as xe,y as Nt,a as Se,T as At,U as Ht,V as Rt,W as St,X as Xt,J as ct,x as Dt,g as R,N as F,z as L,B as G,A as V,b as Xe,u as Mt}from"../chunks/runtime.DMfmyfyl.js";import{d as Y,s as pe,e as ie,a as Ot}from"../chunks/render.BofUWoOv.js";import{g as qe,a as Pt,p as Ee,i as Q}from"../chunks/if.BfWOsGFd.js";import{i as Z}from"../chunks/lifecycle.CdGeAdyv.js";import{r as M}from"../chunks/misc.DQj3XkrK.js";function me(e,r=!1){return be(e,new Map)}function be(e,r,t,o){if(typeof e=="object"&&e!==null){const s=r.get(e);if(s!==void 0)return s;if(st(e)){const a=[];r.set(e,a);for(let l=0;l<e.length;l+=1)a.push(be(e[l],r));return a}if(It(e)===kt){const a={};r.set(e,a);for(var n in e)a[n]=be(e[n],r);return a}if(e instanceof Date)return structuredClone(e);if(typeof e.toJSON=="function")return be(e.toJSON(),r)}if(e instanceof EventTarget)return e;try{return structuredClone(e)}catch{return e}}let Ne=null;function ae(e,r){return r}function Lt(e,r,t,o){for(var n=[],s=r.length,a=0;a<s;a++)At(r[a].e,n,!0);var l=s>0&&n.length===0&&t!==null;if(l){var i=t.parentNode;xt(i),i.append(t),o.clear(),ee(e,r[0].prev,r[s-1].next)}Ht(n,()=>{for(var c=0;c<s;c++){var u=r[c];l||(o.delete(u.k),ee(e,u.prev,u.next)),Rt(u.e,!l)}})}function le(e,r,t,o,n,s=null){var a=e,l={flags:r,items:new Map,first:null},i=(r&ot)!==0;if(i){var c=e;a=U?Ce(c.firstChild):c.appendChild(mt())}U&&gt();var u=null;Ct(()=>{var v=t(),f=st(v)?v:v==null?[]:Array.from(v),_=f.length;let x=!1;if(U){var N=a.data===pt;N!==(_===0)&&(a=Fe(),Ce(a),Te(!1),x=!0)}if(U){for(var d=null,p,h=0;h<_;h++){if(de.nodeType===8&&de.data===$t){a=de,x=!0,Te(!1);break}var b=f[h],$=o(b,h);p=it(de,l,d,null,b,$,h,n,r),l.items.set($,p),d=p}_>0&&Ce(Fe())}U||Gt(f,l,a,n,r,o),s!==null&&(_===0?u?at(u):u=lt(()=>s(a)):u!==null&&Tt(u,()=>{u=null})),x&&Te(!0)}),U&&(a=de)}function Gt(e,r,t,o,n,s){var ge,Be,Ue,Ve;var a=(n&wt)!==0,l=(n&(Pe|Le))!==0,i=e.length,c=r.items,u=r.first,v=u,f=new Set,_=null,x=new Set,N=[],d=[],p,h,b,$;if(a)for($=0;$<i;$+=1)p=e[$],h=s(p,$),b=c.get(h),b!==void 0&&((ge=b.a)==null||ge.measure(),x.add(b));for($=0;$<i;$+=1){if(p=e[$],h=s(p,$),b=c.get(h),b===void 0){var P=v?v.e.nodes.start:t;_=it(P,r,_,_===null?r.first:_.next,p,h,$,o,n),c.set(h,_),N=[],d=[],v=_.next;continue}if(l&&zt(b,p,$,n),b.e.f&Et&&(at(b.e),a&&((Be=b.a)==null||Be.unfix(),x.delete(b))),b!==v){if(f.has(b)){if(N.length<d.length){var I=d[0],X;_=I.prev;var O=N[0],E=N[N.length-1];for(X=0;X<N.length;X+=1)Je(N[X],I,t);for(X=0;X<d.length;X+=1)f.delete(d[X]);ee(r,O.prev,E.next),ee(r,_,O),ee(r,E,I),v=I,_=E,$-=1,N=[],d=[]}else f.delete(b),Je(b,v,t),ee(r,b.prev,b.next),ee(r,b,_===null?r.first:_.next),ee(r,_,b),_=b;continue}for(N=[],d=[];v!==null&&v.k!==h;)f.add(v),d.push(v),v=v.next;if(v===null)continue;b=v}N.push(b),_=b,v=b.next}const B=Array.from(f);for(;v!==null;)B.push(v),v=v.next;var D=B.length;if(D>0){var q=n&ot&&i===0?t:null;if(a){for($=0;$<D;$+=1)(Ue=B[$].a)==null||Ue.measure();for($=0;$<D;$+=1)(Ve=B[$].a)==null||Ve.fix()}Lt(r,B,q,c)}a&&Re(()=>{var We;for(b of x)(We=b.a)==null||We.apply()}),Ye.first=r.first&&r.first.e,Ye.last=_&&_.e}function zt(e,r,t,o){o&Pe&&xe(e.v,r),o&Le?xe(e.i,t):e.i=t}function it(e,r,t,o,n,s,a,l,i){var c=Ne;try{var u=(i&Pe)!==0,v=(i&bt)===0,f=u?v?Nt(n):Se(n):n,_=i&Le?Se(a):a,x={i:_,v:f,k:s,a:null,e:null,prev:t,next:o};return Ne=x,x.e=lt(()=>l(e,f,_),U),x.e.prev=t&&t.e,x.e.next=o&&o.e,t===null?r.first=x:(t.next=x,t.e.next=x.e),o!==null&&(o.prev=x,o.e.prev=x.e),x}finally{Ne=c}}function Je(e,r,t){for(var o=e.next?e.next.e.nodes.start:t,n=r?r.e.nodes.start:t,s=e.e.nodes.start;s!==o;){var a=s.nextSibling;n.before(s),s=a}}function ee(e,r,t){r===null?e.first=t:(r.next=t,r.e.next=t&&t.e),t!==null&&(t.prev=r,t.e.prev=r&&r.e)}let Ke=!1;function vt(){Ke||(Ke=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var r;if(!e.defaultPrevented)for(const t of e.target.elements)(r=t.__on_r)==null||r.call(t)})},{capture:!0}))}function ne(e){if(U){var r=!1,t=()=>{if(!r){if(r=!0,e.hasAttribute("value")){var o=e.value;$e(e,"value",null),e.value=o}if(e.hasAttribute("checked")){var n=e.checked;$e(e,"checked",null),e.checked=n}}};e.__on_r=t,Xt(t),vt()}}function $e(e,r,t,o){t=t==null?null:t+"";var n=e.__attributes??(e.__attributes={});U&&(n[r]=e.getAttribute(r),r==="src"||r==="href"||r==="srcset")||n[r]!==(n[r]=t)&&(r==="loading"&&(e[St]=t),t===null?e.removeAttribute(r):e.setAttribute(r,t))}function k(e,r,t,o,n){var s=e.__attributes??(e.__attributes={}),a=e.style,l="style-"+r;s[l]===t&&!n||(s[l]=t,t==null?a.removeProperty(r):a.setProperty(r,t,""))}function ut(e,r,t,o=t){e.addEventListener(r,t);const n=e.__on_r;n?e.__on_r=()=>{n(),o()}:e.__on_r=o,vt()}function he(e,r,t){ut(e,"input",()=>{t(Ze(e)?je(e.value):e.value)}),ct(()=>{var o=r();if(U&&e.defaultValue!==e.value){t(e.value);return}Ze(e)&&o===je(e.value)||e.type==="date"&&!o&&!e.value||(e.value=o??"")})}const Ae=new Set;function He(e,r,t,o,n){var s=t.getAttribute("type")==="checkbox",a=e;let l=!1;if(r!==null)for(var i of r)a=a[i]??(a[i]=[]);a.push(t),ut(t,"change",()=>{var c=t.__value;s&&(c=Qe(a,c,t.checked)),n(c)},()=>n(s?[]:null)),ct(()=>{var c=o();if(U&&t.defaultChecked!==t.checked){l=!0;return}s?(c=c||[],t.checked=qe(c).includes(qe(t.__value))):t.checked=Pt(t.__value,c)}),Dt(()=>{var c=a.indexOf(t);c!==-1&&a.splice(c,1)}),Ae.has(a)||(Ae.add(a),Re(()=>{a.sort((c,u)=>c.compareDocumentPosition(u)===4?-1:1),Ae.delete(a)})),Re(()=>{if(l){var c;if(s)c=Qe(a,c,t.checked);else{var u=a.find(v=>v.checked);c=u==null?void 0:u.__value}n(c)}})}function Qe(e,r,t){for(var o=new Set,n=0;n<e.length;n+=1)e[n].checked&&o.add(e[n].__value);return t||o.delete(r),Array.from(o)}function Ze(e){var r=e.type;return r==="number"||r==="range"}function je(e){return e===""?null:+e}const Bt=!0,sn=Object.freeze(Object.defineProperty({__proto__:null,prerender:Bt},Symbol.toStringTag,{value:"Module"}));function Ut(e,r,t,o){const n=Math.abs(e-t),s=Math.abs(r-o);return n===0&&s===1?o>r?"right":"left":n===1&&s===0?t>e?"below":"above":"not adjacent"}function Vt(){const e="0123456789abcdef";let r="#";for(let t=0;t<6;t++){const o=Math.floor(Math.random()*e.length);r+=e[o]}return r}function Wt(e,r){return e.map(t=>t.map(o=>o[r]))}const we=e=>String.fromCharCode(97+e),De=e=>e.charCodeAt(0)-97;function Ft(e){const r=e.match(/(\d+|[a-z])/g),t=[],o=[];if(r)for(let n=0;n<r.length;n++){const s=r[n];isNaN(Number(s))?o.push(s):t.push(Number(s))}if(t.length!==o.length)throw new Error("Error: different number of counts and letters.");return{numbers:t,letters:o}}function Yt(e,r){return Math.floor(Math.random()*(r-e+1)+e)}function et(e){return/^#?([a-fA-F0-9]{6})$/.test(e)}function qt(e){const r=parseInt(e.slice(1),16),t=r>>16&255,o=r>>8&255,n=r&255;return[t,o,n]}function Jt(e,r,t){const o=e[0].length,n=e.length,s=document.createElement("canvas");s.width=o,s.height=n;const a=s.getContext("2d");if(a){const l=a.createImageData(o,n);for(let c=0;c<n;c++)for(let u=0;u<o;u++){const v=r[e[c][u]],f=qt(v);if(f){const[_,x,N]=f,d=(c*o+u)*4;l.data[d]=_,l.data[d+1]=x,l.data[d+2]=N,l.data[d+3]=255}}a.putImageData(l,0,0);const i=s.toDataURL("image/png");t(i)}}function Kt(e,r){const t=new FileReader;t.onload=o=>{var s;const n=new Image;n.onload=()=>{if(n.width>100||n.height>100){alert("Error: Image dimensions must be at most 100x100 pixels.");return}const a=document.createElement("canvas"),l=a.getContext("2d");if(l){a.width=n.width,a.height=n.height,l.drawImage(n,0,0);const i=l.getImageData(0,0,n.width,n.height).data,c=[],u=[];for(let v=0;v<n.height;v++){const f=[];for(let _=0;_<n.width;_++){const x=(v*n.width+_)*4,N=i[x],d=i[x+1],p=i[x+2],h=i[x+3],b=Qt(N,d,p,h);let $=c.indexOf(b);if($===-1){if(c.length>=16){alert("Error: Image must not contain more than 16 unique colors.");return}c.push(b),$=c.length-1}f.push($)}u.push(f)}r(u,c)}},n.src=(s=o.target)==null?void 0:s.result},t.readAsDataURL(e)}function Qt(e,r,t,o){return"#"+[e,r,t,o].map(n=>n.toString(16).padStart(2,"0")).join("").slice(0,6)}const z=e=>e.colorIndex!==0,Zt=()=>C.v.length>2;function Ge(){const e=[[]];for(let r=0;r<se.v;(r+=1)-1){e[r]=[];for(let t=0;t<oe.v;(t+=1)-1)e[r][t]={colorIndex:0,Xed:!1}}return e}function ft(){for(let e=0;e<m.numRows;(e+=1)-1)for(let r=0;r<m.numColumns;(r+=1)-1)m.v[e][r].colorIndex>C.v.length-1&&(m.v[e][r].colorIndex=0)}function jt(e){const r=[[]],t=e.length,o=e[0].length;for(let n=0;n<t;(n+=1)-1){r[n]=[{count:0,color:""}];for(let s=0;s<o;(s+=1)-1)if(z(e[n][s])){const a=s===0?null:e[n][s-1].colorIndex,l=e[n][s].colorIndex;a!==l?r[n].push({count:1,color:we(l)}):r[n][r[n].length-1].count+=1}r[n].length>1&&r[n][0].count===0&&r[n].shift()}return r}function er(e){const r=[[]],t=e.length,o=e[0].length;for(let n=0;n<o;(n+=1)-1){r[n]=[{count:0,color:""}];for(let s=0;s<t;(s+=1)-1)if(z(e[s][n])){const a=s===0?null:e[s-1][n].colorIndex,l=e[s][n].colorIndex;a!==l?r[n].push({count:1,color:we(l)}):r[n][r[n].length-1].count+=1}r[n].length>1&&r[n][0].count===0&&r[n].shift()}return r}function tr(e){let r="";const t=e.length,o=e[0].length;let n=1;for(let a=0;a<t;(a+=1)-1)for(let l=0;l<o;(l+=1)-1)if(!(a===0&&l===0)){const i=l===0?e[a-1][o-1]:e[a][l-1];i.colorIndex===e[a][l].colorIndex&&i.Xed===e[a][l].Xed?n+=1:(r+=n+(i.Xed?"x":we(i.colorIndex)),n=1)}const s=e[t-1][o-1];return r+=n+(s.Xed?"x":we(s.colorIndex)),r}function tt(e){const r=Ft(e),t=[];let o=0,n=0;for(let s=0;s<se.v;(s+=1)-1)t[s]=[];for(let s=0;s<r.numbers.length;(s+=1)-1)for(let a=0;a<r.numbers[s];(a+=1)-1)r.letters[s]==="x"?t[o][(n+=1)-1]={colorIndex:0,Xed:!0}:t[o][(n+=1)-1]={colorIndex:De(r.letters[s]),Xed:!1},n>oe.v-1&&(o+=1,n=0);return t}function dt(){J.v!==K.v.length-1&&K.v.splice(J.v+1),J.v+=1,K.v.push(me(m.v))}function ye(){oe.v<1||se.v<1||(m.v=Ge(),K.reset(),K.v[0]=me(m.v),J.reset(),re.reset())}function rt(e){const r=/(\d{1,5}[a-ox])/g,t=e.match(r);if(!t||t.join("")!==e)return!1;for(let o=0;o<t.length;(o+=1)-1){const n=t[o],s=parseInt(n.slice(0,-1));if(s<1||s>1e4)return!1}return!0}function rr(e){if(e.length<7||e.length>22||e[0]!=="0"&&e[0]!=="1")return!1;const r=!!Number(e[0]),t=Number(e[1]),o=Number(e[2]);if(t<1||t>100||o<1||o>100||!et(e[3]))return!1;const n=r?e.slice(4,-2):e.slice(4,-1);for(let s=0;s<n.length;(s+=1)-1)if(!et(n[s]))return!1;return!(!rt(e[r?e.length-2:e.length-1])||r&&!rt(e[e.length-1]))}const nt=e=>JSON.parse(JSON.stringify(e));function H(e){const r=typeof e=="object";let t=Se(Ee(r?nt(e):e));return{get v(){return R(t)},set v(n){xe(t,Ee(n))},reset:()=>xe(t,Ee(r?nt(e):e))}}function _t(){const e=H(ht),r=F(()=>e.v.length),t=F(()=>e.v[0].length),o=F(()=>Wt(e.v,"colorIndex")),n=F(()=>tr(e.v)),s=F(()=>jt(e.v)),a=F(()=>er(e.v));return{get v(){return e.v},set v(l){e.v=l},reset:e.reset,get numRows(){return R(r)},get numColumns(){return R(t)},get colorIndices(){return R(o)},get encoded(){return R(n)},get rowHints(){return R(s)},get columnHints(){return R(a)}}}const fe=H("#476fb8"),C=H(["#f8fafc","#020617"]),ce=H(1),oe=H(5),se=H(5),ht=Ge(),m=_t(),ve=_t(),K=H([ht]),J=H(0),te=H(!1),W=H(!1),S=H(!1),Me=H({colorIndex:-1,Xed:!1,row:-1,column:-1}),nr=H(""),or=H(0),_e=H(1),Ie=H(!0),j=H(50),Oe=H(!1),ze=H(!1),re=H(!1);var sr=y("<div> </div>"),ar=y('<th class="svelte-1rie86b"></th>'),lr=y('<thead><tr><th class="svelte-1rie86b"></th><!></tr></thead>'),cr=y("<div> </div>"),ir=y("<td></td>"),vr=y("<td> </td>"),ur=y("<tr><!><!></tr>"),fr=y('<table class="svelte-1rie86b"><!><tbody></tbody></table>');function dr(e,r){L(r,!1);var t=M(()=>Me),o=M(()=>nr),n=M(()=>or),s=M(()=>Ie);const a=d=>d.Xed,l=d=>d.colorIndex===ce.v;function i(d,p){d.colorIndex=p}function c(d){d.colorIndex=0}function u(d){d.Xed=!d.Xed}function v(d,p,h){t(t().v={colorIndex:m.v[p][h].colorIndex,Xed:m.v[p][h].Xed,row:p,column:h}),s(s().v=!1),n().reset(),S.v?d.button===0&&re.v&&!z(m.v[p][h])?u(m.v[p][h]):d.button===0&&!re.v&&!a(m.v[p][h])?l(m.v[p][h])?i(m.v[p][h],0):i(m.v[p][h],ce.v):d.button===2&&!z(m.v[p][h])?u(m.v[p][h]):d.button===2&&z(m.v[p][h])&&c(m.v[p][h]):d.button===0&&!l(m.v[p][h])?i(m.v[p][h],ce.v):c(m.v[p][h])}function f(d,p){if(!te.v&&!W.v||te.v&&W.v||t().v.row===-1)return;n(n().v+=1),n().v===1&&o(o().v=Ut(t().v.row,t().v.column,d,p));const h=m.v[t().v.row][t().v.column];if(S.v)if(o().v==="above"||o().v==="below"){const b=Math.min(t().v.row,d),$=Math.max(t().v.row,d);for(let P=b;P<$+1;(P+=1)-1){const I=m.v[P][t().v.column];te.v&&re.v&&!z(I)?I.Xed=h.Xed:te.v&&!re.v&&!a(I)?i(I,h.colorIndex):W.v&&t().v.Xed&&!z(I)?I.Xed=!1:W.v&&t().v.colorIndex===0&&!z(I)?I.Xed=!0:W.v&&t().v.colorIndex!==0&&!a(I)&&c(I)}}else{const b=Math.min(t().v.column,p),$=Math.max(t().v.column,p);for(let P=b;P<$+1;(P+=1)-1){const I=m.v[t().v.row][P];te.v&&re.v&&!z(I)?I.Xed=h.Xed:te.v&&!re.v&&!a(I)?i(I,h.colorIndex):W.v&&t().v.Xed&&!z(I)?I.Xed=!1:W.v&&t().v.colorIndex===0&&!z(I)?I.Xed=!0:W.v&&t().v.colorIndex!==0&&!a(I)&&c(I)}}else z(h)?i(m.v[d][p],ce.v):c(m.v[d][p])}Z();var _=fr(),x=A(_);Q(x,()=>S.v,d=>{var p=lr(),h=A(p),b=A(h),$=g(b);le($,1,()=>({length:m.numColumns}),ae,(P,I,X)=>{var O=ar();le(O,5,()=>ve.columnHints[X],ae,(E,B,D)=>{var q=sr();V(()=>k(q,"color",C.v[De(R(B).color)]));var ge=A(q);T(q),V(()=>{k(q,"font-size",j.v/1.5+"px"),pe(ge,R(B).count)}),w(E,q)}),T(O),w(P,O)}),T(h),T(p),w(d,p)});var N=g(x);le(N,5,()=>({length:m.numRows}),ae,(d,p,h)=>{var b=ur(),$=A(b);Q($,()=>S.v,I=>{var X=ir();k(X,"display","flex"),k(X,"justify-content","right"),le(X,5,()=>ve.rowHints[h],ae,(O,E,B)=>{var D=cr();k(D,"display","flex"),k(D,"justify-content","center"),k(D,"align-items","center"),V(()=>k(D,"color",C.v[De(R(E).color)]));var q=A(D);T(D),V(()=>{k(D,"min-width",j.v+"px"),k(D,"height",j.v+"px"),k(D,"font-size",j.v/1.5+"px"),pe(q,R(E).count)}),w(O,D)}),T(X),w(I,X)});var P=g($);le(P,1,()=>({length:m.numColumns}),ae,(I,X,O)=>{var E=vr();E.__mousedown=D=>{v(D,h,O)},k(E,"text-align","center"),k(E,"transition","background-color .5s");var B=A(E);V(()=>pe(B,a(m.v[h][O])?"X":"")),T(E),V(()=>{k(E,"background-color",C.v[m.v[h][O].colorIndex]),k(E,"color",C.v[1]),k(E,"min-width",j.v+"px"),k(E,"height",j.v+"px"),k(E,"font-size",j.v/1.5+"px"),k(E,"border-top",_e.v===0?"0":h%5===0&&h!==0&&_e.v===2?`solid 4px ${C.v[1]}`:`solid 2px ${fe.v}`),k(E,"border-left",_e.v===0?"0":O%5===0&&O!==0&&_e.v===2?`solid 4px ${C.v[1]}`:`solid 2px ${fe.v}`)}),ie("mouseenter",E,()=>{f(h,O)}),w(I,E)}),T(b),w(d,b)}),T(N),T(_),w(e,_),G()}Y(["mousedown"]);var _r=y('<button class="svelte-8air6e">-</button>'),hr=y('<button class="svelte-8air6e">+</button>'),mr=y('<input type="color" class="svelte-8air6e">'),gr=y('<div class="svelte-8air6e"><div class="svelte-8air6e"><!> <!></div> <div class="svelte-8air6e"><input type="color" class="svelte-8air6e"> <!></div></div>');function pr(e,r){L(r,!1);var t=M(()=>C),o=M(()=>ce),n=M(()=>Ie),s=M(()=>fe);Z();var a=gr(),l=A(a),i=A(l);Q(i,()=>!S.v&&Zt(),_=>{var x=_r();x.__click=()=>{t().v.pop(),o().v>t().v.length-1&&o(o().v-=1),ft()},w(_,x)});var c=g(g(i,!0));Q(c,()=>!S.v&&t().v.length<16,_=>{var x=hr();x.__click=()=>{t().v.push(Vt())},w(_,x)}),T(l);var u=g(g(l,!0)),v=A(u);ne(v),v.__click=()=>{n(n().v=!1)},v.__change=()=>{n().reset()};var f=g(g(v,!0));le(f,1,()=>t().v,ae,(_,x,N)=>{var d=mr();ne(d),d.__click=()=>{n(n().v=!1)},d.__change=()=>{n().reset()},he(d,()=>t().v[N],p=>t(t().v[N]=p)),w(_,d)}),T(u),T(a),he(v,()=>s().v,_=>s(s().v=_)),w(e,a),G()}Y(["click","change"]);var br=y('<input type="radio" name="border" class="svelte-anhrtm">'),xr=y('<div class="svelte-anhrtm"><input type="radio" name="border" class="svelte-anhrtm"> <input type="radio" name="border" class="svelte-anhrtm"> <!></div>');function $r(e,r){L(r,!1);const t=[];var o=M(()=>_e);Z();var n=xr(),s=A(n);ne(s),s.value=(s.__value=0)==null?"":0;var a=g(g(s,!0));ne(a),a.value=(a.__value=1)==null?"":1;var l=g(g(a,!0));Q(l,()=>oe.v>5||se.v>5,i=>{var c=br();ne(c),c.value=(c.__value=2)==null?"":2,He(t,[],c,()=>o().v,u=>o(o().v=u)),w(i,c)}),T(n),He(t,[],s,()=>o().v,i=>o(o().v=i)),He(t,[],a,()=>o().v,i=>o(o().v=i)),w(e,n),G()}var wr=y('<input type="range" class="svelte-169wscz">');function yr(e,r){L(r,!1);var t=M(()=>j);const o=100,n=10;function s(l){l.preventDefault(),l.deltaY<0&&t().v<o?t(t().v+=5):l.deltaY>0&&t().v>n&&t(t().v-=5)}Z();var a=wr();ie("wheel",ue,s,void 0,!1),ne(a),$e(a,"min",n),$e(a,"max",o),he(a,()=>t().v,l=>t(t().v=l)),w(e,a),G()}var Ir=()=>{S.reset(),ye()},kr=y("<button>New Editor</button>"),Cr=y('<div class="svelte-jomuew"><input type="text" class="svelte-jomuew"> <input type="text" class="svelte-jomuew"></div>'),Tr=y('<div class="svelte-jomuew"><!></div>');function Er(e,r){L(r,!1);var t=M(()=>oe),o=M(()=>se);const n=l=>Math.max(0,Math.min(Number(String(l).replace(/[^0-9]/g,"")),100));Z();var s=Tr(),a=A(s);Q(a,()=>S.v,l=>{var i=kr();i.__click=[Ir],w(l,i)},l=>{var i=Cr(),c=A(i);ne(c),c.__input=()=>{t(t().v=n(t().v)),ye()};var u=g(g(c,!0));ne(u),u.__input=()=>{o(o().v=n(o().v)),ye()},T(i),he(c,()=>t().v,v=>t(t().v=v)),he(u,()=>o().v,v=>o(o().v=v)),w(l,i)}),T(s),w(e,s),G()}Y(["click","input"]);var Nr=y('<label for="file-upload" class="svelte-pfkfxg">Upload PNG</label> <input type="file" id="file-upload" accept="image/png" class="svelte-pfkfxg">',1);function Ar(e,r){L(r,!0);function t(a){const l=a.target;l.files&&l.files[0]&&Kt(l.files[0],(i,c)=>{oe.v=i[0].length,se.v=i.length,m.v=Ge(),K.v[0]=me(m.v);for(let u=0;u<m.numRows;(u+=1)-1)for(let v=0;v<m.numColumns;(v+=1)-1)m.v[u][v].colorIndex=i[u][v];C.v=c,ce.v=0})}var o=Nr(),n=ke(o),s=g(g(n,!0));s.__change=t,w(e,o),G()}Y(["change"]);function Hr(){Jt(m.colorIndices,C.v,e=>{const r=document.createElement("a");r.download="shareogram.png",r.href=e,r.click()})}var Rr=y("<button>Export as PNG</button>");function Sr(e,r){L(r,!1),Z();var t=Rr();t.__click=[Hr],w(e,t),G()}Y(["click"]);var Xr=y("<!> <!>",1),Dr=()=>{ze.reset()},Mr=y('<div class="svelte-r4iltx"><!> <!> <!> <!> <!> <button>Close Options</button></div>');function Or(e,r){L(r,!1),Z();var t=Mr(),o=A(t);Q(o,()=>!S.v,c=>{var u=Xr(),v=ke(u);Ar(v,{$$legacy:!0});var f=g(g(v,!0));Sr(f,{$$legacy:!0}),w(c,u)});var n=g(g(o,!0));Er(n,{$$legacy:!0});var s=g(g(n,!0));pr(s,{$$legacy:!0});var a=g(g(s,!0));$r(a,{$$legacy:!0});var l=g(g(a,!0));yr(l,{$$legacy:!0});var i=g(g(l,!0));i.__click=[Dr],T(t),V(()=>k(t,"display",ze.v?"flex":"none")),w(e,t),G()}Y(["click"]);var Pr=y('<div class="svelte-1pkn4rs"><button class="svelte-1pkn4rs">Undo</button> <button class="svelte-1pkn4rs">Redo</button></div>');function Lr(e,r){L(r,!0);function t(c){c.key==="z"?n():c.key==="y"&&s()}function o(){m.v=me(K.v[J.v]),ft()}function n(){J.v!==0&&(J.v-=1,o())}function s(){J.v!==K.v.length-1&&(J.v+=1,o())}var a=Pr();ie("keydown",ue,t);var l=A(a);l.__click=n;var i=g(g(l,!0));i.__click=s,T(a),w(e,a),G()}Y(["click"]);var Gr=y('<button class="svelte-108n948"> </button>'),zr=y('<button class="svelte-108n948">X</button>'),Br=y('<div class="svelte-108n948"><!> <!></div>');function Ur(e,r){L(r,!1);var t=M(()=>ce),o=M(()=>re);function n(i){/^[1-9]$/.test(i.key)&&Number(i.key)<=C.v.length?(o().reset(),t(t().v=Number(i.key)-1)):i.key==="x"&&S.v&&(o(o().v=!0),t(t().v=-1))}Z();var s=Br();ie("keydown",ue,n);var a=A(s);le(a,1,()=>C.v,ae,(i,c,u)=>{var v=Gr();v.__click=()=>{t(t().v=u),o().reset()};var f=A(v);f.nodeValue=u<9?u+1:"",T(v),V(()=>{k(v,"background-color",C.v[u]),k(v,"color",u===0?C.v[1]:C.v[0]),k(v,"border",u===t().v?u===0?`solid 2px ${C.v[1]}`:`solid 2px ${C.v[0]}`:`solid 2px ${C.v[u]}`),k(v,"--max-h",C.v.length>4?"2rem":"6rem")}),w(i,v)});var l=g(g(a,!0));Q(l,()=>S.v,i=>{var c=zr();c.__click=()=>{o(o().v=!0),t(t().v=-1)},V(()=>{k(c,"border",o().v?`solid 2px ${C.v[1]}`:"solid 2px ButtonFace"),k(c,"--max-h",C.v.length>4?"2rem":"6rem")}),w(i,c)}),T(s),w(e,s),G()}Y(["click"]);var Vr=y('<footer class="svelte-80pkd2"><div><!> <!></div></footer>');function Wr(e){var r=Vr(),t=A(r),o=A(t);Ur(o,{$$legacy:!0});var n=g(g(o,!0));Lr(n,{$$legacy:!0}),T(t),T(r),w(e,r)}var Fr=y("<button>Reveal Tile</button>");function Yr(e,r){L(r,!0);const t=F(()=>{const l=[];let i=!0;const c=m.numRows,u=m.numColumns;for(let v=0;v<c;(v+=1)-1)for(let f=0;f<u;(f+=1)-1)ve.v[v][f].colorIndex!==m.v[v][f].colorIndex&&(l.push({row:v,column:f}),i=!1);return{isDifferent:l,allSame:i}}),o=F(()=>R(t).isDifferent),n=F(()=>R(t).allSame);Xe(()=>{Oe.v=R(n)});function s(){if(!Oe.v){const l=Yt(0,R(o).length-1),i=R(o)[l].row,c=R(o)[l].column;m.v[i][c]={colorIndex:ve.v[i][c].colorIndex,Xed:!1},dt()}}var a=Fr();a.__click=s,w(e,a),G()}Y(["click"]);var qr=y("<span> </span> <!>",1),Jr=y("<button>Start Game</button>"),Kr=y('<header class="svelte-1cyup8g"><button>Options</button> <!></header>');function Qr(e,r){L(r,!1);var t=M(()=>S),o=M(()=>ze),n=M(()=>ve);Z();var s=Kr(),a=A(s);a.__click=()=>{o(o().v=!o().v)},k(a,"margin-right","4px");var l=g(g(a,!0));Q(l,()=>t().v,i=>{var c=qr(),u=ke(c),v=A(u);T(u);var f=g(g(u,!0));Yr(f,{$$legacy:!0}),V(()=>pe(v,Oe.v?"You win!":"Keep trying")),w(i,c)},i=>{var c=Jr();c.__click=()=>{t(t().v=!0),n(n().v=m.v),ye()},w(i,c)}),T(s),V(()=>k(s,"justify-content",t().v?"space-between":"center")),w(e,s),G()}Y(["click"]);var Zr=y('<!> <main class="svelte-1ucsgwf"><!></main> <!> <!>',1);function an(e,r){L(r,!0);function t(f){f.button===0?te.v=!0:f.button===2&&(W.v=!0)}function o(f){f.button===0?te.reset():f.button===2&&W.reset(),Me.v.row!==-1&&dt(),Me.reset(),Ie.reset()}let n=!0;Mt(()=>{if(window.location.hash&&n){const f=window.location.hash.slice(1).split("-");if(rr(f)){S.v=!!Number(f[0]),oe.v=Number(f[1]),se.v=Number(f[2]),fe.v="#"+f[3];const _=S.v?f.slice(4,-2):f.slice(4,-1);for(let x=0;x<_.length;(x+=1)-1)C.v[x]="#"+_[x];m.v=tt(f[S.v?f.length-2:f.length-1]),K.v[0]=me(m.v),S.v&&(ve.v=tt(f[f.length-1]))}else alert("Couldn't load the code from the URL. Make sure you copied the link correctly.")}n=!1});const s=F(()=>{const f=[Number(S.v),oe.v,se.v,fe.v.slice(1)];for(let _=0;_<C.v.length;(_+=1)-1)f.push(C.v[_].slice(1));return f.push(m.encoded),S.v&&f.push(ve.encoded),f.join("-")});Xe(()=>{Ie.v&&(window.location.hash=R(s))}),Xe(()=>{document.body.style.backgroundColor=fe.v,document.body.style.color=C.v[0]});var a=Zr();Ot(f=>{yt.title="Shareogram"}),ie("mousedown",ue,t),ie("mouseup",ue,o),ie("contextmenu",ue,f=>f.preventDefault());var l=ke(a);Qr(l,{});var i=g(g(l,!0)),c=A(i);dr(c,{}),T(i);var u=g(g(i,!0));Wr(u);var v=g(g(u,!0));Or(v,{}),w(e,a),G()}export{an as component,sn as universal};
