import{a as T,t as C}from"../chunks/disclose-version.BFyFZ1Tk.js";import{v as Lt,q as ut,o as Kt,R as Zt,w as Qt,at as Rt,A as ee,D as tt,B as jt,a9 as Dt,H as er,C as It,F as rt,G as Le,au as Fe,x as Ot,y as Pt,z as tr,_ as Ve,k as Je,av as gt,aw as $t,ax as bt,ay as rr,a8 as nr,az as or,Q as sr,T as ar,a5 as ir,Z as Yt,aA as lr,m as cr,h as dt,aB as vr,a2 as ur,ab as Bt,u as zt,aC as dr,aD as fr,aE as hr,E as _r,aF as pr,aG as mr,aH as gr,n as Re,aI as br,X as kt,Y as Tt,aJ as wr,ac as Ze,b as xr,d as F,g as b,ar as j,O as V,p as W,a as U,s as H,c as L,r as S,J as Oe,f as Qe,aK as ft,aL as ve,t as J,aM as yr}from"../chunks/runtime.kwFfegih.js";import{a as Ir,b as $r,l as je,d as se,e as te,s as ht,c as kr}from"../chunks/render.DZPyI7WY.js";import{a as Tr,p as le,i as Q}from"../chunks/if.QfZRQiwm.js";import{i as ue}from"../chunks/legacy.BZr0P_gC.js";function et(e,t=!1){return qe(e,new Map)}function qe(e,t,r,n){if(typeof e=="object"&&e!==null){const u=t.get(e);if(u!==void 0)return u;if(e instanceof Map)return new Map(e);if(e instanceof Set)return new Set(e);if(Lt(e)){const s=[];t.set(e,s);for(let i=0;i<e.length;i+=1)s.push(qe(e[i],t));return s}if(ut(e)===Kt){const s={};t.set(e,s);for(var o in e)s[o]=qe(e[o],t);return s}if(e instanceof Date)return structuredClone(e);if(typeof e.toJSON=="function")return qe(e.toJSON(),t)}if(e instanceof EventTarget)return e;try{return structuredClone(e)}catch{return e}}function pe(e,t){return t}function Cr(e,t,r,n){for(var o=[],u=t.length,s=0;s<u;s++)rr(t[s].e,o,!0);var i=u>0&&o.length===0&&r!==null;if(i){var v=r.parentNode;nr(v),v.append(r),n.clear(),he(e,t[0].prev,t[u-1].next)}or(o,()=>{for(var l=0;l<u;l++){var a=t[l];i||(n.delete(a.k),he(e,a.prev,a.next)),sr(a.e,!i)}})}function me(e,t,r,n,o,u=null){var s=e,i={flags:t,items:new Map,first:null},v=(t&Rt)!==0;if(v){var l=e;s=ee?tt(ar(l)):l.appendChild(Zt())}ee&&jt();var a=null,f=!1;Qt(()=>{var d=r(),c=Lt(d)?d:d==null?[]:Dt(d),h=c.length;if(f&&h===0)return;f=h===0;let p=!1;if(ee){var m=s.data===er;m!==(h===0)&&(s=It(),tt(s),rt(!1),p=!0)}if(ee){for(var g=null,w,E=0;E<h;E++){if(Le.nodeType===8&&Le.data===ir){s=Le,p=!0,rt(!1);break}var x=c[E],_=n(x,E);w=Gt(Le,i,g,null,x,_,E,o,t),i.items.set(_,w),g=w}h>0&&tt(It())}if(!ee){var $=Yt;Xr(c,i,s,o,t,($.f&Fe)!==0,n)}u!==null&&(h===0?a?Ot(a):a=Pt(()=>u(s)):a!==null&&tr(a,()=>{a=null})),p&&rt(!0),r()}),ee&&(s=Le)}function Xr(e,t,r,n,o,u,s){var G,A,Y,re;var i=(o&lr)!==0,v=(o&(gt|bt))!==0,l=e.length,a=t.items,f=t.first,d=f,c,h=null,p,m=[],g=[],w,E,x,_;if(i)for(_=0;_<l;_+=1)w=e[_],E=s(w,_),x=a.get(E),x!==void 0&&((G=x.a)==null||G.measure(),(p??(p=new Set)).add(x));for(_=0;_<l;_+=1){if(w=e[_],E=s(w,_),x=a.get(E),x===void 0){var $=d?d.e.nodes_start:r;h=Gt($,t,h,h===null?t.first:h.next,w,E,_,n,o),a.set(E,h),m=[],g=[],d=h.next;continue}if(v&&Er(x,w,_,o),x.e.f&Fe&&(Ot(x.e),i&&((A=x.a)==null||A.unfix(),(p??(p=new Set)).delete(x))),x!==d){if(c!==void 0&&c.has(x)){if(m.length<g.length){var y=g[0],M;h=y.prev;var O=m[0],R=m[m.length-1];for(M=0;M<m.length;M+=1)Ct(m[M],y,r);for(M=0;M<g.length;M+=1)c.delete(g[M]);he(t,O.prev,R.next),he(t,h,O),he(t,R,y),d=y,h=R,_-=1,m=[],g=[]}else c.delete(x),Ct(x,d,r),he(t,x.prev,x.next),he(t,x,h===null?t.first:h.next),he(t,h,x),h=x;continue}for(m=[],g=[];d!==null&&d.k!==E;)(u||!(d.e.f&Fe))&&(c??(c=new Set)).add(d),g.push(d),d=d.next;if(d===null)continue;x=d}m.push(x),h=x,d=x.next}if(d!==null||c!==void 0){for(var X=c===void 0?[]:Dt(c);d!==null;)(u||!(d.e.f&Fe))&&X.push(d),d=d.next;var K=X.length;if(K>0){var Z=o&Rt&&l===0?r:null;if(i){for(_=0;_<K;_+=1)(Y=X[_].a)==null||Y.measure();for(_=0;_<K;_+=1)(re=X[_].a)==null||re.fix()}Cr(t,X,Z,a)}}i&&Ve(()=>{var ye;if(p!==void 0)for(x of p)(ye=x.a)==null||ye.apply()}),Je.first=t.first&&t.first.e,Je.last=h&&h.e}function Er(e,t,r,n){n&gt&&$t(e.v,t),n&bt?$t(e.i,r):e.i=r}function Gt(e,t,r,n,o,u,s,i,v){var l=(v&gt)!==0,a=(v&vr)===0,f=l?a?cr(o):dt(o):o,d=v&bt?dt(s):s,c={i:d,v:f,k:u,a:null,e:null,prev:r,next:n};try{return c.e=Pt(()=>i(e,f,d),ee),c.e.prev=r&&r.e,c.e.next=n&&n.e,r===null?t.first=c:(r.next=c,r.e.next=c.e),n!==null&&(n.prev=c,n.e.prev=c.e),c}finally{}}function Ct(e,t,r){for(var n=e.next?e.next.e.nodes_start:r,o=t?t.e.nodes_start:r,u=e.e.nodes_start;u!==n;){var s=ur(u);o.before(u),u=s}}function he(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function Ft(e,t,r){Bt(()=>{var n=zt(()=>t(e,r==null?void 0:r())||{});if(n!=null&&n.destroy)return()=>n.destroy()})}function oe(e){if(ee){var t=!1,r=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var n=e.value;Ke(e,"value",null),e.value=n}if(e.hasAttribute("checked")){var o=e.checked;Ke(e,"checked",null),e.checked=o}}};e.__on_r=r,hr(r),Ir()}}function Ke(e,t,r,n){var o=e.__attributes??(e.__attributes={});ee&&(o[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||o[t]!==(o[t]=r)&&(t==="style"&&"__styles"in e&&(e.__styles={}),t==="loading"&&(e[dr]=r),r==null?e.removeAttribute(t):typeof r!="string"&&Mr(e).includes(t)?e[t]=r:e.setAttribute(t,r))}var Xt=new Map;function Mr(e){var t=Xt.get(e.nodeName);if(t)return t;Xt.set(e.nodeName,t=[]);for(var r,n=ut(e),o=Element.prototype;o!==n;){r=fr(n);for(var u in r)r[u].set&&t.push(u);n=ut(n)}return t}function k(e,t,r,n){var o=e.__styles??(e.__styles={});o[t]!==r&&(o[t]=r,r==null?e.style.removeProperty(t):e.style.setProperty(t,r,""))}const Ar=()=>performance.now(),ge={tick:e=>requestAnimationFrame(e),now:()=>Ar(),tasks:new Set};function qt(e){ge.tasks.forEach(t=>{t.c(e)||(ge.tasks.delete(t),t.f())}),ge.tasks.size!==0&&ge.tick(qt)}function Sr(e){let t;return ge.tasks.size===0&&ge.tick(qt),{promise:new Promise(r=>{ge.tasks.add(t={c:e,f:r})}),abort(){ge.tasks.delete(t)}}}function Ye(e,t){e.dispatchEvent(new CustomEvent(t))}function Hr(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function Et(e){const t={},r=e.split(";");for(const n of r){const[o,u]=n.split(":");if(!o||u===void 0)break;const s=Hr(o.trim());t[s]=u.trim()}return t}const Nr=e=>e;function Lr(e,t,r,n){var o=(e&br)!==0,u="both",s,i=t.inert,v,l;function a(){var p=Yt,m=Je;kt(null),Tt(null);try{return s??(s=r()(t,(n==null?void 0:n())??{},{direction:u}))}finally{kt(p),Tt(m)}}var f={is_global:o,in(){t.inert=i,Ye(t,"introstart"),v=_t(t,a(),l,1,()=>{Ye(t,"introend"),v==null||v.abort(),v=s=void 0})},out(p){t.inert=!0,Ye(t,"outrostart"),l=_t(t,a(),v,0,()=>{Ye(t,"outroend"),p==null||p()})},stop:()=>{v==null||v.abort(),l==null||l.abort()}},d=Je;if((d.transitions??(d.transitions=[])).push(f),$r){var c=o;if(!c){for(var h=d.parent;h&&h.f&_r;)for(;(h=h.parent)&&!(h.f&pr););c=!h||(h.f&mr)!==0}c&&Bt(()=>{zt(()=>f.in())})}}function _t(e,t,r,n,o){var u=n===1;if(gr(t)){var s,i=!1;return Ve(()=>{if(!i){var m=t({direction:u?"in":"out"});s=_t(e,m,r,n,o)}}),{abort:()=>{i=!0,s==null||s.abort()},deactivate:()=>s.deactivate(),reset:()=>s.reset(),t:()=>s.t()}}if(r==null||r.deactivate(),!(t!=null&&t.duration))return o(),{abort:Re,deactivate:Re,reset:Re,t:()=>n};const{delay:v=0,css:l,tick:a,easing:f=Nr}=t;var d=[];if(u&&r===void 0&&(a&&a(0,1),l)){var c=Et(l(0,1));d.push(c,c)}var h=()=>1-n,p=e.animate(d,{duration:v});return p.onfinish=()=>{var m=(r==null?void 0:r.t())??1-n;r==null||r.abort();var g=n-m,w=t.duration*Math.abs(g),E=[];if(w>0){if(l)for(var x=Math.ceil(w/16.666666666666668),_=0;_<=x;_+=1){var $=m+g*f(_/x),y=l($,1-$);E.push(Et(y))}h=()=>{var M=p.currentTime;return m+g*f(M/w)},a&&Sr(()=>{if(p.playState!=="running")return!1;var M=h();return a(M,1-M),!0})}p=e.animate(E,{duration:w,fill:"forwards"}),p.onfinish=()=>{h=()=>n,a==null||a(n,1-n),o()}},{abort:()=>{p&&(p.cancel(),p.effect=null,p.onfinish=Re)},deactivate:()=>{o=Re},reset:()=>{n===0&&(a==null||a(1,0))},t:()=>h()}}function He(e,t,r=t){var n=wr();je(e,"input",()=>{var o=At(e)?St(e.value):e.value;r(o),n&&o!==(o=t())&&(e.value=o??"")}),Ze(()=>{var o=t();if(ee&&e.defaultValue!==e.value){r(e.value);return}At(e)&&o===St(e.value)||e.type==="date"&&!o&&!e.value||o!==e.value&&(e.value=o??"")})}const nt=new Set;function ot(e,t,r,n,o=n){var u=r.getAttribute("type")==="checkbox",s=e;let i=!1;if(t!==null)for(var v of t)s=s[v]??(s[v]=[]);s.push(r),je(r,"change",()=>{var l=r.__value;u&&(l=Mt(s,l,r.checked)),o(l)},()=>o(u?[]:null)),Ze(()=>{var l=n();if(ee&&r.defaultChecked!==r.checked){i=!0;return}u?(l=l||[],r.checked=l.includes(r.__value)):r.checked=Tr(r.__value,l)}),xr(()=>{var l=s.indexOf(r);l!==-1&&s.splice(l,1)}),nt.has(s)||(nt.add(s),Ve(()=>{s.sort((l,a)=>l.compareDocumentPosition(a)===4?-1:1),nt.delete(s)})),Ve(()=>{if(i){var l;if(u)l=Mt(s,l,r.checked);else{var a=s.find(f=>f.checked);l=a==null?void 0:a.__value}o(l)}})}function Rr(e,t,r=t){je(e,"change",()=>{var n=e.checked;r(n)}),t()==null&&r(!1),Ze(()=>{var n=t();e.checked=!!n})}function Mt(e,t,r){for(var n=new Set,o=0;o<e.length;o+=1)e[o].checked&&n.add(e[o].__value);return r||n.delete(t),Array.from(n)}function At(e){var t=e.type;return t==="number"||t==="range"}function St(e){return e===""?null:+e}function Dr(e,t,r=t){je(e,"change",()=>{r(e.files)}),Ze(()=>{e.files=t()})}function q(e){var t=dt(0);return function(){return arguments.length===1?(F(t,b(t)+1),arguments[0]):(b(t),e())}}const Or=!0,Kn=Object.freeze(Object.defineProperty({__proto__:null,prerender:Or},Symbol.toStringTag,{value:"Module"})),ne=e=>e.colorIndex!==0,wt=()=>{const e=[[]];for(let t=0;t<we.v;(t+=1)-1){e[t]=[];for(let r=0;r<be.v;(r+=1)-1)e[t][r]={colorIndex:0,Xed:!1}}return e},Wt=()=>{for(let e=0;e<I.numRows;(e+=1)-1)for(let t=0;t<I.numColumns;(t+=1)-1)I.v[e][t].colorIndex>N.v.length-1&&(I.v[e][t].colorIndex=0)},xt=()=>{ce.v!==xe.v.length-1&&xe.v.splice(ce.v+1),ce.v+=1,xe.v.push(et(I.v))},We=()=>{be.v<1||we.v<1||(I.v=wt(),xe.reset(),xe.v[0]=et(I.v),ce.reset(),_e.v=!1)},pt=e=>{let t=0;for(let r=0;r<e.length;(r+=1)-1)t*=26,t+=e.charCodeAt(r)-97+1;return t-1},mt=e=>{const t=parseInt(e.replace("#",""),16);return[t>>16&255,t>>8&255,t&255]},Ue=(e,t)=>Math.floor(Math.random()*(t-e+1)+e),Be=e=>{let t="";for(;e>=0;)t=String.fromCharCode(e%26+97)+t,e=Math.floor(e/26)-1;return t},P=e=>{let t=j(le(e));return{set v(n){F(t,le(n))},get v(){return b(t)},reset:()=>F(t,le(e))}},Ut=()=>{const e=P(Vt),t=V(()=>e.v.length),r=V(()=>e.v[0].length),n=V(()=>e.v.map(i=>i.map(v=>v.colorIndex))),o=V(()=>{const i=[[]],v=e.v.length,l=e.v[0].length;for(let a=0;a<v;(a+=1)-1){i[a]=[{color:"",count:0}];for(let f=0;f<l;(f+=1)-1)if(ne(e.v[a][f])){const d=f===0?null:e.v[a][f-1].colorIndex,c=e.v[a][f].colorIndex;d!==c?i[a].push({color:Be(c),count:1}):i[a][i[a].length-1].count+=1}i[a].length>1&&i[a][0].count===0&&i[a].shift()}return i}),u=V(()=>{const i=[[]];for(let v=0;v<b(r);(v+=1)-1){i[v]=[{color:"",count:0}];for(let l=0;l<b(t);(l+=1)-1)if(ne(e.v[l][v])){const a=l===0?null:e.v[l-1][v].colorIndex,f=e.v[l][v].colorIndex;a!==f?i[v].push({color:Be(f),count:1}):i[v][i[v].length-1].count+=1}i[v].length>1&&i[v][0].count===0&&i[v].shift()}return i}),s=V(()=>{let i="",v=1;for(let a=0;a<b(t);(a+=1)-1)for(let f=0;f<b(r);(f+=1)-1)if(!(a===0&&f===0)){const d=f===0?e.v[a-1][b(r)-1]:e.v[a][f-1];d.colorIndex===e.v[a][f].colorIndex&&d.Xed===e.v[a][f].Xed?v+=1:(i+=v+(d.Xed?"X":Be(d.colorIndex)),v=1)}const l=e.v[b(t)-1][b(r)-1];return i+=v+(l.Xed?"X":Be(l.colorIndex)),i});return{get colorIndices(){return b(n)},get columnHints(){return b(u)},get numColumns(){return b(r)},get rowHints(){return b(o)},set v(i){e.v=i},get encoded(){return b(s)},get numRows(){return b(t)},get v(){return e.v},reset:e.reset}},Ae=P("#476fb8"),N=P(["#f8fafc","#020617"]),Te=P(1),be=P(5),we=P(5),Vt=wt(),I=Ut(),Ce=Ut(),xe=P([Vt]),ce=P(0),z=P(!1),D=P({colorIndex:-1,column:-1,Xed:!1,row:-1}),ie=P(1),Pe=P(!1),B=P(50),Se=P(!1),yt=P(!1),_e=P(!1),Me=P(!0),Ne=P(!1);var Xe=q(()=>we),Ee=q(()=>be),st=q(()=>z),Pr=C("<button>New Editor</button>"),Yr=C('<div class="svelte-16du0in"><input type="text" class="svelte-16du0in"> <input type="text" class="svelte-16du0in"></div>'),Br=C('<div class="svelte-16du0in"><!></div>');function zr(e,t){W(t,!1);const r=u=>Math.max(0,Number(String(u).replace(/[^0-9]/g,"")));ue();var n=Br(),o=L(n);Q(o,()=>st().v,u=>{var s=Pr();s.__click=()=>{st(st().v=!1),We()},T(u,s)},u=>{var s=Yr(),i=L(s);oe(i),i.__input=()=>{Ee(Ee().v=r(Ee().v)),We()};var v=H(i,2);oe(v),v.__input=()=>{Xe(Xe().v=r(Xe().v)),We()},S(s),He(i,()=>Ee().v,l=>Ee(Ee().v=l)),He(v,()=>Xe().v,l=>Xe(Xe().v=l)),T(u,s)}),S(n),T(e,n),U()}se(["click","input"]);const Gr=(e,t)=>{t(I.colorIndices,N.v,r=>{const n=document.createElement("a");n.download="shareogram.png",n.href=r,n.click()})};var Fr=C("<button>Export as PNG</button>");function qr(e,t){W(t,!1);const r=(o,u,s)=>{const i=o[0].length,v=o.length,l=document.createElement("canvas");l.width=i,l.height=v;const a=l.getContext("2d");if(a){const f=a.createImageData(i,v);for(let c=0;c<v;(c+=1)-1)for(let h=0;h<i;(h+=1)-1){const p=u[o[c][h]],m=mt(p);if(m){const[g,w,E]=m,x=(c*i+h)*4;f.data[x]=g,f.data[x+1]=w,f.data[x+2]=E,f.data[x+3]=255}}a.putImageData(f,0,0);const d=l.toDataURL("image/png");s(d)}};ue();var n=Fr();n.__click=[Gr,r],T(e,n),U()}se(["click"]);var Wr=C('<input type="range" max="442" min="10">'),Ur=C('<input accept="image/png" id="file-upload" type="file" class="svelte-nlo4k4"> <!>',1);function Vr(e,t){W(t,!0);let r=j(10),n=j(void 0);const o=(f,d,c)=>{const[h,p,m]=f,[g,w,E]=d;return Math.sqrt((h-g)**2+(p-w)**2+(m-E)**2)<=c},u=(f,d,c)=>"#"+[f,d,c].map(h=>Math.round(h).toString(16).padStart(2,"0")).join(""),s=(f,d,c)=>{const h=mt(f);for(let p=0;p<d.length;(p+=1)-1){const m=mt(d[p]);if(o(h,m,c))return p}return d.push(f),d.length-1},i=(f,d,c)=>{const h=new FileReader;h.onload=p=>{var g;const m=new Image;m.onload=()=>{const w=document.createElement("canvas"),E=w.getContext("2d");if(E){w.width=m.width,w.height=m.height,E.drawImage(m,0,0);const x=E.getImageData(0,0,m.width,m.height).data,_=[],$=[];for(let y=0;y<m.height;(y+=1)-1){const M=[];for(let O=0;O<m.width;(O+=1)-1){const R=(y*m.width+O)*4,X=x[R],K=x[R+1],Z=x[R+2],G=u(X,K,Z),A=s(G,_,d);M.push(A)}$.push(M)}c($,_)}},m.src=(g=p.target)==null?void 0:g.result},h.readAsDataURL(f)};Oe(()=>{b(n)&&i(b(n)[0],b(r),(f,d)=>{be.v=f[0].length,we.v=f.length,N.v=d,Te.v=0,I.v=wt();for(let c=0;c<I.numRows;(c+=1)-1)for(let h=0;h<I.numColumns;(h+=1)-1)I.v[c][h].colorIndex=f[c][h];xt()})});var v=Ur(),l=Qe(v),a=H(l,2);Q(a,()=>b(n),f=>{var d=Wr();oe(d),He(d,()=>b(r),c=>F(r,c)),T(f,d)}),Dr(l,()=>b(n),f=>F(n,f)),T(e,v),U()}var de=q(()=>Pe),at=q(()=>Te),it=q(()=>Ae),fe=q(()=>N),Jr=C('<button class="svelte-1ubn0yt">-</button>'),Kr=C('<!> <button class="svelte-1ubn0yt">+</button>',1),Zr=C('<input type="color" class="svelte-1ubn0yt">'),Qr=C('<div class="svelte-1ubn0yt"><div class="svelte-1ubn0yt"><!></div> <div class="svelte-1ubn0yt"><input type="color" class="svelte-1ubn0yt"> <!></div></div>');function jr(e,t){W(t,!1);const r=()=>{const a="0123456789abcdef";let f="#";for(let d=0;d<6;(d+=1)-1){const c=Math.floor(Math.random()*a.length);f+=a[c]}return f},n=()=>fe().v.length>2;ue();var o=Qr(),u=L(o),s=L(u);Q(s,()=>!z.v,a=>{var f=Kr(),d=Qe(f);Q(d,n,h=>{var p=Jr();p.__click=()=>{fe().v.pop(),at().v>fe().v.length-1&&at(at().v-=1),Wt()},T(h,p)});var c=H(d,2);c.__click=()=>{fe().v.push(r())},T(a,f)}),S(u);var i=H(u,2),v=L(i);oe(v),v.__change=()=>{de(de().v=!0)},v.__click=()=>{de(de().v=!1)};var l=H(v,2);me(l,1,()=>fe().v,pe,(a,f,d)=>{var c=Zr();oe(c),c.__change=()=>{de(de().v=!0)},c.__click=()=>{de(de().v=!1)},He(c,()=>fe().v[d],h=>fe(fe().v[d]=h)),T(a,c)}),S(i),S(o),He(v,()=>it().v,a=>it(it().v=a)),T(e,o),U()}se(["click","change"]);var lt=q(()=>Me),en=C('<div class="svelte-1xxyg97"><label class="switch"><input type="checkbox" class="svelte-1xxyg97"></label></div>');function tn(e,t){W(t,!1),ue();var r=en(),n=L(r),o=L(n);oe(o),S(n),S(r),Rr(o,()=>lt().v,u=>lt(lt().v=u)),T(e,r),U()}var ae=q(()=>ie),rn=C('<input name="border" type="radio" class="svelte-qc9c1k">'),nn=C('<div class="svelte-qc9c1k"><input name="border" type="radio" class="svelte-qc9c1k"> <input name="border" type="radio" class="svelte-qc9c1k"> <!></div>');function on(e,t){W(t,!1);const r=[];ue();var n=nn(),o=L(n);oe(o),o.value=(o.__value=0)==null?"":0;var u=H(o,2);oe(u),u.value=(u.__value=1)==null?"":1;var s=H(u,2);Q(s,()=>be.v>5||we.v>5,i=>{var v=rn();oe(v),v.value=(v.__value=2)==null?"":2,ot(r,[],v,()=>ae().v,l=>ae(ae().v=l)),T(i,v)}),S(n),ot(r,[],o,()=>ae().v,i=>ae(ae().v=i)),ot(r,[],u,()=>ae().v,i=>ae(ae().v=i)),T(e,n),U()}var sn=C("<button>Reveal Tile</button>");function an(e,t){W(t,!0);const r=V(()=>{const i=[];let v=!0;const l=I.numRows,a=I.numColumns;for(let f=0;f<l;(f+=1)-1)for(let d=0;d<a;(d+=1)-1)Ce.v[f][d].colorIndex!==I.v[f][d].colorIndex&&(i.push({column:d,row:f}),v=!1);return{isDifferent:i,allSame:v}}),n=V(()=>b(r).isDifferent),o=V(()=>b(r).allSame);Oe(()=>{Se.v=b(o)});const u=()=>{if(!Se.v){const i=Ue(0,b(n).length-1),v=b(n)[i].row,l=b(n)[i].column;I.v[v][l]={colorIndex:Ce.v[v][l].colorIndex,Xed:!1},xt()}};var s=sn();s.__click=u,T(e,s),U()}se(["click"]);const Jt="none";function ln(e){return Array.isArray(e)?e:[e]}function De(e,t,r){return e.addEventListener(t,r),()=>e.removeEventListener(t,r)}function cn(e,t){const r=e.getBoundingClientRect(),n=Math.abs(t[0].clientX-t[1].clientX),o=Math.abs(t[0].clientY-t[1].clientY),u=Math.min(t[0].clientX,t[1].clientX),s=Math.min(t[0].clientY,t[1].clientY),i=u+n/2,v=s+o/2,l=Math.round(i-r.left),a=Math.round(v-r.top);return{x:l,y:a}}function vn(e,t){return t.filter(r=>e.pointerId!==r.pointerId)}function ze(e,t,r,n,o){const u=e.getBoundingClientRect(),s=Math.round(r.clientX-u.left),i=Math.round(r.clientY-u.top);e.dispatchEvent(new CustomEvent(`${t}${o}`,{detail:{event:r,pointersCount:n.length,target:r.target,x:s,y:i}}))}function un(e,t,r,n,o,u=Jt){t.style.touchAction=ln(u).join(" ");let s=[];function i(l){s.push(l),ze(t,e,l,s,"down"),n==null||n(s,l);const a=l.pointerId;function f(g){a===g.pointerId&&(s=vn(g,s),s.length||d(),ze(t,e,g,s,"up"),o==null||o(s,g))}function d(){c(),h(),p(),m()}const c=De(t,"pointermove",g=>{s=s.map(w=>g.pointerId===w.pointerId?g:w),ze(t,e,g,s,"move"),r==null||r(s,g)}),h=De(t,"lostpointercapture",g=>{f(g)}),p=De(t,"pointerup",g=>{f(g)}),m=De(t,"pointerleave",g=>{s=[],d(),ze(t,e,g,s,"up"),o==null||o(s,g)})}const v=De(t,"pointerdown",i);return{destroy:()=>{v()}}}function Ht(e){return Math.hypot(e[0].clientX-e[1].clientX,e[0].clientY-e[1].clientY)}function dn(e,t){const r={touchAction:Jt,composed:!1,...t},n="pinch";let o,u=0,s;function i(a,f){a.length===1&&(o=void 0)}function v(a,f){a.length===2&&(u=Ht(a),s=cn(e,a))}function l(a,f){if(a.length===2){const d=Ht(a);if(o!==void 0&&d!==o){const c=d/u;e.dispatchEvent(new CustomEvent(n,{detail:{scale:c,center:s,pointerType:f.pointerType}}))}o=d}return!1}return r.composed?{onMove:l,onDown:v,onUp:null}:un(n,e,l,v,i,r.touchAction)}var fn=C('<input type="range" class="svelte-1wz0dqh">');function hn(e,t){W(t,!0);const r=100,n=10;let o=j(1);const u=v=>{v.preventDefault(),v.deltaY<0&&B.v<r?B.v+=5:v.deltaY>0&&B.v>n&&(B.v-=5)},s=v=>{if(!Ne.v)return;const l=b(o);F(o,le(v.detail.scale));const a=b(o)<l;a&&B.v>n?B.v-=1:!a&&B.v<r&&(B.v+=1)};var i=fn();te("wheel",ve,u,void 0,!1),Ft(ft.body,v=>dn(v)),te("pinch",ft.body,s),oe(i),Ke(i,"max",r),Ke(i,"min",n),He(i,()=>B.v,v=>B.v=v),T(e,i),U()}var Ge=q(()=>yt),_n=C("<!> <!>",1),pn=C('<div class="svelte-xm1pu0"><!> <!> <!> <!> <!> <!> <!></div>');function mn(e,t){W(t,!1);const r=f=>{f.key==="o"&&Ge(Ge().v=!Ge().v)};ue();var n=pn();te("keydown",ve,r);var o=L(n);Q(o,()=>!z.v,f=>{var d=_n(),c=Qe(d);Vr(c,{});var h=H(c,2);qr(h,{}),T(f,d)});var u=H(o,2);zr(u,{});var s=H(u,2);jr(s,{});var i=H(s,2);on(i,{});var v=H(i,2);tn(v,{});var l=H(v,2);hn(l,{});var a=H(l,2);Q(a,()=>z.v,f=>{an(f,{})}),S(n),J(()=>k(n,"right",Ge().v?"0":"-200px")),T(e,n),U()}const gn=e=>e;function bn(e,{delay:t=0,duration:r=400,easing:n=gn}={}){const o=+getComputedStyle(e).opacity;return{delay:t,duration:r,easing:n,css:u=>`opacity: ${u*o}`}}var wn=C("<div> </div>"),xn=C('<th class="svelte-16s63u3"></th>'),yn=C('<thead><tr><th class="svelte-16s63u3"></th><!></tr></thead>'),In=C("<div> </div>"),$n=C("<td></td>"),kn=C("<span>X</span>"),Tn=C("<td><!></td>"),Cn=C("<tr><!><!></tr>"),Xn=C('<table class="svelte-16s63u3"><!><tbody></tbody></table>');function En(e,t){W(t,!0);let r=j(!1),n=j(!1),o=j(""),u=j(0);const s=(_,$,y,M)=>{const O=Math.abs(_-y),R=Math.abs($-M);return O===0&&R===1?M>$?"right":"left":O===1&&R===0?y>_?"below":"above":"not adjacent"},i=_=>_.Xed,v=_=>_.colorIndex===Te.v,l=(_,$)=>{_.colorIndex=$},a=_=>{_.colorIndex=0},f=_=>{_.Xed=!_.Xed},d=(_,$,y)=>{Ne.v||(_.target instanceof HTMLElement&&_.target.releasePointerCapture(_.pointerId),_.button===0?F(r,!0):_.button===2&&F(n,!0),D.v={colorIndex:I.v[$][y].colorIndex,Xed:I.v[$][y].Xed,column:y,row:$},Pe.v=!1,F(u,0),z.v?_.button===0?_e.v&&!ne(I.v[$][y])?f(I.v[$][y]):!_e.v&&!i(I.v[$][y])&&(v(I.v[$][y])?a(I.v[$][y]):l(I.v[$][y],Te.v)):_.button===2&&(ne(I.v[$][y])?a(I.v[$][y]):f(I.v[$][y])):_.button===0?l(I.v[$][y],Te.v):_.button===2&&a(I.v[$][y]))},c=_=>{_.button===0?F(r,!1):_.button===2&&F(n,!1),Pe.v=!0},h=(_,$)=>{if(!b(r)&&!b(n)||b(r)&&b(n)||D.v.row===-1||Ne.v)return;yr(u),b(u)===1&&F(o,le(s(D.v.row,D.v.column,_,$)));const y=I.v[D.v.row][D.v.column];if(z.v)if(b(o)==="above"||b(o)==="below"){const M=Math.min(D.v.row,_),O=Math.max(D.v.row,_);for(let R=M;R<O+1;(R+=1)-1){const X=I.v[R][D.v.column];b(r)?_e.v&&!ne(X)?X.Xed=y.Xed:!_e.v&&!i(X)&&l(X,y.colorIndex):D.v.Xed&&!ne(X)?X.Xed=!1:D.v.colorIndex===0&&!ne(X)?X.Xed=!0:D.v.colorIndex!==0&&!i(X)&&a(X)}}else{const M=Math.min(D.v.column,$),O=Math.max(D.v.column,$);for(let R=M;R<O+1;(R+=1)-1){const X=I.v[D.v.row][R];b(r)?_e.v&&!ne(X)?X.Xed=y.Xed:!_e.v&&!i(X)&&l(X,y.colorIndex):D.v.Xed&&!ne(X)?X.Xed=!1:D.v.colorIndex===0&&!ne(X)?X.Xed=!0:D.v.colorIndex!==0&&!i(X)&&a(X)}}else b(r)?l(I.v[_][$],Te.v):a(I.v[_][$])};let p=j(!1),m=j(le(ie.v)),g=j(le(Me.v));Oe(()=>{Se.v&&!b(p)?(F(p,!0),F(m,le(ie.v)),F(g,le(Me.v)),ie.v=0,Me.v=!1):!Se.v&&b(p)&&(F(p,!1),ie.v=b(m),Me.v=b(g))});var w=Xn();te("pointerup",ve,c);var E=L(w);Q(E,()=>z.v,_=>{var $=yn(),y=L($),M=H(L(y));me(M,17,()=>({length:I.numColumns}),pe,(O,R,X)=>{var K=xn();me(K,21,()=>Ce.columnHints[X],pe,(Z,G)=>{var A=wn();const Y=V(()=>N.v[pt(b(G).color)]);J(()=>k(A,"color",b(Y)));var re=L(A,!0);S(A),J(()=>{k(A,"font-size",B.v/1.5+"px"),ht(re,b(G).count)}),T(Z,A)}),S(K),T(O,K)}),S(y),S($),T(_,$)});var x=H(E);me(x,21,()=>({length:I.numRows}),pe,(_,$,y)=>{var M=Cn(),O=L(M);Q(O,()=>z.v,K=>{var Z=$n();k(Z,"justify-content","right"),k(Z,"display","flex"),me(Z,21,()=>Ce.rowHints[y],pe,(G,A)=>{var Y=In();const re=V(()=>N.v[pt(b(A).color)]);J(()=>k(Y,"color",b(re))),k(Y,"justify-content","center"),k(Y,"align-items","center"),k(Y,"display","flex");var ye=L(Y,!0);S(Y),J(()=>{k(Y,"font-size",B.v/1.5+"px"),k(Y,"min-width",B.v+"px"),k(Y,"height",B.v+"px"),ht(ye,b(A).count)}),T(G,Y)}),S(Z),T(K,Z)});var R=H(O);me(R,17,()=>({length:I.numColumns}),pe,(K,Z,G)=>{var A=Tn();A.__pointerdown=re=>{d(re,y,G)},k(A,"transition","background-color .5s, border-radius .5s"),k(A,"text-align","center");var Y=L(A);Q(Y,()=>i(I.v[y][G])&&!Se.v,re=>{var ye=kn();Lr(3,ye,()=>bn,()=>({duration:300})),T(re,ye)}),S(A),J(()=>{k(A,"border-left",ie.v===0?"0":`solid ${G%5===0&&G!==0&&ie.v===2?`4px ${N.v[1]}`:`2px ${Ae.v}`}`),k(A,"border-top",ie.v===0?"0":`solid ${y%5===0&&y!==0&&ie.v===2?`4px ${N.v[1]}`:`2px ${Ae.v}`}`),k(A,"border-radius",Me.v===!0?"20%":"0"),k(A,"background-color",N.v[I.v[y][G].colorIndex]),k(A,"font-size",B.v/1.5+"px"),k(A,"min-width",B.v+"px"),k(A,"height",B.v+"px"),k(A,"color",N.v[1])}),te("pointerenter",A,()=>{h(y,G)}),T(K,A)}),S(M),T(_,M)}),S(x),S(w),T(e,w),U()}se(["pointerdown"]);var Mn=C('<div class="svelte-r2sle7"><button class="svelte-r2sle7">Undo</button> <button class="svelte-r2sle7">Redo</button></div>');function An(e,t){W(t,!0);const r=()=>{D.v.row!==-1&&xt(),D.reset()},n=a=>{a.key==="z"?u():a.key==="y"&&s()},o=()=>{I.v=et(xe.v[ce.v]),Wt()},u=()=>{ce.v!==0&&(ce.v-=1,o())},s=()=>{ce.v!==xe.v.length-1&&(ce.v+=1,o())};var i=Mn();te("keydown",ve,n),te("pointerup",ve,r);var v=L(i);v.__click=u;var l=H(v,2);l.__click=s,S(i),T(e,i),U()}se(["click"]);var Ie=q(()=>Ne),$e=q(()=>Te),ke=q(()=>_e),Sn=C('<button class="svelte-1sjs956"></button>'),Hn=C('<button class="svelte-1sjs956">X</button>'),Nn=C('<div class="svelte-1sjs956"><!> <!> <button aria-label="Move" class="svelte-1sjs956"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 21v-9m0 9l3-3m-3 3l-3-3m3-6V3m0 9H3m9 0h9m-9-9L9 6m3-3l3 3M3 12l3 3m-3-3l3-3m15 3l-3-3m3 3l-3 3"></path></svg></button></div>');function Ln(e,t){W(t,!1);const r=a=>{/[1-9]/.test(a.key)&&Number(a.key)<=N.v.length?n(Number(a.key)-1):a.key==="m"?u():a.key==="x"&&z.v&&o()},n=a=>{ke(ke().v=!1),Ie(Ie().v=!1),$e($e().v=a)},o=()=>{ke(ke().v=!0),Ie(Ie().v=!1),$e($e().v=-1)},u=()=>{ke(ke().v=!1),Ie(Ie().v=!0),$e($e().v=-1)};ue();var s=Nn();te("keydown",ve,r);var i=L(s);me(i,1,()=>N.v,pe,(a,f,d)=>{var c=Sn();c.__click=()=>{n(d)},c.textContent=d+1,J(()=>{k(c,"border",`solid 2px ${d===$e().v?d===0?N.v[1]:N.v[0]:N.v[d]}`),k(c,"color",d===0?N.v[1]:N.v[0]),k(c,"background-color",N.v[d])}),T(a,c)});var v=H(i,2);Q(v,()=>z.v,a=>{var f=Hn();f.__click=o,J(()=>k(f,"border",`solid 2px ${ke().v?N.v[1]:"ButtonFace"}`)),T(a,f)});var l=H(v,2);l.__click=u,S(s),J(()=>k(l,"border",`solid 2px ${Ie().v?N.v[1]:"ButtonFace"}`)),T(e,s),U()}se(["click"]);var ct=q(()=>yt),Rn=C('<footer class="svelte-6v3vqk"><div><button>Options</button> <div><!> <!></div></div></footer>');function Dn(e,t){W(t,!1),ue();var r=Rn(),n=L(r);k(n,"border-top-right-radius","8px"),k(n,"border-top-left-radius","8px"),k(n,"overflow","hidden"),k(n,"display","flex");var o=L(n);o.__click=()=>{ct(ct().v=!ct().v)};var u=H(o,2),s=L(u);Ln(s,{});var i=H(s,2);An(i,{}),S(u),S(n),S(r),T(e,r),U()}se(["click"]);var Nt=q(()=>Ce),vt=q(()=>z),On=C("<span> </span>"),Pn=C('<button class="svelte-93z3ep">Start Game</button>'),Yn=C('<header class="svelte-93z3ep"><!></header>');function Bn(e,t){W(t,!1),ue();var r=Yn(),n=L(r);Q(n,()=>vt().v,o=>{var u=On();k(u,"padding-top","10px");var s=L(u,!0);S(u),J(()=>ht(s,Se.v?"You win!":"Keep trying")),T(o,u)},o=>{var u=Pn();u.__click=()=>{vt(vt().v=!0),Nt(Nt().v=I.v),We()},T(o,u)}),S(r),T(e,r),U()}se(["click"]);const zn=e=>{let t=!1,r,n,o,u;const s=l=>{(l.button===1||l.button===0&&Ne.v)&&(l.preventDefault(),t=!0,r=l.pageX-e.offsetLeft,n=l.pageY-e.offsetTop,o=e.scrollLeft,u=e.scrollTop,e.style.cursor="grabbing",document.addEventListener("mousemove",i),document.addEventListener("mouseup",v))},i=l=>{if(!t)return;l.preventDefault();const a=l.pageX-e.offsetLeft,f=l.pageY-e.offsetTop,d=(a-r)*2,c=(f-n)*2;e.scrollLeft=o-d,e.scrollTop=u-c},v=()=>{t=!1,e.style.cursor="",document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",v)};return e.addEventListener("mousedown",s),{destroy:()=>{e.removeEventListener("mousedown",s),e.style.cursor=""}}};var Gn=C('<li class="svelte-1ggrsig"></li>'),Fn=C('<div class="github svelte-1ggrsig"><a href="https://github.com/Tree52/Shareogram" aria-label="Link to GitHub repository" class="svelte-1ggrsig"><svg height="96" width="98" xmlns="http://www.w3.org/2000/svg" class="svelte-1ggrsig"><path clip-rule="evenodd" d="M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z" fill-rule="evenodd" class="svelte-1ggrsig"></path></svg></a></div> <ul class="background svelte-1ggrsig"></ul> <!>  <main class="svelte-1ggrsig"><!></main> <!> <!>',1);function Zn(e,t){W(t,!0);const r=c=>{const h=c.match(/(\d+|[a-zX]+)/g),p=[],m=[];if(h)for(let g=0;g<h.length;(g+=1)-1){const w=h[g];isNaN(Number(w))?m.push(w):p.push(Number(w))}if(p.length!==m.length)throw new Error("Error: different number of counts and letters.");return{letters:m,numbers:p}},n=c=>{const h=r(c),p=[];let m=0,g=0;for(let w=0;w<we.v;(w+=1)-1)p[w]=[];for(let w=0;w<h.numbers.length;(w+=1)-1)for(let E=0;E<h.numbers[w];(E+=1)-1)h.letters[w]==="X"?p[m][(g+=1)-1]={colorIndex:0,Xed:!0}:p[m][(g+=1)-1]={colorIndex:pt(h.letters[w]),Xed:!1},g>be.v-1&&(m+=1,g=0);return p},o=()=>{if(window.location.hash){try{const c=window.location.hash.slice(1).split("-");z.v=!!Number(c[0]),be.v=Number(c[1]),we.v=Number(c[2]),Ae.v="#"+c[3];const h=z.v?c.slice(4,-2):c.slice(4,-1);for(let p=0;p<h.length;(p+=1)-1)N.v[p]="#"+h[p];I.v=n(c[z.v?c.length-2:c.length-1]),xe.v[0]=et(I.v),z.v&&(Ce.v=n(c[c.length-1]))}catch{alert("Couldn't load the code from the URL. Make sure you copied the link correctly.")}Pe.v=!0}},u=c=>(c.preventDefault(),c.returnValue="","");Oe(()=>{if(Pe.v){const c=[Number(z.v),be.v,we.v,Ae.v.slice(1)];for(let h=0;h<N.v.length;(h+=1)-1)c.push(N.v[h].slice(1));c.push(I.encoded),z.v&&c.push(Ce.encoded),window.location.hash=c.join("-")}}),Oe(()=>{document.body.style.color=N.v[0]});var s=Fn();kr(c=>{ft.title="Shareogram"}),te("contextmenu",ve,c=>c.preventDefault()),te("load",ve,o),te("beforeunload",ve,c=>{u(c)});var i=H(Qe(s),2);me(i,20,()=>({length:35}),pe,(c,h)=>{var p=Gn();const m=V(()=>Ue(0,60)+"s");J(()=>k(p,"animation-delay",b(m)));const g=V(()=>Ue(5,200)+"px");J(()=>k(p,"width",b(g)));const w=V(()=>Ue(0,100)+"%");J(()=>k(p,"left",b(w))),T(c,p)}),S(i);var v=H(i,2);Bn(v,{});var l=H(v,2);l.__click=()=>{yt.v=!1};var a=L(l);En(a,{}),S(l),Ft(l,c=>zn(c));var f=H(l,2);Dn(f,{});var d=H(f,2);mn(d,{}),J(()=>{k(i,"background-color",Ae.v),k(l,"touch-action",Ne.v?"auto":"none")}),T(e,s),U()}se(["click"]);export{Zn as component,Kn as universal};
