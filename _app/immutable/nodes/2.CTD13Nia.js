import{g as gt,E as nt,h as P,s as Ce,a as bt,H as xt,r as qe,d as Te,e as fe,k as yt,A as _e,B as Ye,C as Re,n as wt,D as $t,F as It,p as X,q as x,b as w,t as $,u as T,$ as ie,f as ot,G as kt}from"../chunks/disclose-version.CSJjsmsW.js";import{l as st,p as Ct,o as Tt,q as St,t as at,v as lt,w as Et,T as At,y as Me,n as Je,s as be,G as Xt,a as Oe,U as Ht,V as Nt,W as Rt,i as Mt,S as Ot,h as Dt,X as Lt,Y as zt,K as vt,x as Yt,g as C,O as H,C as G,D as W,I as B,Z as pe,b as De,u as Pt}from"../chunks/runtime.DgM04zJ0.js";import{d as te,s as me,e as se,a as Bt}from"../chunks/render.C9QniVHC.js";import{g as Ue,a as Gt,p as Se,i as ee}from"../chunks/if.BeWKHJjb.js";import{i as re}from"../chunks/lifecycle.B4mWCg_p.js";import{r as O}from"../chunks/misc.C5udYI-v.js";function Ie(e,r=!1){return ge(e,new Map)}function ge(e,r,t,o){if(typeof e=="object"&&e!==null){const s=r.get(e);if(s!==void 0)return s;if(st(e)){const a=[];r.set(e,a);for(let i=0;i<e.length;i+=1)a.push(ge(e[i],r));return a}if(Ct(e)===Tt){const a={};r.set(e,a);for(var n in e)a[n]=ge(e[n],r);return a}if(e instanceof Date)return structuredClone(e);if(typeof e.toJSON=="function")return ge(e.toJSON(),r)}if(e instanceof EventTarget)return e;try{return structuredClone(e)}catch{return e}}let Ee=null;function ne(e,r){return r}function Wt(e,r,t,o){for(var n=[],s=r.length,a=0;a<s;a++)Ht(r[a].e,n,!0);var i=s>0&&n.length===0&&t!==null;if(i){var u=t.parentNode;wt(u),u.append(t),o.clear(),U(e,r[0].prev,r[s-1].next)}Nt(n,()=>{for(var c=0;c<s;c++){var _=r[c];i||(o.delete(_.k),U(e,_.prev,_.next)),Rt(_.e,!i)}})}function oe(e,r,t,o,n,s=null){var a=e,i={flags:r,items:new Map,first:null},u=(r&nt)!==0;if(u){var c=e;a=P?Ce(c.firstChild):c.appendChild(gt())}P&&bt();var _=null;St(()=>{var d=t(),f=st(d)?d:d==null?[]:Array.from(d),l=f.length,v=i.flags;v&Re&&!Mt(f)&&!(Ot in f)&&!(Dt in f)&&(v^=Re,v&It&&!(v&_e)&&(v^=_e));let m=!1;if(P){var k=a.data===xt;k!==(l===0)&&(a=qe(),Ce(a),Te(!1),m=!0)}if(P){for(var y=null,h,p=0;p<l;p++){if(fe.nodeType===8&&fe.data===yt){a=fe,m=!0,Te(!1);break}var b=f[p],E=o(b,p);h=ct(fe,i,y,null,b,E,p,n,v),i.items.set(E,h),y=h}l>0&&Ce(qe())}P||Ft(f,i,a,n,v,o),s!==null&&(l===0?_?at(_):_=lt(()=>s(a)):_!==null&&Et(_,()=>{_=null})),m&&Te(!0)}),P&&(a=fe)}function Ft(e,r,t,o,n,s){var Be,Ge,We,Fe;var a=(n&$t)!==0,i=(n&(_e|Ye))!==0,u=e.length,c=r.items,_=r.first,d=_,f=new Set,l=null,v=new Set,m=[],k=[],y,h,p,b;if(a)for(b=0;b<u;b+=1)y=e[b],h=s(y,b),p=c.get(h),p!==void 0&&((Be=p.a)==null||Be.measure(),v.add(p));for(b=0;b<u;b+=1){if(y=e[b],h=s(y,b),p=c.get(h),p===void 0){var E=d?d.e.nodes.start:t;l=ct(E,r,l,l===null?r.first:l.next,y,h,b,o,n),c.set(h,l),m=[],k=[],d=l.next;continue}if(i&&Vt(p,y,b,n),p.e.f&At&&(at(p.e),a&&((Ge=p.a)==null||Ge.unfix(),v.delete(p))),p!==d){if(f.has(p)){if(m.length<k.length){var F=k[0],A;l=F.prev;var D=m[0],z=m[m.length-1];for(A=0;A<m.length;A+=1)Ke(m[A],F,t);for(A=0;A<k.length;A+=1)f.delete(k[A]);U(r,D.prev,z.next),U(r,l,D),U(r,z,F),d=F,l=z,b-=1,m=[],k=[]}else f.delete(p),Ke(p,d,t),U(r,p.prev,p.next),U(r,p,l===null?r.first:l.next),U(r,l,p),l=p;continue}for(m=[],k=[];d!==null&&d.k!==h;)f.add(d),k.push(d),d=d.next;if(d===null)continue;p=d}m.push(p),l=p,d=p.next}const Y=Array.from(f);for(;d!==null;)Y.push(d),d=d.next;var ke=Y.length;if(ke>0){var mt=n&nt&&u===0?t:null;if(a){for(b=0;b<ke;b+=1)(We=Y[b].a)==null||We.measure();for(b=0;b<ke;b+=1)(Fe=Y[b].a)==null||Fe.fix()}Wt(r,Y,mt,c)}a&&Me(()=>{var Ve;for(p of v)(Ve=p.a)==null||Ve.apply()}),Je.first=r.first&&r.first.e,Je.last=l&&l.e}function Vt(e,r,t,o){o&_e&&be(e.v,r),o&Ye?be(e.i,t):e.i=t}function ct(e,r,t,o,n,s,a,i,u){var c=Ee;try{var _=(u&_e)!==0,d=(u&Re)===0,f=_?d?Xt(n):Oe(n):n,l=u&Ye?Oe(a):a,v={i:l,v:f,k:s,a:null,e:null,prev:t,next:o};return Ee=v,v.e=lt(()=>i(e,f,l),P),v.e.prev=t&&t.e,v.e.next=o&&o.e,t===null?r.first=v:(t.next=v,t.e.next=v.e),o!==null&&(o.prev=v,o.e.prev=v.e),v}finally{Ee=c}}function Ke(e,r,t){for(var o=e.next?e.next.e.nodes.start:t,n=r?r.e.nodes.start:t,s=e.e.nodes.start;s!==o;){var a=s.nextSibling;n.before(s),s=a}}function U(e,r,t){r===null?e.first=t:(r.next=t,r.e.next=t&&t.e),t!==null&&(t.prev=r,t.e.prev=r&&r.e)}let Ze=!1;function it(){Ze||(Ze=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var r;if(!e.defaultPrevented)for(const t of e.target.elements)(r=t.__on_r)==null||r.call(t)})},{capture:!0}))}function Q(e){if(P){var r=!1,t=()=>{if(!r){if(r=!0,e.hasAttribute("value")){var o=e.value;xe(e,"value",null),e.value=o}if(e.hasAttribute("checked")){var n=e.checked;xe(e,"checked",null),e.checked=n}}};e.__on_r=t,zt(t),it()}}function xe(e,r,t,o){t=t==null?null:t+"";var n=e.__attributes??(e.__attributes={});P&&(n[r]=e.getAttribute(r),r==="src"||r==="href"||r==="srcset")||n[r]!==(n[r]=t)&&(r==="loading"&&(e[Lt]=t),t===null?e.removeAttribute(r):e.setAttribute(r,t))}function I(e,r,t,o,n){var s=e.__attributes??(e.__attributes={}),a=e.style,i="style-"+r;s[i]===t&&!n||(s[i]=t,t==null?a.removeProperty(r):a.setProperty(r,t,""))}function ut(e,r,t,o=t){e.addEventListener(r,t);const n=e.__on_r;n?e.__on_r=()=>{n(),o()}:e.__on_r=o,it()}function he(e,r,t){ut(e,"input",()=>{t(je(e)?et(e.value):e.value)}),vt(()=>{var o=r();if(P&&e.defaultValue!==e.value){t(e.value);return}je(e)&&o===et(e.value)||e.type==="date"&&!o&&!e.value||(e.value=o??"")})}const Ae=new Set;function Xe(e,r,t,o,n){var s=t.getAttribute("type")==="checkbox",a=e;let i=!1;if(r!==null)for(var u of r)a=a[u]??(a[u]=[]);a.push(t),ut(t,"change",()=>{var c=t.__value;s&&(c=Qe(a,c,t.checked)),n(c)},()=>n(s?[]:null)),vt(()=>{var c=o();if(P&&t.defaultChecked!==t.checked){i=!0;return}s?(c=c||[],t.checked=Ue(c).includes(Ue(t.__value))):t.checked=Gt(t.__value,c)}),Yt(()=>{var c=a.indexOf(t);c!==-1&&a.splice(c,1)}),Ae.has(a)||(Ae.add(a),Me(()=>{a.sort((c,_)=>c.compareDocumentPosition(_)===4?-1:1),Ae.delete(a)})),Me(()=>{if(i){var c;if(s)c=Qe(a,c,t.checked);else{var _=a.find(d=>d.checked);c=_==null?void 0:_.__value}n(c)}})}function Qe(e,r,t){for(var o=new Set,n=0;n<e.length;n+=1)e[n].checked&&o.add(e[n].__value);return t||o.delete(r),Array.from(o)}function je(e){var r=e.type;return r==="number"||r==="range"}function et(e){return e===""?null:+e}const qt=!0,Zr=Object.freeze(Object.defineProperty({__proto__:null,prerender:qt},Symbol.toStringTag,{value:"Module"}));function Jt(e,r,t,o){const n=Math.abs(e-t),s=Math.abs(r-o);return n===0&&s===1?o>r?"right":"left":n===1&&s===0?t>e?"below":"above":"not adjacent"}function Ut(){const e="0123456789abcdef";let r="#";for(let t=0;t<6;t++){const o=Math.floor(Math.random()*e.length);r+=e[o]}return r}function Kt(e,r){return e.map(t=>t.map(o=>o[r]))}const ye=e=>String.fromCharCode(97+e),Le=e=>e.charCodeAt(0)-97;function Zt(e){const r=e.match(/(\d+|[a-z])/g),t=[],o=[];if(r)for(let n=0;n<r.length;n++){const s=r[n];isNaN(Number(s))?o.push(s):t.push(Number(s))}if(t.length!==o.length)throw new Error("Error: different number of counts and letters.");return{numbers:t,letters:o}}function Qt(e,r){return Math.floor(Math.random()*(r-e+1)+e)}const L=e=>e.colorIndex!==0,jt=()=>S.v.length>2;function ft(){const e=[[]];for(let r=0;r<le.v;r++){e[r]=[];for(let t=0;t<ae.v;t++)e[r][t]={colorIndex:0,Xed:!1}}return e}function dt(){for(let e=0;e<g.numRows;e++)for(let r=0;r<g.numColumns;r++)g.v[e][r].colorIndex>S.v.length-1&&(g.v[e][r].colorIndex=0)}function er(e){const r=[[]],t=e.length,o=e[0].length;for(let n=0;n<t;n++){r[n]=[{count:0,color:""}];for(let s=0;s<o;s++)if(L(e[n][s])){const a=s===0?null:e[n][s-1].colorIndex,i=e[n][s].colorIndex;a!==i?r[n].push({count:1,color:ye(i)}):r[n][r[n].length-1].count++}r[n].length>1&&r[n][0].count===0&&r[n].shift()}return r}function tr(e){const r=[[]],t=e.length,o=e[0].length;for(let n=0;n<o;n++){r[n]=[{count:0,color:""}];for(let s=0;s<t;s++)if(L(e[s][n])){const a=s===0?null:e[s-1][n].colorIndex,i=e[s][n].colorIndex;a!==i?r[n].push({count:1,color:ye(i)}):r[n][r[n].length-1].count++}r[n].length>1&&r[n][0].count===0&&r[n].shift()}return r}function rr(e){let r="";const t=e.length,o=e[0].length;let n=1;for(let a=0;a<t;a++)for(let i=0;i<o;i++)if(!(a===0&&i===0)){const u=i===0?e[a-1][o-1]:e[a][i-1];u.colorIndex===e[a][i].colorIndex&&u.Xed===e[a][i].Xed?n++:(r+=n+(u.Xed?"x":ye(u.colorIndex)),n=1)}const s=e[t-1][o-1];return r+=n+(s.Xed?"x":ye(s.colorIndex)),r}function tt(e){const r=Zt(e),t=[];let o=0,n=0;for(let s=0;s<le.v;s++)t[s]=[];for(let s=0;s<r.numbers.length;s++)for(let a=0;a<r.numbers[s];a++)r.letters[s]==="x"?t[o][n++]={colorIndex:0,Xed:!0}:t[o][n++]={colorIndex:Le(r.letters[s]),Xed:!1},n>ae.v-1&&(o++,n=0);return t}function _t(){q.v!==j.v.length-1&&j.v.splice(q.v+1),q.v++,j.v.push(Ie(g.v))}function we(){ae.v<1||le.v<1||(g.v=ft(),j.reset(),j.v[0]=Ie(g.v),q.reset(),Z.reset())}const rt=e=>JSON.parse(JSON.stringify(e));function R(e){const r=typeof e=="object";let t=Oe(Se(r?rt(e):e));return{get v(){return C(t)},set v(n){be(t,Se(n))},reset:()=>be(t,Se(r?rt(e):e))}}function ht(){const e=R(pt),r=H(()=>e.v.length),t=H(()=>e.v[0].length),o=H(()=>Kt(e.v,"colorIndex")),n=H(()=>rr(e.v)),s=H(()=>er(e.v)),a=H(()=>tr(e.v));return{get v(){return e.v},set v(i){e.v=i},reset:e.reset,get numRows(){return C(r)},get numColumns(){return C(t)},get colorIndices(){return C(o)},get encoded(){return C(n)},get rowHints(){return C(s)},get columnHints(){return C(a)}}}const ue=R("#476fb8"),S=R(["#f8fafc","#020617"]),ce=R(1),ae=R(5),le=R(5),pt=ft(),g=ht(),ve=ht(),j=R([pt]),q=R(0),K=R(!1),V=R(!1),M=R(!1),N=R({colorIndex:-1,Xed:!1,row:-1,column:-1}),He=R(""),Ne=R(0),de=R(1),$e=R(!0),J=R(50),ze=R(!1),Pe=R(!1),Z=R(!1);var nr=$("<div> </div>"),or=$('<th class="svelte-1rie86b"></th>'),sr=$('<thead><tr><th class="svelte-1rie86b"></th><!></tr></thead>'),ar=$("<div> </div>"),lr=$("<td></td>"),vr=$("<td> </td>"),cr=$("<tr><!><!></tr>"),ir=$('<table class="svelte-1rie86b"><!><tbody></tbody></table>');function ur(e,r){G(r,!1);const t=f=>f.Xed,o=f=>f.colorIndex===ce.v;function n(f,l){f.colorIndex=l}function s(f){f.colorIndex=0}function a(f){f.Xed=!f.Xed}function i(f,l,v){N.v={colorIndex:g.v[l][v].colorIndex,Xed:g.v[l][v].Xed,row:l,column:v},$e.v=!1,Ne.reset(),M.v?f.button===0&&Z.v&&!L(g.v[l][v])?a(g.v[l][v]):f.button===0&&!Z.v&&!t(g.v[l][v])?o(g.v[l][v])?n(g.v[l][v],0):n(g.v[l][v],ce.v):f.button===2&&!L(g.v[l][v])?a(g.v[l][v]):f.button===2&&L(g.v[l][v])&&s(g.v[l][v]):f.button===0&&!o(g.v[l][v])?n(g.v[l][v],ce.v):s(g.v[l][v])}function u(f,l){if(!K.v&&!V.v||K.v&&V.v||N.v.row===-1)return;Ne.v++,Ne.v===1&&(He.v=Jt(N.v.row,N.v.column,f,l));const v=g.v[N.v.row][N.v.column];if(M.v)if(He.v==="above"||He.v==="below"){const m=Math.min(N.v.row,f),k=Math.max(N.v.row,f);for(let y=m;y<k+1;y++){const h=g.v[y][N.v.column];K.v&&Z.v&&!L(h)?h.Xed=v.Xed:K.v&&!Z.v&&!t(h)?n(h,v.colorIndex):V.v&&N.v.Xed&&!L(h)?h.Xed=!1:V.v&&N.v.colorIndex===0&&!L(h)?h.Xed=!0:V.v&&N.v.colorIndex!==0&&!t(h)&&s(h)}}else{const m=Math.min(N.v.column,l),k=Math.max(N.v.column,l);for(let y=m;y<k+1;y++){const h=g.v[N.v.row][y];K.v&&Z.v&&!L(h)?h.Xed=v.Xed:K.v&&!Z.v&&!t(h)?n(h,v.colorIndex):V.v&&N.v.Xed&&!L(h)?h.Xed=!1:V.v&&N.v.colorIndex===0&&!L(h)?h.Xed=!0:V.v&&N.v.colorIndex!==0&&!t(h)&&s(h)}}else L(v)?n(g.v[f][l],ce.v):s(g.v[f][l])}re();var c=ir(),_=X(c);ee(_,()=>M.v,f=>{var l=sr(),v=X(l),m=X(v),k=x(m);oe(k,1,()=>({length:g.numColumns}),ne,(y,h,p)=>{var b=or();oe(b,9,()=>ve.columnHints[p],ne,(E,F,A)=>{var D=nr();B(()=>I(D,"color",S.v[Le(pe(F).color)]));var z=X(D);T(D),B(()=>{I(D,"font-size",J.v/1.5+"px"),me(z,pe(F).count)}),w(E,D)}),T(b),w(y,b)}),T(v),T(l),w(f,l)});var d=x(_);oe(d,9,()=>({length:g.numRows}),ne,(f,l,v)=>{var m=cr(),k=X(m);ee(k,()=>M.v,h=>{var p=lr();I(p,"display","flex"),I(p,"justify-content","right"),oe(p,9,()=>ve.rowHints[v],ne,(b,E,F)=>{var A=ar();I(A,"display","flex"),I(A,"justify-content","center"),I(A,"align-items","center"),B(()=>I(A,"color",S.v[Le(pe(E).color)]));var D=X(A);T(A),B(()=>{I(A,"min-width",J.v+"px"),I(A,"height",J.v+"px"),I(A,"font-size",J.v/1.5+"px"),me(D,pe(E).count)}),w(b,A)}),T(p),w(h,p)});var y=x(k);oe(y,1,()=>({length:g.numColumns}),ne,(h,p,b)=>{var E=vr(),F=H(()=>z=>{i(z,v,b)});E.__mousedown=function(...z){var Y;return(Y=C(F))==null?void 0:Y.apply(this,z)};var A=H(()=>()=>{u(v,b)});I(E,"text-align","center");var D=X(E);B(()=>me(D,t(g.v[v][b])?"X":"")),T(E),B(()=>{I(E,"background-color",S.v[g.v[v][b].colorIndex]),I(E,"color",S.v[1]),I(E,"min-width",J.v+"px"),I(E,"height",J.v+"px"),I(E,"font-size",J.v/1.5+"px"),I(E,"border-top",de.v===0?"0":v%5===0&&v!==0&&de.v===2?`solid 4px ${S.v[1]}`:`solid 2px ${ue.v}`),I(E,"border-left",de.v===0?"0":b%5===0&&b!==0&&de.v===2?`solid 4px ${S.v[1]}`:`solid 2px ${ue.v}`)}),se("mouseenter",E,function(...z){var Y;return(Y=C(A))==null?void 0:Y.apply(this,z)},!1),w(h,E)}),T(m),w(f,m)}),T(d),T(c),w(e,c),W()}te(["mousedown"]);var fr=$('<button class="svelte-8air6e">-</button>'),dr=$('<button class="svelte-8air6e">+</button>'),_r=$('<input type="color" class="svelte-8air6e">'),hr=$('<div class="svelte-8air6e"><div class="svelte-8air6e"><!> <!></div> <div class="svelte-8air6e"><input type="color" class="svelte-8air6e"> <!></div></div>');function pr(e,r){G(r,!1);var t=O(()=>ue),o=O(()=>$e),n=O(()=>ce),s=O(()=>S);re();var a=hr(),i=X(a),u=X(i);ee(u,()=>!M.v&&jt(),v=>{var m=fr(),k=H(()=>()=>{s().v.pop(),n().v>s().v.length-1&&(()=>{const y=n().v;return n(n().v-=1),y})(),dt()});m.__click=function(...y){var h;return(h=C(k))==null?void 0:h.apply(this,y)},w(v,m)});var c=x(x(u,!0));ee(c,()=>!M.v&&s().v.length<16,v=>{var m=dr(),k=H(()=>()=>{s().v.push(Ut())});m.__click=function(...y){var h;return(h=C(k))==null?void 0:h.apply(this,y)},w(v,m)}),T(i);var _=x(x(i,!0)),d=X(_);Q(d),d.__click=()=>{o(o().v=!1)};var f=H(()=>()=>{o().reset()});d.__change=function(...v){var m;return(m=C(f))==null?void 0:m.apply(this,v)};var l=x(x(d,!0));oe(l,1,()=>s().v,ne,(v,m,k)=>{var y=_r();Q(y),y.__click=()=>{o(o().v=!1)};var h=H(()=>()=>{o().reset()});y.__change=function(...p){var b;return(b=C(h))==null?void 0:b.apply(this,p)},he(y,()=>s().v[k],p=>s(s().v[k]=p)),w(v,y)}),T(_),T(a),he(d,()=>t().v,v=>t(t().v=v)),w(e,a),W()}te(["click","change"]);var mr=$('<input type="radio" name="border" class="svelte-anhrtm">'),gr=$('<div class="svelte-anhrtm"><input type="radio" name="border" class="svelte-anhrtm"> <input type="radio" name="border" class="svelte-anhrtm"> <!></div>');function br(e,r){G(r,!1);const t=[];var o=O(()=>de);re();var n=gr(),s=X(n);Q(s),s.value=(s.__value=0)==null?"":0;var a=x(x(s,!0));Q(a),a.value=(a.__value=1)==null?"":1;var i=x(x(a,!0));ee(i,()=>ae.v>5||le.v>5,u=>{var c=mr();Q(c),c.value=(c.__value=2)==null?"":2,Xe(t,[],c,()=>o().v,_=>o(o().v=_)),w(u,c)}),T(n),Xe(t,[],s,()=>o().v,u=>o(o().v=u)),Xe(t,[],a,()=>o().v,u=>o(o().v=u)),w(e,n),W()}var xr=$('<input type="range" class="svelte-169wscz">');function yr(e,r){G(r,!1);var t=O(()=>J);const o=100,n=10;function s(i){i.preventDefault(),i.deltaY<0&&t().v<o?t(t().v+=5):i.deltaY>0&&t().v>n&&t(t().v-=5)}re();var a=xr();se("wheel",ie,s,!1,!1),Q(a),xe(a,"min",n),xe(a,"max",o),he(a,()=>t().v,i=>t(t().v=i)),w(e,a),W()}var wr=()=>{M.reset(),we()},$r=$("<button>New Editor</button>"),Ir=$('<div class="svelte-jomuew"><input type="text" class="svelte-jomuew"> <input type="text" class="svelte-jomuew"></div>'),kr=$('<div class="svelte-jomuew"><!></div>');function Cr(e,r){G(r,!1);var t=O(()=>le),o=O(()=>ae);const n=i=>Math.max(0,Math.min(Number(String(i).replace(/[^0-9]/g,"")),100));re();var s=kr(),a=X(s);ee(a,()=>M.v,i=>{var u=$r();u.__click=[wr],w(i,u)},i=>{var u=Ir(),c=X(u);Q(c);var _=H(()=>()=>{o(o().v=n(o().v)),we()});c.__input=function(...l){var v;return(v=C(_))==null?void 0:v.apply(this,l)};var d=x(x(c,!0));Q(d);var f=H(()=>()=>{t(t().v=n(t().v)),we()});d.__input=function(...l){var v;return(v=C(f))==null?void 0:v.apply(this,l)},T(u),he(c,()=>o().v,l=>o(o().v=l)),he(d,()=>t().v,l=>t(t().v=l)),w(i,u)}),T(s),w(e,s),W()}te(["click","input"]);var Tr=()=>{Pe.reset()},Sr=$('<div class="svelte-r4iltx"><!> <!> <!> <!> <button>Close Options</button></div>');function Er(e,r){G(r,!1),re();var t=Sr(),o=X(t);Cr(o,{$$legacy:!0});var n=x(x(o,!0));pr(n,{$$legacy:!0});var s=x(x(n,!0));br(s,{$$legacy:!0});var a=x(x(s,!0));yr(a,{$$legacy:!0});var i=x(x(a,!0));i.__click=[Tr],T(t),B(()=>I(t,"display",Pe.v?"flex":"none")),w(e,t),W()}te(["click"]);var Ar=$('<div class="svelte-1pkn4rs"><button class="svelte-1pkn4rs">Undo (z)</button> <button class="svelte-1pkn4rs">Redo (y)</button></div>');function Xr(e,r){G(r,!0);function t(c){c.key==="z"?n():c.key==="y"&&s()}function o(){g.v=Ie(j.v[q.v]),dt()}function n(){q.v!==0&&(q.v--,o())}function s(){q.v!==j.v.length-1&&(q.v++,o())}var a=Ar();se("keydown",ie,t,!1);var i=X(a);i.__click=n;var u=x(x(i,!0));u.__click=s,T(a),w(e,a),W()}te(["click"]);var Hr=$('<button class="svelte-108n948"> </button>'),Nr=$('<button class="svelte-108n948">X</button>'),Rr=$('<div class="svelte-108n948"><!> <!></div>');function Mr(e,r){G(r,!1);var t=O(()=>Z),o=O(()=>ce);function n(u){/^[1-9]$/.test(u.key)&&Number(u.key)<=S.v.length?(t().reset(),o(o().v=Number(u.key)-1)):u.key==="x"&&M.v&&(t(t().v=!0),o(o().v=-1))}re();var s=Rr();se("keydown",ie,n,!1);var a=X(s);oe(a,1,()=>S.v,ne,(u,c,_)=>{var d=Hr(),f=H(()=>()=>{o(o().v=_),t().reset()});d.__click=function(...v){var m;return(m=C(f))==null?void 0:m.apply(this,v)};var l=X(d);l.nodeValue=_<9?_+1:"",T(d),B(()=>{I(d,"background-color",S.v[_]),I(d,"color",_===0?S.v[1]:S.v[0]),I(d,"border",_===o().v?_===0?`solid 2px ${S.v[1]}`:`solid 2px ${S.v[0]}`:`solid 2px ${S.v[_]}`),I(d,"--max-h",S.v.length>4?"2rem":"6rem")}),w(u,d)});var i=x(x(a,!0));ee(i,()=>M.v,u=>{var c=Nr();c.__click=()=>{t(t().v=!0),o(o().v=-1)},B(()=>{I(c,"border",t().v?`solid 2px ${S.v[1]}`:"solid 2px ButtonFace"),I(c,"--max-h",S.v.length>4?"2rem":"6rem")}),w(u,c)}),T(s),w(e,s),W()}te(["click"]);var Or=$('<footer class="svelte-80pkd2"><div><!> <!></div></footer>');function Dr(e){var r=Or(),t=X(r),o=X(t);Mr(o,{$$legacy:!0});var n=x(x(o,!0));Xr(n,{$$legacy:!0}),T(t),T(r),w(e,r)}var Lr=$("<button>Reveal Tile</button>");function zr(e,r){G(r,!0);const t=H(()=>{const u=[];let c=!0;const _=g.numRows,d=g.numColumns;for(let f=0;f<_;f++)for(let l=0;l<d;l++)ve.v[f][l].colorIndex!==g.v[f][l].colorIndex&&(u.push({row:f,column:l}),c=!1);return{isDifferent:u,allSame:c}}),o=H(()=>{let{isDifferent:u,allSame:c}=C(t);return[u,c]}),n=H(()=>C(o)[0]),s=H(()=>C(o)[1]);De(()=>{ze.v=C(s)});function a(){if(!ze.v){const u=Qt(0,C(n).length-1),c=C(n)[u].row,_=C(n)[u].column;g.v[c][_]={colorIndex:ve.v[c][_].colorIndex,Xed:!1},_t()}}var i=Lr();i.__click=a,w(e,i),W()}te(["click"]);var Yr=$("<span> </span> <!>",1),Pr=$("<button>Start Game</button>"),Br=$('<header class="svelte-1cyup8g"><button>Options</button> <!></header>');function Gr(e,r){G(r,!1);var t=O(()=>ve),o=O(()=>Pe),n=O(()=>M);re();var s=Br(),a=X(s);a.__click=()=>{o(o().v=!o().v)},I(a,"margin-right","4px");var i=x(x(a,!0));ee(i,()=>n().v,u=>{var c=Yr(),_=ot(c),d=X(_);T(_);var f=x(x(_,!0));zr(f,{$$legacy:!0}),B(()=>me(d,ze.v?"You win!":"Keep trying")),w(u,c)},u=>{var c=Pr(),_=H(()=>()=>{n(n().v=!0),t(t().v=g.v),we()});c.__click=function(...d){var f;return(f=C(_))==null?void 0:f.apply(this,d)},w(u,c)}),T(s),B(()=>I(s,"justify-content",n().v?"space-between":"center")),w(e,s),W()}te(["click"]);var Wr=$('<!> <main class="svelte-1ucsgwf"><!></main> <!> <!>',1);function Qr(e,r){G(r,!0);function t(l){l.button===0?K.v=!0:l.button===2&&(V.v=!0)}function o(l){l.button===0?K.reset():l.button===2&&V.reset(),N.v.row!==-1&&_t(),N.reset(),$e.reset()}let n=!0;Pt(()=>{if(window.location.hash&&n){const l=window.location.hash.slice(1).split("-");M.v=!!Number(l[0]),ae.v=Number(l[1]),le.v=Number(l[2]),ue.v="#"+l[3];const v=M.v?l.slice(4,-2):l.slice(4,-1);for(let m=0;m<v.length;m++)S.v[m]="#"+v[m];g.v=tt(l[M.v?l.length-2:l.length-1]),j.v[0]=Ie(g.v),M.v&&(ve.v=tt(l[l.length-1]))}n=!1});const s=H(()=>{const l=[Number(M.v),ae.v,le.v,ue.v.slice(1)];for(let v=0;v<S.v.length;v++)l.push(S.v[v].slice(1));return l.push(g.encoded),M.v&&l.push(ve.encoded),l.join("-")});De(()=>{$e.v&&(window.location.hash=C(s))}),De(()=>{document.body.style.backgroundColor=ue.v,document.body.style.color=S.v[0]});var a=Wr();se("mousedown",ie,t,!1),se("mouseup",ie,o,!1),se("contextmenu",ie,function(...l){var v;return(v=C(i))==null?void 0:v.apply(this,l)},!1),Bt(l=>{kt.title="Shareogram"});var i=H(()=>l=>l.preventDefault()),u=ot(a);Gr(u,{});var c=x(x(u,!0)),_=X(c);ur(_,{}),T(c);var d=x(x(c,!0));Dr(d);var f=x(x(d,!0));Er(f,{}),w(e,a),W()}export{Qr as component,Zr as universal};
