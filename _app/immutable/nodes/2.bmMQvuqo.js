import{c as hr,a as X,t as M}from"../chunks/disclose-version.BFyFZ1Tk.js";import{v as jt,q as At,o as pr,R as _r,w as mr,at as er,A as ie,D as mt,B as gr,a9 as tr,H as wr,C as zt,F as gt,G as Qe,au as it,x as rr,y as nr,z as br,_ as vt,k as ut,av as Dt,aw as Bt,ax as Ot,ay as xr,a8 as yr,az as kr,Q as Ir,T as $r,a5 as Er,Z as or,aA as Tr,m as Sr,h as Xt,aB as Cr,a2 as Ar,ab as sr,u as ar,aC as Xr,aD as Mr,aE as Hr,E as Rr,aF as Nr,aG as Lr,aH as Dr,n as je,aI as Or,X as Ft,Y as Gt,aJ as Pr,ac as dt,b as qr,d as J,g as x,ar as le,O as B,p as Z,f as Ke,a as Q,c as P,s as D,r as O,J as Ue,aK as Mt,aL as ue,t as G,aM as Yr}from"../chunks/runtime.kwFfegih.js";import{a as zr,b as Br,l as ht,d as de,e as te,s as Ht,c as Fr}from"../chunks/render.DZPyI7WY.js";import{a as Gr,p as qe,i as re}from"../chunks/if.QfZRQiwm.js";import{i as be}from"../chunks/legacy.BZr0P_gC.js";const Ur=[];function pt(e,t=!1){return lt(e,new Map,"",Ur)}function lt(e,t,r,n,o=null){if(typeof e=="object"&&e!==null){const s=t.get(e);if(s!==void 0)return s;if(e instanceof Map)return new Map(e);if(e instanceof Set)return new Set(e);if(jt(e)){const v=[];t.set(e,v),o!==null&&t.set(o,v);for(let d=0;d<e.length;d+=1)v.push(lt(e[d],t,r,n));return v}if(At(e)===pr){const v={};t.set(e,v),o!==null&&t.set(o,v);for(var f in e)v[f]=lt(e[f],t,r,n);return v}if(e instanceof Date)return structuredClone(e);if(typeof e.toJSON=="function")return lt(e.toJSON(),t,r,n,e)}if(e instanceof EventTarget)return e;try{return structuredClone(e)}catch{return e}}function Te(e,t){return t}function Jr(e,t,r,n){for(var o=[],f=t.length,s=0;s<f;s++)xr(t[s].e,o,!0);var v=f>0&&o.length===0&&r!==null;if(v){var d=r.parentNode;yr(d),d.append(r),n.clear(),$e(e,t[0].prev,t[f-1].next)}kr(o,()=>{for(var i=0;i<f;i++){var a=t[i];v||(n.delete(a.k),$e(e,a.prev,a.next)),Ir(a.e,!v)}})}function Se(e,t,r,n,o,f=null){var s=e,v={flags:t,items:new Map,first:null},d=(t&er)!==0;if(d){var i=e;s=ie?mt($r(i)):i.appendChild(_r())}ie&&gr();var a=null,p=!1;mr(()=>{var l=r(),h=jt(l)?l:l==null?[]:tr(l),c=h.length;if(p&&c===0)return;p=c===0;let m=!1;if(ie){var g=s.data===wr;g!==(c===0)&&(s=zt(),mt(s),gt(!1),m=!0)}if(ie){for(var b=null,E,$=0;$<c;$++){if(Qe.nodeType===8&&Qe.data===Er){s=Qe,m=!0,gt(!1);break}var I=h[$],N=n(I,$);E=ir(Qe,v,b,null,I,N,$,o,t),v.items.set(N,E),b=E}c>0&&mt(zt())}if(!ie){var ne=or;Vr(h,v,s,o,t,(ne.f&it)!==0,n)}f!==null&&(c===0?a?rr(a):a=nr(()=>f(s)):a!==null&&br(a,()=>{a=null})),m&&gt(!0),r()}),ie&&(s=Qe)}function Vr(e,t,r,n,o,f,s){var xe,Re,Ne,u;var v=(o&Tr)!==0,d=(o&(Dt|Ot))!==0,i=e.length,a=t.items,p=t.first,l=p,h,c=null,m,g=[],b=[],E,$,I,N;if(v)for(N=0;N<i;N+=1)E=e[N],$=s(E,N),I=a.get($),I!==void 0&&((xe=I.a)==null||xe.measure(),(m??(m=new Set)).add(I));for(N=0;N<i;N+=1){if(E=e[N],$=s(E,N),I=a.get($),I===void 0){var ne=l?l.e.nodes_start:r;c=ir(ne,t,c,c===null?t.first:c.next,E,$,N,n,o),a.set($,c),g=[],b=[],l=c.next;continue}if(d&&Kr(I,E,N,o),I.e.f&it&&(rr(I.e),v&&((Re=I.a)==null||Re.unfix(),(m??(m=new Set)).delete(I))),I!==l){if(h!==void 0&&h.has(I)){if(g.length<b.length){var ee=b[0],F;c=ee.prev;var he=g[0],oe=g[g.length-1];for(F=0;F<g.length;F+=1)Ut(g[F],ee,r);for(F=0;F<b.length;F+=1)h.delete(b[F]);$e(t,he.prev,oe.next),$e(t,c,he),$e(t,oe,ee),l=ee,c=oe,N-=1,g=[],b=[]}else h.delete(I),Ut(I,l,r),$e(t,I.prev,I.next),$e(t,I,c===null?t.first:c.next),$e(t,c,I),c=I;continue}for(g=[],b=[];l!==null&&l.k!==$;)(f||!(l.e.f&it))&&(h??(h=new Set)).add(l),b.push(l),l=l.next;if(l===null)continue;I=l}g.push(I),c=I,l=I.next}if(l!==null||h!==void 0){for(var pe=h===void 0?[]:tr(h);l!==null;)(f||!(l.e.f&it))&&pe.push(l),l=l.next;var He=pe.length;if(He>0){var ze=o&er&&i===0?r:null;if(v){for(N=0;N<He;N+=1)(Ne=pe[N].a)==null||Ne.measure();for(N=0;N<He;N+=1)(u=pe[N].a)==null||u.fix()}Jr(t,pe,ze,a)}}v&&vt(()=>{var _;if(m!==void 0)for(I of m)(_=I.a)==null||_.apply()}),ut.first=t.first&&t.first.e,ut.last=c&&c.e}function Kr(e,t,r,n){n&Dt&&Bt(e.v,t),n&Ot?Bt(e.i,r):e.i=r}function ir(e,t,r,n,o,f,s,v,d){var i=(d&Dt)!==0,a=(d&Cr)===0,p=i?a?Sr(o):Xt(o):o,l=d&Ot?Xt(s):s,h={i:l,v:p,k:f,a:null,e:null,prev:r,next:n};try{return h.e=nr(()=>v(e,p,l),ie),h.e.prev=r&&r.e,h.e.next=n&&n.e,r===null?t.first=h:(r.next=h,r.e.next=h.e),n!==null&&(n.prev=h,n.e.prev=h.e),h}finally{}}function Ut(e,t,r){for(var n=e.next?e.next.e.nodes_start:r,o=t?t.e.nodes_start:r,f=e.e.nodes_start;f!==n;){var s=Ar(f);o.before(f),f=s}}function $e(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function lr(e,t,r){sr(()=>{var n=ar(()=>t(e,r==null?void 0:r())||{});if(n!=null&&n.destroy)return()=>n.destroy()})}function fe(e){if(ie){var t=!1,r=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var n=e.value;We(e,"value",null),e.value=n}if(e.hasAttribute("checked")){var o=e.checked;We(e,"checked",null),e.checked=o}}};e.__on_r=r,Hr(r),zr()}}function We(e,t,r,n){var o=e.__attributes??(e.__attributes={});ie&&(o[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||o[t]!==(o[t]=r)&&(t==="style"&&"__styles"in e&&(e.__styles={}),t==="loading"&&(e[Xr]=r),r==null?e.removeAttribute(t):typeof r!="string"&&Wr(e).includes(t)?e[t]=r:e.setAttribute(t,r))}var Jt=new Map;function Wr(e){var t=Jt.get(e.nodeName);if(t)return t;Jt.set(e.nodeName,t=[]);for(var r,n=At(e),o=Element.prototype;o!==n;){r=Mr(n);for(var f in r)r[f].set&&t.push(f);n=At(n)}return t}function C(e,t,r,n){var o=e.__styles??(e.__styles={});o[t]!==r&&(o[t]=r,r==null?e.style.removeProperty(t):e.style.setProperty(t,r,""))}const Zr=()=>performance.now(),Ce={tick:e=>requestAnimationFrame(e),now:()=>Zr(),tasks:new Set};function cr(e){Ce.tasks.forEach(t=>{t.c(e)||(Ce.tasks.delete(t),t.f())}),Ce.tasks.size!==0&&Ce.tick(cr)}function Qr(e){let t;return Ce.tasks.size===0&&Ce.tick(cr),{promise:new Promise(r=>{Ce.tasks.add(t={c:e,f:r})}),abort(){Ce.tasks.delete(t)}}}function nt(e,t){e.dispatchEvent(new CustomEvent(t))}function jr(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function Vt(e){const t={},r=e.split(";");for(const n of r){const[o,f]=n.split(":");if(!o||f===void 0)break;const s=jr(o.trim());t[s]=f.trim()}return t}const en=e=>e;function tn(e,t,r,n){var o=(e&Or)!==0,f="both",s,v=t.inert,d,i;function a(){var m=or,g=ut;Ft(null),Gt(null);try{return s??(s=r()(t,(n==null?void 0:n())??{},{direction:f}))}finally{Ft(m),Gt(g)}}var p={is_global:o,in(){t.inert=v,nt(t,"introstart"),d=Rt(t,a(),i,1,()=>{nt(t,"introend"),d==null||d.abort(),d=s=void 0})},out(m){t.inert=!0,nt(t,"outrostart"),i=Rt(t,a(),d,0,()=>{nt(t,"outroend"),m==null||m()})},stop:()=>{d==null||d.abort(),i==null||i.abort()}},l=ut;if((l.transitions??(l.transitions=[])).push(p),Br){var h=o;if(!h){for(var c=l.parent;c&&c.f&Rr;)for(;(c=c.parent)&&!(c.f&Nr););h=!c||(c.f&Lr)!==0}h&&sr(()=>{ar(()=>p.in())})}}function Rt(e,t,r,n,o){var f=n===1;if(Dr(t)){var s,v=!1;return vt(()=>{if(!v){var g=t({direction:f?"in":"out"});s=Rt(e,g,r,n,o)}}),{abort:()=>{v=!0,s==null||s.abort()},deactivate:()=>s.deactivate(),reset:()=>s.reset(),t:()=>s.t()}}if(r==null||r.deactivate(),!(t!=null&&t.duration))return o(),{abort:je,deactivate:je,reset:je,t:()=>n};const{delay:d=0,css:i,tick:a,easing:p=en}=t;var l=[];if(f&&r===void 0&&(a&&a(0,1),i)){var h=Vt(i(0,1));l.push(h,h)}var c=()=>1-n,m=e.animate(l,{duration:d});return m.onfinish=()=>{var g=(r==null?void 0:r.t())??1-n;r==null||r.abort();var b=n-g,E=t.duration*Math.abs(b),$=[];if(E>0){if(i)for(var I=Math.ceil(E/16.666666666666668),N=0;N<=I;N+=1){var ne=g+b*p(N/I),ee=i(ne,1-ne);$.push(Vt(ee))}c=()=>{var F=m.currentTime;return g+b*p(F/E)},a&&Qr(()=>{if(m.playState!=="running")return!1;var F=c();return a(F,1-F),!0})}m=e.animate($,{duration:E,fill:"forwards"}),m.onfinish=()=>{c=()=>n,a==null||a(n,1-n),o()}},{abort:()=>{m&&(m.cancel(),m.effect=null,m.onfinish=je)},deactivate:()=>{o=je},reset:()=>{n===0&&(a==null||a(1,0))},t:()=>c()}}function Ze(e,t,r=t){var n=Pr();ht(e,"input",()=>{var o=xt(e)?yt(e.value):e.value;r(o),n&&o!==(o=t())&&(e.value=o??"")}),dt(()=>{var o=t();if(ie&&e.defaultValue!==e.value){r(xt(e)?yt(e.value):e.value);return}xt(e)&&o===yt(e.value)||e.type==="date"&&!o&&!e.value||o!==e.value&&(e.value=o??"")})}const wt=new Set;function bt(e,t,r,n,o=n){var f=r.getAttribute("type")==="checkbox",s=e;let v=!1;if(t!==null)for(var d of t)s=s[d]??(s[d]=[]);s.push(r),ht(r,"change",()=>{var i=r.__value;f&&(i=Wt(s,i,r.checked)),o(i)},()=>o(f?[]:null)),dt(()=>{var i=n();if(ie&&r.defaultChecked!==r.checked){v=!0;return}f?(i=i||[],r.checked=i.includes(r.__value)):r.checked=Gr(r.__value,i)}),qr(()=>{var i=s.indexOf(r);i!==-1&&s.splice(i,1)}),wt.has(s)||(wt.add(s),vt(()=>{s.sort((i,a)=>i.compareDocumentPosition(a)===4?-1:1),wt.delete(s)})),vt(()=>{if(v){var i;if(f)i=Wt(s,i,r.checked);else{var a=s.find(p=>p.checked);i=a==null?void 0:a.__value}o(i)}})}function Kt(e,t,r=t){ht(e,"change",()=>{var n=e.checked;r(n)}),t()==null&&r(!1),dt(()=>{var n=t();e.checked=!!n})}function Wt(e,t,r){for(var n=new Set,o=0;o<e.length;o+=1)e[o].checked&&n.add(e[o].__value);return r||n.delete(t),Array.from(n)}function xt(e){var t=e.type;return t==="number"||t==="range"}function yt(e){return e===""?null:+e}function rn(e,t,r=t){ht(e,"change",()=>{r(e.files)}),dt(()=>{e.files=t()})}function W(e){var t=Xt(0);return function(){return arguments.length===1?(J(t,x(t)+1),arguments[0]):(x(t),e())}}const nn=!0,go=Object.freeze(Object.defineProperty({__proto__:null,prerender:nn},Symbol.toStringTag,{value:"Module"})),ye=e=>e.colorIndex!==0,Pt=()=>{const e=[[]];for(let t=0;t<Xe.v;(t+=1)-1){e[t]=[];for(let r=0;r<Ae.v;(r+=1)-1)e[t][r]={colorIndex:0,Xed:!1}}return e},fr=()=>{for(let e=0;e<k.numRows;(e+=1)-1)for(let t=0;t<k.numColumns;(t+=1)-1)k.v[e][t].colorIndex>L.v.length-1&&(k.v[e][t].colorIndex=0)},qt=()=>{we.v!==Me.v.length-1&&Me.v.splice(we.v+1),we.v+=1,Me.v.push(pt(k.v))},ct=()=>{Ae.v<1||Xe.v<1||(k.v=Pt(),Me.reset(),Me.v[0]=pt(k.v),we.reset(),Ee.v=!1)},Nt=e=>{let t=0;for(let r=0;r<e.length;(r+=1)-1)t*=26,t+=e.charCodeAt(r)-97+1;return t-1},Lt=e=>{const t=parseInt(e.replace("#",""),16);return[t>>16&255,t>>8&255,t&255]},ft=(e,t)=>Math.floor(Math.random()*(t-e+1)+e),ot=e=>{let t="";for(;e>=0;)t=String.fromCharCode(e%26+97)+t,e=Math.floor(e/26)-1;return t},U=e=>{let t=le(qe(e));return{set v(n){J(t,qe(n))},get v(){return x(t)},reset:()=>J(t,qe(e))}},vr=()=>{const e=U(ur),t=B(()=>e.v.length),r=B(()=>e.v[0].length),n=B(()=>e.v.map(i=>i.map(a=>a.colorIndex))),o=B(()=>{const i=[[]],a=e.v.length,p=e.v[0].length;for(let l=0;l<a;(l+=1)-1){i[l]=[];const h=e.v[l][0],c={color:h.Xed?"X":ot(h.colorIndex),count:1};for(let m=1;m<p;(m+=1)-1){const g=e.v[l][m-1],b=e.v[l][m];g.colorIndex===b.colorIndex&&g.Xed===b.Xed?c.count+=1:(i[l].push({...c}),c.color=b.Xed?"X":ot(b.colorIndex),c.count=1)}i[l].push({...c})}return i}),f=B(()=>x(o).map(i=>i.filter(a=>a.color!=="a"&&a.color!=="X"))),s=B(()=>{const i=[[]],a=e.v.length,p=e.v[0].length;for(let l=0;l<p;(l+=1)-1){i[l]=[];const h=e.v[0][l],c={color:h.Xed?"X":ot(h.colorIndex),count:1};for(let m=1;m<a;(m+=1)-1){const g=e.v[m-1][l],b=e.v[m][l];g.colorIndex===b.colorIndex&&g.Xed===b.Xed?c.count+=1:(i[l].push({...c}),c.color=b.Xed?"X":ot(b.colorIndex),c.count=1)}i[l].push({...c})}return i}),v=B(()=>x(s).map(i=>i.filter(a=>a.color!=="a"&&a.color!=="X"))),d=B(()=>{let i="",a="",p=0;for(let l=0;l<x(o).length;(l+=1)-1)for(let h=0;h<x(o)[l].length;(h+=1)-1){const c=x(o)[l][h];c.color===a?p+=c.count:(a!==""&&(i+=p+a),a=c.color,p=c.count)}return i+=p+a,i});return{get columnEncodes(){return x(s)},get colorIndices(){return x(n)},get columnHints(){return x(v)},get rowEncodes(){return x(o)},get numColumns(){return x(r)},get rowHints(){return x(f)},set v(i){e.v=i},get encoded(){return x(d)},get numRows(){return x(t)},get v(){return e.v},reset:e.reset}},Je=U("#476fb8"),L=U(["#f8fafc","#020617"]),Pe=U(1),Ae=U(5),Xe=U(5),ur=Pt(),k=vr(),ce=vr(),Me=U([ur]),we=U(0),K=U(!1),z=U({colorIndex:-1,column:-1,Xed:!1,row:-1}),ge=U(1),rt=U(!1),ae=U(1),Ve=U(!1),Yt=U(!1),Ee=U(!1),Ye=U(!1),Ge=U(!1),tt=U(!1);var Be=W(()=>Xe),Fe=W(()=>Ae),kt=W(()=>K),on=M("<button>New Editor</button>"),sn=M('<div class="flex"><input class="min-w-0 text-center" type="text"> <input class="min-w-0 text-center" type="text"></div>');function an(e,t){Z(t,!1);const r=f=>Math.max(0,Number(String(f).replace(/[^0-9]/g,"")));be();var n=hr(),o=Ke(n);re(o,()=>kt().v,f=>{var s=on();s.__click=()=>{kt(kt().v=!1),ct()},X(f,s)},f=>{var s=sn(),v=P(s);fe(v),v.__input=()=>{Fe(Fe().v=r(Fe().v)),ct()};var d=D(v,2);fe(d),d.__input=()=>{Be(Be().v=r(Be().v)),ct()},O(s),Ze(v,()=>Fe().v,i=>Fe(Fe().v=i)),Ze(d,()=>Be().v,i=>Be(Be().v=i)),X(f,s)}),X(e,n),Q()}de(["click","input"]);const ln=(e,t)=>{t(k.colorIndices,L.v,r=>{const n=document.createElement("a");n.download="shareogram.png",n.href=r,n.click()})};var cn=M("<button>Export as PNG</button>");function fn(e,t){Z(t,!1);const r=(o,f,s)=>{const v=o[0].length,d=o.length,i=document.createElement("canvas");i.width=v,i.height=d;const a=i.getContext("2d");if(a){const p=a.createImageData(v,d);for(let h=0;h<d;(h+=1)-1)for(let c=0;c<v;(c+=1)-1){const m=f[o[h][c]],g=Lt(m);if(g){const[b,E,$]=g,I=(h*v+c)*4;p.data[I]=b,p.data[I+1]=E,p.data[I+2]=$,p.data[I+3]=255}}a.putImageData(p,0,0);const l=i.toDataURL("image/png");s(l)}};be();var n=cn();n.__click=[ln,r],X(e,n),Q()}de(["click"]);var vn=M('<input class="mx-2" type="range" max="442" min="10">'),un=M('<input accept="image/png" id="file-upload" type="file" class="svelte-1mz0xx0"> <!>',1);function dn(e,t){Z(t,!0);let r=le(10),n=le(void 0);const o=(p,l,h)=>{const[c,m,g]=p,[b,E,$]=l;return Math.sqrt((c-b)**2+(m-E)**2+(g-$)**2)<=h},f=(p,l,h)=>"#"+[p,l,h].map(c=>Math.round(c).toString(16).padStart(2,"0")).join(""),s=(p,l,h)=>{const c=Lt(p);for(let m=0;m<l.length;(m+=1)-1){const g=Lt(l[m]);if(o(c,g,h))return m}return l.push(p),l.length-1},v=(p,l,h)=>{const c=new FileReader;c.onload=m=>{var b;const g=new Image;g.onload=()=>{const E=document.createElement("canvas"),$=E.getContext("2d");if($){E.width=g.width,E.height=g.height,$.drawImage(g,0,0);const I=$.getImageData(0,0,g.width,g.height).data,N=[],ne=[];for(let ee=0;ee<g.height;(ee+=1)-1){const F=[];for(let he=0;he<g.width;(he+=1)-1){const oe=(ee*g.width+he)*4,pe=I[oe],He=I[oe+1],ze=I[oe+2],Re=I[oe+3]<1?"#ffffff":f(pe,He,ze),Ne=s(Re,N,l);F.push(Ne)}ne.push(F)}h(ne,N)}},g.src=(b=m.target)==null?void 0:b.result},c.readAsDataURL(p)};Ue(()=>{x(n)&&v(x(n)[0],x(r),(p,l)=>{Ae.v=p[0].length,Xe.v=p.length,L.v=l,Pe.v=0,k.v=Pt();for(let h=0;h<k.numRows;(h+=1)-1)for(let c=0;c<k.numColumns;(c+=1)-1)k.v[h][c].colorIndex=p[h][c];qt()})});var d=un(),i=Ke(d),a=D(i,2);re(a,()=>x(n),p=>{var l=vn();fe(l),Ze(l,()=>x(r),h=>J(r,h)),X(p,l)}),rn(i,()=>x(n),p=>J(n,p)),X(e,d),Q()}var ke=W(()=>rt),It=W(()=>Pe),$t=W(()=>Je),Ie=W(()=>L),hn=M('<button class="flex-1">-</button>'),pn=M('<!> <button class="flex-1">+</button>',1),_n=M('<input type="color" class="h-8 min-w-12 flex-1 border-0">'),mn=M('<div><div class="flex flex-wrap"><!></div> <div class="flex flex-wrap"><input type="color" class="h-8 min-w-12 flex-1 border-0"> <!></div></div>');function gn(e,t){Z(t,!1);const r=()=>{const a="0123456789abcdef";let p="#";for(let l=0;l<6;(l+=1)-1){const h=Math.floor(Math.random()*a.length);p+=a[h]}return p},n=()=>Ie().v.length>2;be();var o=mn(),f=P(o),s=P(f);re(s,()=>!K.v,a=>{var p=pn(),l=Ke(p);re(l,n,c=>{var m=hn();m.__click=()=>{Ie().v.pop(),It().v>Ie().v.length-1&&It(It().v-=1),fr()},X(c,m)});var h=D(l,2);h.__click=()=>{Ie().v.push(r())},X(a,p)}),O(f);var v=D(f,2),d=P(v);fe(d),d.__change=()=>{ke(ke().v=!0)},d.__click=()=>{ke(ke().v=!1)};var i=D(d,2);Se(i,1,()=>Ie().v,Te,(a,p,l)=>{var h=_n();fe(h),h.__change=()=>{ke(ke().v=!0)},h.__click=()=>{ke(ke().v=!1)},Ze(h,()=>Ie().v[l],c=>Ie(Ie().v[l]=c)),X(a,h)}),O(v),O(o),Ze(d,()=>$t().v,a=>$t($t().v=a)),X(e,o),Q()}de(["click","change"]);var me=W(()=>ge),wn=M('<input name="border" type="radio" class="svelte-14k2w4w">'),bn=M('<div class="flex justify-between border-b-2 border-b-black p-5 accent-black svelte-14k2w4w"><input name="border" type="radio" class="svelte-14k2w4w"> <input name="border" type="radio" class="svelte-14k2w4w"> <!></div>');function xn(e,t){Z(t,!1);const r=[];be();var n=bn(),o=P(n);fe(o),o.value=(o.__value=0)==null?"":0;var f=D(o,2);fe(f),f.value=(f.__value=1)==null?"":1;var s=D(f,2);re(s,()=>Ae.v>5||Xe.v>5,v=>{var d=wn();fe(d),d.value=(d.__value=2)==null?"":2,bt(r,[],d,()=>me().v,i=>me(me().v=i)),X(v,d)}),O(n),bt(r,[],o,()=>me().v,v=>me(me().v=v)),bt(r,[],f,()=>me().v,v=>me(me().v=v)),X(e,n),Q()}var yn=M("<button>Reveal Tile</button>");function kn(e,t){Z(t,!0);const r=B(()=>{const v=[];let d=!0;const i=k.numRows,a=k.numColumns;for(let p=0;p<i;(p+=1)-1)for(let l=0;l<a;(l+=1)-1)ce.v[p][l].colorIndex!==k.v[p][l].colorIndex&&(v.push({column:l,row:p}),d=!1);return{isDifferent:v,allSame:d}}),n=B(()=>x(r).isDifferent),o=B(()=>x(r).allSame);Ue(()=>{Ve.v=x(o)});const f=()=>{if(!Ve.v){const v=ft(0,x(n).length-1),d=x(n)[v].row,i=x(n)[v].column;k.v[d][i]={colorIndex:ce.v[d][i].colorIndex,Xed:!1},qt()}};var s=yn();s.__click=f,X(e,s),Q()}de(["click"]);var Et=W(()=>tt),Tt=W(()=>Ge),In=M('<div class="flex justify-between border-t-2 border-t-black p-5"><input type="checkbox" class="svelte-1puqql9"> <input type="checkbox" class="svelte-1puqql9"></div>');function $n(e,t){Z(t,!1),be();var r=In(),n=P(r);fe(n);var o=D(n,2);fe(o),O(r),Kt(n,()=>Tt().v,f=>Tt(Tt().v=f)),Kt(o,()=>Et().v,f=>Et(Et().v=f)),X(e,r),Q()}const dr="none";function En(e){return Array.isArray(e)?e:[e]}function et(e,t,r){return e.addEventListener(t,r),()=>e.removeEventListener(t,r)}function Tn(e,t){const r=e.getBoundingClientRect(),n=Math.abs(t[0].clientX-t[1].clientX),o=Math.abs(t[0].clientY-t[1].clientY),f=Math.min(t[0].clientX,t[1].clientX),s=Math.min(t[0].clientY,t[1].clientY),v=f+n/2,d=s+o/2,i=Math.round(v-r.left),a=Math.round(d-r.top);return{x:i,y:a}}function Sn(e,t){return t.filter(r=>e.pointerId!==r.pointerId)}function st(e,t,r,n,o){const f=e.getBoundingClientRect(),s=Math.round(r.clientX-f.left),v=Math.round(r.clientY-f.top);e.dispatchEvent(new CustomEvent(`${t}${o}`,{detail:{event:r,pointersCount:n.length,target:r.target,x:s,y:v}}))}function Cn(e,t,r,n,o,f=dr){t.style.touchAction=En(f).join(" ");let s=[];function v(i){s.push(i),st(t,e,i,s,"down"),n==null||n(s,i);const a=i.pointerId;function p(b){a===b.pointerId&&(s=Sn(b,s),s.length||l(),st(t,e,b,s,"up"),o==null||o(s,b))}function l(){h(),c(),m(),g()}const h=et(t,"pointermove",b=>{s=s.map(E=>b.pointerId===E.pointerId?b:E),st(t,e,b,s,"move"),r==null||r(s,b)}),c=et(t,"lostpointercapture",b=>{p(b)}),m=et(t,"pointerup",b=>{p(b)}),g=et(t,"pointerleave",b=>{s=[],l(),st(t,e,b,s,"up"),o==null||o(s,b)})}const d=et(t,"pointerdown",v);return{destroy:()=>{d()}}}function Zt(e){return Math.hypot(e[0].clientX-e[1].clientX,e[0].clientY-e[1].clientY)}function An(e,t){const r={touchAction:dr,composed:!1,...t},n="pinch";let o,f=0,s;function v(a,p){a.length===1&&(o=void 0)}function d(a,p){a.length===2&&(f=Zt(a),s=Tn(e,a))}function i(a,p){if(a.length===2){const l=Zt(a);if(o!==void 0&&l!==o){const h=l/f;e.dispatchEvent(new CustomEvent(n,{detail:{scale:h,center:s,pointerType:p.pointerType}}))}o=l}return!1}return r.composed?{onMove:i,onDown:d,onUp:null}:Cn(n,e,i,d,v,r.touchAction)}var Xn=M('<input step=".025" type="range" class="svelte-artubv">');function Mn(e,t){Z(t,!0);const r=3,n=.5;let o=le(1);const f=d=>{d.preventDefault(),d.deltaY<0&&ae.v<r?ae.v+=.05:d.deltaY>0&&ae.v>n&&(ae.v-=.05)},s=d=>{if(!Ye.v)return;const i=x(o);J(o,qe(d.detail.scale));const a=x(o)<i;a&&ae.v>n?ae.v-=.025:!a&&ae.v<r&&(ae.v+=.025)};var v=Xn();te("wheel",ue,f,void 0,!1),lr(Mt.body,d=>An(d)),te("pinch",Mt.body,s),fe(v),We(v,"max",r),We(v,"min",n),Ze(v,()=>ae.v,d=>ae.v=d),X(e,v),Q()}var at=W(()=>Yt),Hn=M("<!> <!>",1),Rn=M("<!> <!>",1),Nn=M('<div class="fixed bottom-0 top-0 z-50 flex w-40 max-w-[75%] flex-col overflow-hidden rounded-l-3xl bg-white svelte-187qfh2"><!> <!> <!> <!> <!> <!></div>');function Ln(e,t){Z(t,!1);const r=a=>{a.key==="o"&&at(at().v=!at().v)};be();var n=Nn();te("keydown",ue,r);var o=P(n);re(o,()=>!K.v,a=>{var p=Hn(),l=Ke(p);dn(l,{});var h=D(l,2);fn(h,{}),X(a,p)});var f=D(o,2);an(f,{});var s=D(f,2);gn(s,{});var v=D(s,2);xn(v,{});var d=D(v,2);Mn(d,{});var i=D(d,2);re(i,()=>K.v,a=>{var p=Rn(),l=Ke(p);$n(l,{});var h=D(l,2);kn(h,{}),X(a,p)}),O(n),G(()=>C(n,"right",at().v?"0":"-300px")),X(e,n),Q()}const Dn=e=>e;function On(e,{delay:t=0,duration:r=400,easing:n=Dn}={}){const o=+getComputedStyle(e).opacity;return{delay:t,duration:r,easing:n,css:f=>`opacity: ${f*o}`}}var Pn=M('<div class="font-normal"> </div>'),qn=M("<th></th>"),Yn=M('<thead class="top-0 z-20 align-bottom"><tr><th class="sticky left-0 z-30"></th><!></tr></thead>'),zn=M("<div> </div>"),Bn=M('<td class="left-0 z-10"><div></div></td>'),Fn=M("<span>X</span>"),Gn=M('<td class="box-content h-6 min-w-6" tabindex="0"><!></td>'),Un=M("<tr><!><!></tr>"),Jn=M('<table class="m-32 border-collapse"><!><tbody></tbody></table>');function Vn(e,t){Z(t,!0);let r=le(!1),n=le(!1),o=le(""),f=le(0);const s=(u,_,w,S)=>{const T=Math.abs(u-w),y=Math.abs(_-S);return T===0&&y===1?S>_?"right":"left":T===1&&y===0?w>u?"below":"above":"not adjacent"},v=u=>u.Xed,d=u=>u.colorIndex===Pe.v,i=(u,_)=>{u.colorIndex=_},a=u=>{u.colorIndex=0},p=u=>{u.Xed=!u.Xed},l=(u,_,w)=>{Ye.v||(u.target instanceof HTMLElement&&u.target.releasePointerCapture(u.pointerId),u.button===0?J(r,!0):u.button===2&&J(n,!0),h(_,w))},h=(u,_)=>{z.v={colorIndex:k.v[u][_].colorIndex,Xed:k.v[u][_].Xed,column:_,row:u},rt.v=!1,J(f,0),K.v?x(r)?Ee.v&&!ye(k.v[u][_])?p(k.v[u][_]):!Ee.v&&!v(k.v[u][_])&&(d(k.v[u][_])?a(k.v[u][_]):i(k.v[u][_],Pe.v)):x(n)&&(ye(k.v[u][_])?a(k.v[u][_]):p(k.v[u][_])):x(r)?i(k.v[u][_],Pe.v):x(n)&&a(k.v[u][_])},c=u=>{u.button===0?J(r,!1):u.button===2&&J(n,!1),rt.v=!0},m=(u,_)=>{if(!x(r)&&!x(n)||x(r)&&x(n)||z.v.row===-1||Ye.v)return;Yr(f),x(f)===1&&J(o,qe(s(z.v.row,z.v.column,u,_)));const w=k.v[z.v.row][z.v.column];if(K.v)if(x(o)==="above"||x(o)==="below"){const S=Math.min(z.v.row,u),T=Math.max(z.v.row,u);for(let y=S;y<T+1;(y+=1)-1){const A=k.v[y][z.v.column];x(r)?Ee.v&&!ye(A)?A.Xed=w.Xed:!Ee.v&&!v(A)&&i(A,w.colorIndex):z.v.Xed&&!ye(A)?A.Xed=!1:z.v.colorIndex===0&&!ye(A)?A.Xed=!0:z.v.colorIndex!==0&&!v(A)&&a(A)}}else{const S=Math.min(z.v.column,_),T=Math.max(z.v.column,_);for(let y=S;y<T+1;(y+=1)-1){const A=k.v[z.v.row][y];x(r)?Ee.v&&!ye(A)?A.Xed=w.Xed:!Ee.v&&!v(A)&&i(A,w.colorIndex):z.v.Xed&&!ye(A)?A.Xed=!1:z.v.colorIndex===0&&!ye(A)?A.Xed=!0:z.v.colorIndex!==0&&!v(A)&&a(A)}}else x(r)?i(k.v[u][_],Pe.v):a(k.v[u][_])};let g=le(!1),b=le(qe(ge.v));Ue(()=>{Ve.v&&!x(g)?(J(g,!0),J(b,qe(ge.v)),ge.v=0):!Ve.v&&x(g)&&(J(g,!1),ge.v=x(b))});let E=0,$=0;const I=(u,_)=>{E=u,$=_},N=u=>{var S;if(u.key!=="ArrowUp"&&u.key!=="ArrowDown"&&u.key!=="ArrowLeft"&&u.key!=="ArrowRight"&&u.key!==" ")return;u.preventDefault();let _=E,w=$;u.key==="ArrowUp"&&E>0?_-=1:u.key==="ArrowDown"&&E<k.numRows-1?_+=1:u.key==="ArrowLeft"&&$>0?w-=1:u.key==="ArrowRight"&&$<k.numColumns-1?w+=1:u.key===" "&&J(r,!0),(S=document.querySelector(`[data-row="${_}"][data-col="${w}"]`))==null||S.focus(),x(r)&&!Ye.v&&h(_,w)},ne=u=>{u.key===" "&&J(r,!1)},ee=(u,_)=>{let w=0;for(let T=0;T<=u;(T+=1)-1)T!==0&&_[T-1].color===_[T].color&&(w+=1),T<u&&(w+=_[T].count);let S=0;for(let T=_.length-1;T>=u;(T-=1)+1)T!==_.length-1&&_[T].color===_[T+1].color&&(S+=1),T>u&&(S+=_[T].count);return{offsetHead:w,offsetTail:S}},F=(u,_,w)=>{const{offsetHead:S,offsetTail:T}=ee(u,_);let y=0,A=0;for(;y<S&&A<=w.length-1;)w[A].color!=="X"?y+=w[A].count:A>0&&(y+=1),A+=1;y=0;let q=w.length-1;for(;y<T&&q>=0;)w[q].color!=="X"?y+=w[q].count:q<w.length-1&&(y+=1),q-=1;return{encodesStartIndex:A,encodesEndIndex:q}},he=(u,_)=>{const w=new Array(u.length).fill(void 0),S=new Array(u.length).fill(void 0),T=new Array(u.length).fill(void 0);for(let y=0;y<u.length;(y+=1)-1){const{encodesStartIndex:A,encodesEndIndex:q}=F(y,u,_),Y=u[y];for(let R=A;R<=q;(R+=1)-1)if(Y.color===_[R].color&&Y.count>=_[R].count){if(w.slice(0,y).includes(R))continue;w[y]=R;for(let H=0;H<y;(H+=1)-1)w[H]>R&&(w[H]=void 0);break}}for(let y=u.length-1;y>=0;(y-=1)+1){const{encodesStartIndex:A,encodesEndIndex:q}=F(y,u,_),Y=u[y];for(let R=q;R>=A;(R-=1)+1)if(Y.color===_[R].color&&Y.count>=_[R].count){if(S.slice(y+1).includes(R))continue;S[y]=R;for(let H=u.length-1;H>y;(H-=1)+1)S[H]<R&&(S[H]=void 0);break}}for(let y=0;y<u.length;(y+=1)-1)w[y]===S[y]&&(T[y]=w[y]);return T},oe=(u,_)=>{const w=he(u,_);let S=[],T=w[0]!==void 0?w[0]:0;for(let y=1;y<w.length;(y+=1)-1)w[y]!==void 0&&!(T===0&&w[y]===_.length-1)&&(w[y-1]===void 0&&S.push([T,w[y]]),T=w[y]);w[w.length-1]===void 0&&T!==_.length-1&&T!==0&&S.push([T,_.length-1]);for(let y=0;y<S.length;(y+=1)-1){const[A,q]=S[y],Y=A===0?0:w.indexOf(A),R=q===_.length-1?u.length-1:w.indexOf(q),H=u.slice(Y,R+1),ve=_.slice(A,q+1),j=ve.reduce((se,_t)=>se+_t.count,0),{offsetTail:V}=ee(0,H);if(V+H[0].count>j)continue;const _e=he(H,ve);for(let se=0;se<_e.length;(se+=1)-1)_e[se]!==void 0&&(_e[se]=_e[se]+A);w.splice(Y,R-Y+1,..._e)}return w},pe=B(()=>{let u=[[]];for(let _=0;_<ce.rowHints.length;(_+=1)-1){const w=ce.rowHints[_],S=k.rowEncodes[_];u[_]=oe(w,S)}return u}),He=B(()=>{let u=[[]];for(let _=0;_<ce.columnHints.length;(_+=1)-1){const w=ce.columnHints[_],S=k.columnEncodes[_];u[_]=oe(w,S)}return u}),ze=(u,_,w,S)=>{const T=S?x(pe):x(He),y=S?k.rowEncodes[u]:k.columnEncodes[u];return T[u][_]!==void 0&&JSON.stringify(w)===JSON.stringify(y[T[u][_]])};var xe=Jn();te("pointerup",ue,c),te("keyup",ue,ne);var Re=P(xe);re(Re,()=>K.v,u=>{var _=Yn(),w=P(_),S=P(w),T=D(S);Se(T,17,()=>({length:k.numColumns}),Te,(y,A,q)=>{var Y=qn();Se(Y,21,()=>ce.columnHints[q],Te,(R,H,ve)=>{var j=Pn();const V=B(()=>ze(q,ve,x(H),!1)?.2:1);G(()=>C(j,"opacity",x(V)));const _e=B(()=>L.v[Nt(x(H).color)]);G(()=>C(j,"color",x(_e)));var se=P(j,!0);O(j),G(()=>{C(j,"font-size",tt.v?".5rem":""),Ht(se,x(H).count)}),X(R,j)}),O(Y),X(y,Y)}),O(w),O(_),G(()=>{C(_,"position",tt.v?"sticky":""),C(_,"background-color",tt.v?L.v[0]:""),C(S,"visibility",Ge.v&&tt.v?"":"hidden"),C(S,"background-color",L.v[0])}),X(u,_)});var Ne=D(Re);Se(Ne,21,()=>({length:k.numRows}),Te,(u,_,w)=>{var S=Un(),T=P(S);re(T,()=>K.v,q=>{var Y=Bn(),R=P(Y);C(R,"justify-content","right"),C(R,"display","flex"),Se(R,21,()=>ce.rowHints[w],Te,(H,ve,j)=>{var V=zn();const _e=B(()=>ze(w,j,x(ve),!0)?.2:1);G(()=>C(V,"opacity",x(_e)));const se=B(()=>L.v[Nt(x(ve).color)]);G(()=>C(V,"color",x(se))),C(V,"justify-content","center"),C(V,"align-items","center"),C(V,"display","flex");var _t=P(V,!0);O(V),G(()=>{C(V,"width",Ge.v?".75rem":"1.5rem"),C(V,"font-size",Ge.v?".5rem":""),Ht(_t,x(ve).count)}),X(H,V)}),O(R),O(Y),G(()=>{C(Y,"position",Ge.v?"sticky":""),C(Y,"background-color",Ge.v?L.v[0]:"")}),X(q,Y)});var y=D(T);Se(y,17,()=>({length:k.numColumns}),Te,(q,Y,R)=>{var H=Gn();H.__pointerdown=j=>{l(j,w,R)},We(H,"data-row",w),We(H,"data-col",R),H.__keydown=N,C(H,"transition","background-color .5s, border-radius .5s"),C(H,"text-align","center");var ve=P(H);re(ve,()=>v(k.v[w][R])&&!Ve.v,j=>{var V=Fn();tn(3,V,()=>On,()=>({duration:300})),X(j,V)}),O(H),G(()=>{C(H,"border-left",ge.v===0?"0":`solid ${R%5===0&&R!==0&&ge.v===2?`4px ${L.v[1]}`:`2px ${Je.v}`}`),C(H,"border-top",ge.v===0?"0":`solid ${w%5===0&&w!==0&&ge.v===2?`4px ${L.v[1]}`:`2px ${Je.v}`}`),C(H,"background-color",L.v[k.v[w][R].colorIndex]),C(H,"color",L.v[1])}),te("pointerenter",H,()=>{m(w,R)}),te("focus",H,()=>{I(w,R)}),X(q,H)}),O(S),X(u,S)}),O(Ne),O(xe),G(()=>C(xe,"zoom",ae.v)),X(e,xe),Q()}de(["pointerdown","keydown"]);var Kn=M('<div class="flex"><button class="flex-1">Undo</button> <button class="flex-1">Redo</button></div>');function Wn(e,t){Z(t,!0);const r=()=>{z.v.row!==-1&&qt(),z.reset()},n=a=>{a.key==="z"?f():a.key==="y"&&s()},o=()=>{k.v=pt(Me.v[we.v]),fr()},f=()=>{we.v!==0&&(we.v-=1,o())},s=()=>{we.v!==Me.v.length-1&&(we.v+=1,o())};var v=Kn();te("keydown",ue,n),te("pointerup",ue,r);var d=P(v);d.__click=f;var i=D(d,2);i.__click=s,O(v),X(e,v),Q()}de(["click"]);var Le=W(()=>Ye),De=W(()=>Pe),Oe=W(()=>Ee),Zn=M('<button class="flex aspect-square h-8 flex-1 items-center justify-center p-0"></button>'),Qn=M('<button class="flex aspect-square h-8 flex-1 items-center justify-center p-0">X</button>'),jn=M('<div class="flex flex-wrap"><!> <!> <button class="flex aspect-square h-8 flex-1 items-center justify-center p-0" aria-label="Move"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 21v-9m0 9l3-3m-3 3l-3-3m3-6V3m0 9H3m9 0h9m-9-9L9 6m3-3l3 3M3 12l3 3m-3-3l3-3m15 3l-3-3m3 3l-3 3"></path></svg></button></div>');function eo(e,t){Z(t,!1);const r=a=>{/[1-9]/.test(a.key)&&Number(a.key)<=L.v.length?n(Number(a.key)-1):a.key==="m"?f():a.key==="x"&&K.v&&o()},n=a=>{Oe(Oe().v=!1),Le(Le().v=!1),De(De().v=a)},o=()=>{Oe(Oe().v=!0),Le(Le().v=!1),De(De().v=-1)},f=()=>{Oe(Oe().v=!1),Le(Le().v=!0),De(De().v=-1)};be();var s=jn();te("keydown",ue,r);var v=P(s);Se(v,1,()=>L.v,Te,(a,p,l)=>{var h=Zn();h.__click=()=>{n(l)},h.textContent=l+1,G(()=>{C(h,"border",`solid 2px ${l===De().v?l===0?L.v[1]:L.v[0]:L.v[l]}`),C(h,"color",l===0?L.v[1]:L.v[0]),C(h,"background-color",L.v[l])}),X(a,h)});var d=D(v,2);re(d,()=>K.v,a=>{var p=Qn();p.__click=o,G(()=>C(p,"border",`solid 2px ${Oe().v?L.v[1]:"ButtonFace"}`)),X(a,p)});var i=D(d,2);i.__click=f,O(s),G(()=>C(i,"border",`solid 2px ${Le().v?L.v[1]:"ButtonFace"}`)),X(e,s),Q()}de(["click"]);var St=W(()=>Yt),to=M('<footer class="flex justify-center"><div><button>Options</button> <div><!> <!></div></div></footer>');function ro(e,t){Z(t,!1),be();var r=to(),n=P(r);C(n,"border-top-right-radius","8px"),C(n,"border-top-left-radius","8px"),C(n,"overflow","hidden"),C(n,"display","flex");var o=P(n);o.__click=()=>{St(St().v=!St().v)};var f=D(o,2),s=P(f);eo(s,{});var v=D(s,2);Wn(v,{}),O(f),O(n),O(r),X(e,r),Q()}de(["click"]);var no=M('<div class="absolute -left-4 -top-4 scale-[40%]" id="dynamic-svg"><a href="https://github.com/JeffHove/Shareogram" aria-label="Link to GitHub repository"><svg height="96" width="98" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z" fill="#fff" fill-rule="evenodd"></path></svg></a></div>');function oo(e){var t=no();X(e,t)}var Qt=W(()=>ce),Ct=W(()=>K),so=M("<span> </span>"),ao=M('<button class="rounded-b-lg">Start Game</button>'),io=M('<header class="flex items-center justify-center"><!> <!></header>');function lo(e,t){Z(t,!1),be();var r=io(),n=P(r);oo(n);var o=D(n,2);re(o,()=>Ct().v,f=>{var s=so();C(s,"padding-top","10px");var v=P(s,!0);O(s),G(()=>Ht(v,Ve.v?"You win!":"Keep trying")),X(f,s)},f=>{var s=ao();s.__click=()=>{Ct(Ct().v=!0),Qt(Qt().v=k.v),ct()},X(f,s)}),O(r),X(e,r),Q()}de(["click"]);const co=e=>{let t=!1,r,n,o,f;const s=i=>{(i.button===1||i.button===0&&Ye.v)&&(i.preventDefault(),t=!0,r=i.pageX-e.offsetLeft,n=i.pageY-e.offsetTop,o=e.scrollLeft,f=e.scrollTop,e.style.cursor="grabbing",document.addEventListener("mousemove",v),document.addEventListener("mouseup",d))},v=i=>{if(!t)return;i.preventDefault();const a=i.pageX-e.offsetLeft,p=i.pageY-e.offsetTop,l=(a-r)*2,h=(p-n)*2;e.scrollLeft=o-l,e.scrollTop=f-h},d=()=>{t=!1,e.style.cursor="",document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",d)};return e.addEventListener("mousedown",s),{destroy:()=>{e.removeEventListener("mousedown",s),e.style.cursor=""}}};var fo=M('<li class="absolute -bottom-[200px] block aspect-square rounded-[10%] bg-white/20 svelte-qqc5lb"></li>'),vo=M('<ul class="absolute inset-0 -z-10 m-0 overflow-hidden p-0 svelte-qqc5lb"></ul> <!>  <main class="m-3 flex flex-1 overflow-auto svelte-qqc5lb"><!></main> <!> <!>',1);function wo(e,t){Z(t,!0);let r=le(!1);const n=c=>{const m=c.match(/(\d+|[a-zX]+)/g),g=[],b=[];if(m)for(let E=0;E<m.length;(E+=1)-1){const $=m[E];isNaN(Number($))?b.push($):g.push(Number($))}if(g.length!==b.length)throw new Error("Error: different number of counts and letters.");return{letters:b,numbers:g}},o=c=>{const m=n(c),g=[];let b=0,E=0;for(let $=0;$<Xe.v;($+=1)-1)g[$]=[];for(let $=0;$<m.numbers.length;($+=1)-1)for(let I=0;I<m.numbers[$];(I+=1)-1)m.letters[$]==="X"?g[b][(E+=1)-1]={colorIndex:0,Xed:!0}:g[b][(E+=1)-1]={colorIndex:Nt(m.letters[$]),Xed:!1},E>Ae.v-1&&(b+=1,E=0);return g},f=c=>(c.preventDefault(),c.returnValue="",""),s=()=>{const c=window.location.hash;if(c){try{const m=c.slice(1).split("-");K.v=!!Number(m[0]),Ae.v=Number(m[1]),Xe.v=Number(m[2]),Je.v="#"+m[3];const g=K.v?m.slice(4,-2):m.slice(4,-1);for(let b=0;b<g.length;(b+=1)-1)L.v[b]="#"+g[b];k.v=o(m[K.v?m.length-2:m.length-1]),Me.v[0]=pt(k.v),K.v&&(ce.v=o(m[m.length-1]))}catch{alert("Couldn't load the code from the URL. Make sure you copied the link correctly.")}rt.v=!0}J(r,!0)};Ue(()=>{for(;!x(r);)s()}),Ue(()=>{if(rt.v){const c=[Number(K.v),Ae.v,Xe.v,Je.v.slice(1)];for(let m=0;m<L.v.length;(m+=1)-1)c.push(L.v[m].slice(1));c.push(k.encoded),K.v&&c.push(ce.encoded),window.location.hash=c.join("-")}}),Ue(()=>{document.body.style.color=L.v[0];const c=document.querySelector("#dynamic-svg path");c==null||c.setAttribute("fill",L.v[0])});var v=vo();Fr(c=>{Mt.title="Shareogram"}),te("contextmenu",ue,c=>c.preventDefault()),te("load",ue,s),te("beforeunload",ue,c=>{f(c)});var d=Ke(v);Se(d,20,()=>({length:35}),Te,(c,m)=>{var g=fo();const b=B(()=>ft(0,60)+"s");G(()=>C(g,"animation-delay",x(b)));const E=B(()=>ft(5,200)+"px");G(()=>C(g,"width",x(E)));const $=B(()=>ft(0,100)+"%");G(()=>C(g,"left",x($))),X(c,g)}),O(d);var i=D(d,2);lo(i,{});var a=D(i,2);a.__click=()=>{Yt.v=!1};var p=P(a);Vn(p,{}),O(a),lr(a,c=>co(c));var l=D(a,2);ro(l,{});var h=D(l,2);Ln(h,{}),G(()=>{C(d,"background-color",Je.v),C(a,"touch-action",Ye.v?"auto":"none")}),X(e,v),Q()}de(["click"]);export{wo as component,go as universal};
