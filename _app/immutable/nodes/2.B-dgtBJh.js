import{c as hn,a as S,t as M}from"../chunks/disclose-version.BbNSmhfI.js";import{v as Vt,q as kt,o as mn,R as _n,w as pn,at as Kt,A as de,D as dt,B as gn,a9 as Wt,H as wn,C as Dt,F as ht,G as Ve,au as it,x as Zt,y as Qt,z as xn,_ as jt,k as vt,av as St,aw as Ot,ax as At,ay as bn,a8 as yn,az as kn,Q as In,T as $n,a5 as En,Z as en,aA as Cn,m as Xn,h as It,aB as Tn,a2 as Sn,ab as tn,u as nn,aC as An,aD as Mn,aE as Hn,E as Rn,aF as Nn,aG as Ln,aH as Dn,n as Ke,aI as On,X as qt,Y as Pt,aJ as qn,ac as Mt,d as j,g as y,as as xe,O as U,p as te,f as Be,a as ne,c as q,s as L,r as O,J as Qe,aK as $t,aL as he,t as B,aM as Pn}from"../chunks/runtime.h5dyPgOS.js";import{a as Yn,b as zn,l as Ht,d as me,e as oe,s as Et,c as Gn}from"../chunks/render.DbiHJjys.js";import{p as je,i as ee}from"../chunks/if.DWwmQ6Lb.js";import{i as Xe}from"../chunks/legacy.CIeo6aUY.js";const Fn=[];function ut(e,t=!1){return lt(e,new Map,"",Fn)}function lt(e,t,n,r,s=null){if(typeof e=="object"&&e!==null){const l=t.get(e);if(l!==void 0)return l;if(e instanceof Map)return new Map(e);if(e instanceof Set)return new Set(e);if(Vt(e)){const v=[];t.set(e,v),s!==null&&t.set(s,v);for(let m=0;m<e.length;m+=1)v.push(lt(e[m],t,n,r));return v}if(kt(e)===mn){const v={};t.set(e,v),s!==null&&t.set(s,v);for(var u in e)v[u]=lt(e[u],t,n,r);return v}if(e instanceof Date)return structuredClone(e);if(typeof e.toJSON=="function")return lt(e.toJSON(),t,n,r,e)}if(e instanceof EventTarget)return e;try{return structuredClone(e)}catch{return e}}function pe(e,t){return t}function Bn(e,t,n,r){for(var s=[],u=t.length,l=0;l<u;l++)bn(t[l].e,s,!0);var v=u>0&&s.length===0&&n!==null;if(v){var m=n.parentNode;yn(m),m.append(n),r.clear(),Ie(e,t[0].prev,t[u-1].next)}kn(s,()=>{for(var c=0;c<u;c++){var i=t[c];v||(r.delete(i.k),Ie(e,i.prev,i.next)),In(i.e,!v)}})}function ge(e,t,n,r,s,u=null){var l=e,v={flags:t,items:new Map,first:null},m=(t&Kt)!==0;if(m){var c=e;l=de?dt($n(c)):c.appendChild(_n())}de&&gn();var i=null,p=!1;pn(()=>{var o=n(),h=Vt(o)?o:o==null?[]:Wt(o),a=h.length;if(p&&a===0)return;p=a===0;let _=!1;if(de){var x=l.data===wn;x!==(a===0)&&(l=Dt(),dt(l),ht(!1),_=!0)}if(de){for(var w=null,A,X=0;X<a;X++){if(Ve.nodeType===8&&Ve.data===En){l=Ve,_=!0,ht(!1);break}var I=h[X],H=r(I,X);A=rn(Ve,v,w,null,I,H,X,s,t),v.items.set(H,A),w=A}a>0&&dt(Dt())}if(!de){var se=en;Un(h,v,l,s,t,(se.f&it)!==0,r)}u!==null&&(a===0?i?Zt(i):i=Qt(()=>u(l)):i!==null&&xn(i,()=>{i=null})),_&&ht(!0),n()}),de&&(l=Ve)}function Un(e,t,n,r,s,u,l){var qe,Te,Pe,f;var v=(s&Cn)!==0,m=(s&(St|At))!==0,c=e.length,i=t.items,p=t.first,o=p,h,a=null,_,x=[],w=[],A,X,I,H;if(v)for(H=0;H<c;H+=1)A=e[H],X=l(A,H),I=i.get(X),I!==void 0&&((qe=I.a)==null||qe.measure(),(_??(_=new Set)).add(I));for(H=0;H<c;H+=1){if(A=e[H],X=l(A,H),I=i.get(X),I===void 0){var se=o?o.e.nodes_start:n;a=rn(se,t,a,a===null?t.first:a.next,A,X,H,r,s),i.set(X,a),x=[],w=[],o=a.next;continue}if(m&&Jn(I,A,H,s),I.e.f&it&&(Zt(I.e),v&&((Te=I.a)==null||Te.unfix(),(_??(_=new Set)).delete(I))),I!==o){if(h!==void 0&&h.has(I)){if(x.length<w.length){var re=w[0],J;a=re.prev;var be=x[0],ce=x[x.length-1];for(J=0;J<x.length;J+=1)Yt(x[J],re,n);for(J=0;J<w.length;J+=1)h.delete(w[J]);Ie(t,be.prev,ce.next),Ie(t,a,be),Ie(t,ce,re),o=re,a=ce,H-=1,x=[],w=[]}else h.delete(I),Yt(I,o,n),Ie(t,I.prev,I.next),Ie(t,I,a===null?t.first:a.next),Ie(t,a,I),a=I;continue}for(x=[],w=[];o!==null&&o.k!==X;)(u||!(o.e.f&it))&&(h??(h=new Set)).add(o),w.push(o),o=o.next;if(o===null)continue;I=o}x.push(I),a=I,o=I.next}if(o!==null||h!==void 0){for(var fe=h===void 0?[]:Wt(h);o!==null;)(u||!(o.e.f&it))&&fe.push(o),o=o.next;var ve=fe.length;if(ve>0){var Oe=s&Kt&&c===0?n:null;if(v){for(H=0;H<ve;H+=1)(Pe=fe[H].a)==null||Pe.measure();for(H=0;H<ve;H+=1)(f=fe[H].a)==null||f.fix()}Bn(t,fe,Oe,i)}}v&&jt(()=>{var d;if(_!==void 0)for(I of _)(d=I.a)==null||d.apply()}),vt.first=t.first&&t.first.e,vt.last=a&&a.e}function Jn(e,t,n,r){r&St&&Ot(e.v,t),r&At?Ot(e.i,n):e.i=n}function rn(e,t,n,r,s,u,l,v,m){var c=(m&St)!==0,i=(m&Tn)===0,p=c?i?Xn(s):It(s):s,o=m&At?It(l):l,h={i:o,v:p,k:u,a:null,e:null,prev:n,next:r};try{return h.e=Qt(()=>v(e,p,o),de),h.e.prev=n&&n.e,h.e.next=r&&r.e,n===null?t.first=h:(n.next=h,n.e.next=h.e),r!==null&&(r.prev=h,r.e.prev=h.e),h}finally{}}function Yt(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,s=t?t.e.nodes_start:n,u=e.e.nodes_start;u!==r;){var l=Sn(u);s.before(u),u=l}}function Ie(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function on(e,t,n){tn(()=>{var r=nn(()=>t(e,n==null?void 0:n())||{});if(r!=null&&r.destroy)return()=>r.destroy()})}function Ce(e){if(de){var t=!1,n=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var r=e.value;Ue(e,"value",null),e.value=r}if(e.hasAttribute("checked")){var s=e.checked;Ue(e,"checked",null),e.checked=s}}};e.__on_r=n,Hn(n),Yn()}}function Ue(e,t,n,r){var s=e.__attributes??(e.__attributes={});de&&(s[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||s[t]!==(s[t]=n)&&(t==="style"&&"__styles"in e&&(e.__styles={}),t==="loading"&&(e[An]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Vn(e).includes(t)?e[t]=n:e.setAttribute(t,n))}var zt=new Map;function Vn(e){var t=zt.get(e.nodeName);if(t)return t;zt.set(e.nodeName,t=[]);for(var n,r=kt(e),s=Element.prototype;s!==r;){n=Mn(r);for(var u in n)n[u].set&&t.push(u);r=kt(r)}return t}function R(e,t,n,r){var s=e.__styles??(e.__styles={});s[t]!==n&&(s[t]=n,n==null?e.style.removeProperty(t):e.style.setProperty(t,n,""))}const Kn=()=>performance.now(),$e={tick:e=>requestAnimationFrame(e),now:()=>Kn(),tasks:new Set};function sn(e){$e.tasks.forEach(t=>{t.c(e)||($e.tasks.delete(t),t.f())}),$e.tasks.size!==0&&$e.tick(sn)}function Wn(e){let t;return $e.tasks.size===0&&$e.tick(sn),{promise:new Promise(n=>{$e.tasks.add(t={c:e,f:n})}),abort(){$e.tasks.delete(t)}}}function tt(e,t){e.dispatchEvent(new CustomEvent(t))}function Zn(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function Gt(e){const t={},n=e.split(";");for(const r of n){const[s,u]=r.split(":");if(!s||u===void 0)break;const l=Zn(s.trim());t[l]=u.trim()}return t}const Qn=e=>e;function jn(e,t,n,r){var s=(e&On)!==0,u="both",l,v=t.inert,m,c;function i(){var _=en,x=vt;qt(null),Pt(null);try{return l??(l=n()(t,(r==null?void 0:r())??{},{direction:u}))}finally{qt(_),Pt(x)}}var p={is_global:s,in(){t.inert=v,tt(t,"introstart"),m=Ct(t,i(),c,1,()=>{tt(t,"introend"),m==null||m.abort(),m=l=void 0})},out(_){t.inert=!0,tt(t,"outrostart"),c=Ct(t,i(),m,0,()=>{tt(t,"outroend"),_==null||_()})},stop:()=>{m==null||m.abort(),c==null||c.abort()}},o=vt;if((o.transitions??(o.transitions=[])).push(p),zn){var h=s;if(!h){for(var a=o.parent;a&&a.f&Rn;)for(;(a=a.parent)&&!(a.f&Nn););h=!a||(a.f&Ln)!==0}h&&tn(()=>{nn(()=>p.in())})}}function Ct(e,t,n,r,s){var u=r===1;if(Dn(t)){var l,v=!1;return jt(()=>{if(!v){var x=t({direction:u?"in":"out"});l=Ct(e,x,n,r,s)}}),{abort:()=>{v=!0,l==null||l.abort()},deactivate:()=>l.deactivate(),reset:()=>l.reset(),t:()=>l.t()}}if(n==null||n.deactivate(),!(t!=null&&t.duration))return s(),{abort:Ke,deactivate:Ke,reset:Ke,t:()=>r};const{delay:m=0,css:c,tick:i,easing:p=Qn}=t;var o=[];if(u&&n===void 0&&(i&&i(0,1),c)){var h=Gt(c(0,1));o.push(h,h)}var a=()=>1-r,_=e.animate(o,{duration:m});return _.onfinish=()=>{var x=(n==null?void 0:n.t())??1-r;n==null||n.abort();var w=r-x,A=t.duration*Math.abs(w),X=[];if(A>0){if(c)for(var I=Math.ceil(A/16.666666666666668),H=0;H<=I;H+=1){var se=x+w*p(H/I),re=c(se,1-se);X.push(Gt(re))}a=()=>{var J=_.currentTime;return x+w*p(J/A)},i&&Wn(()=>{if(_.playState!=="running")return!1;var J=a();return i(J,1-J),!0})}_=e.animate(X,{duration:A,fill:"forwards"}),_.onfinish=()=>{a=()=>r,i==null||i(r,1-r),s()}},{abort:()=>{_&&(_.cancel(),_.effect=null,_.onfinish=Ke)},deactivate:()=>{s=Ke},reset:()=>{r===0&&(i==null||i(1,0))},t:()=>a()}}function Je(e,t,n=t){var r=qn();Ht(e,"input",()=>{var s=mt(e)?_t(e.value):e.value;n(s),r&&s!==(s=t())&&(e.value=s??"")}),Mt(()=>{var s=t();if(de&&e.defaultValue!==e.value){n(mt(e)?_t(e.value):e.value);return}mt(e)&&s===_t(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function Ft(e,t,n=t){Ht(e,"change",()=>{var r=e.checked;n(r)}),t()==null&&n(!1),Mt(()=>{var r=t();e.checked=!!r})}function mt(e){var t=e.type;return t==="number"||t==="range"}function _t(e){return e===""?null:+e}function er(e,t,n=t){Ht(e,"change",()=>{n(e.files)}),Mt(()=>{e.files=t()})}function W(e){var t=It(0);return function(){return arguments.length===1?(j(t,y(t)+1),arguments[0]):(y(t),e())}}const tr=!0,_o=Object.freeze(Object.defineProperty({__proto__:null,prerender:tr},Symbol.toStringTag,{value:"Module"})),ae=e=>e.colorIndex!==0,Rt=()=>{const e=[[]];for(let t=0;t<Ne.v;(t+=1)-1){e[t]=[];for(let n=0;n<Re.v;(n+=1)-1)e[t][n]={colorIndex:0,Xed:!1}}return e},an=()=>{for(let e=0;e<k.numRows;(e+=1)-1)for(let t=0;t<k.numColumns;(t+=1)-1)k.v[e][t].colorIndex>z.v.length-1&&(k.v[e][t].colorIndex=0)},Nt=()=>{we.v!==Ee.v.length-1&&Ee.v.splice(we.v+1),we.v+=1,Ee.v.push(ut(k.v))},ct=()=>{Re.v<1||Ne.v<1||(k.v=Rt(),Ee.reset(),Ee.v[0]=ut(k.v),we.reset(),ue.v=!1)},Xt=e=>{let t=0;for(let n=0;n<e.length;(n+=1)-1)t*=26,t+=e.charCodeAt(n)-97+1;return t-1},Tt=e=>{const t=parseInt(e.replace("#",""),16);return[t>>16&255,t>>8&255,t&255]},ft=(e,t)=>Math.floor(Math.random()*(t-e+1)+e),nt=e=>{let t="";for(;e>=0;)t=String.fromCharCode(e%26+97)+t,e=Math.floor(e/26)-1;return t},V=e=>{let t=xe(je(e));return{set v(r){j(t,je(r))},get v(){return y(t)},reset:()=>j(t,je(e))}},ln=()=>{const e=V(cn),t=U(()=>e.v.length),n=U(()=>e.v[0].length),r=U(()=>e.v.map(c=>c.map(i=>i.colorIndex))),s=U(()=>{const c=[[]],i=e.v.length,p=e.v[0].length;for(let o=0;o<i;(o+=1)-1){c[o]=[];const h=e.v[o][0],a={color:h.Xed?"X":nt(h.colorIndex),count:1};for(let _=1;_<p;(_+=1)-1){const x=e.v[o][_-1],w=e.v[o][_];x.colorIndex===w.colorIndex&&x.Xed===w.Xed?a.count+=1:(c[o].push({...a}),a.color=w.Xed?"X":nt(w.colorIndex),a.count=1)}c[o].push({...a})}return c}),u=U(()=>y(s).map(c=>c.filter(i=>i.color!=="a"&&i.color!=="X"))),l=U(()=>{const c=[[]],i=e.v.length,p=e.v[0].length;for(let o=0;o<p;(o+=1)-1){c[o]=[];const h=e.v[0][o],a={color:h.Xed?"X":nt(h.colorIndex),count:1};for(let _=1;_<i;(_+=1)-1){const x=e.v[_-1][o],w=e.v[_][o];x.colorIndex===w.colorIndex&&x.Xed===w.Xed?a.count+=1:(c[o].push({...a}),a.color=w.Xed?"X":nt(w.colorIndex),a.count=1)}c[o].push({...a})}return c}),v=U(()=>y(l).map(c=>c.filter(i=>i.color!=="a"&&i.color!=="X"))),m=U(()=>{let c="",i="",p=0;for(let o=0;o<y(s).length;(o+=1)-1)for(let h=0;h<y(s)[o].length;(h+=1)-1){const a=y(s)[o][h];a.color===i?p+=a.count:(i!==""&&(c+=p+i),i=a.color,p=a.count)}return c+=p+i,c});return{get columnEncodes(){return y(l)},get colorIndices(){return y(r)},get columnHints(){return y(v)},get rowEncodes(){return y(s)},get numColumns(){return y(n)},get rowHints(){return y(u)},set v(c){e.v=c},get encoded(){return y(m)},get numRows(){return y(t)},get v(){return e.v},reset:e.reset}},Fe=V("#476fb8"),z=V(["#f8fafc","#020617"]),He=V(1),Re=V(5),Ne=V(5),cn=Rt(),k=ln(),le=ln(),Ee=V([cn]),we=V(0),G=V(!1),D=V({colorIndex:-1,column:-1,Xed:!1,row:-1}),et=V(!1),ie=V(1),Le=V(!1),Lt=V(!1),ue=V(!1),De=V(!1),fn=V(!1),Ge=V(!1),Ze=V(!1);var Ye=W(()=>Ne),ze=W(()=>Re),pt=W(()=>G),Bt=W(()=>Le),nr=M("<button>New Editor</button>"),rr=M('<div class="flex"><input class="min-w-0 text-center" type="text"> <input class="min-w-0 text-center" type="text"></div>');function or(e,t){te(t,!1);const n=u=>Math.max(0,Number(String(u).replace(/[^0-9]/g,"")));Xe();var r=hn(),s=Be(r);ee(s,()=>pt().v,u=>{var l=nr();l.__click=()=>{Bt(Bt().v=!1),pt(pt().v=!1),ct()},S(u,l)},u=>{var l=rr(),v=q(l);Ce(v),v.__input=()=>{ze(ze().v=n(ze().v)),ct()};var m=L(v,2);Ce(m),m.__input=()=>{Ye(Ye().v=n(Ye().v)),ct()},O(l),Je(v,()=>ze().v,c=>ze(ze().v=c)),Je(m,()=>Ye().v,c=>Ye(Ye().v=c)),S(u,l)}),S(e,r),ne()}me(["click","input"]);const sr=(e,t)=>{t(k.colorIndices,z.v,n=>{const r=document.createElement("a");r.download="shareogram.png",r.href=n,r.click()})};var ar=M("<button>Export as PNG</button>");function ir(e,t){te(t,!1);const n=(s,u,l)=>{const v=s[0].length,m=s.length,c=document.createElement("canvas");c.width=v,c.height=m;const i=c.getContext("2d");if(i){const p=i.createImageData(v,m);for(let h=0;h<m;(h+=1)-1)for(let a=0;a<v;(a+=1)-1){const _=u[s[h][a]],x=Tt(_);if(x){const[w,A,X]=x,I=(h*v+a)*4;p.data[I]=w,p.data[I+1]=A,p.data[I+2]=X,p.data[I+3]=255}}i.putImageData(p,0,0);const o=c.toDataURL("image/png");l(o)}};Xe();var r=ar();r.__click=[sr,n],S(e,r),ne()}me(["click"]);var lr=M('<input class="mx-2" type="range" max="442" min="10">'),cr=M('<input accept="image/png" id="file-upload" type="file" class="svelte-1mz0xx0"> <!>',1);function fr(e,t){te(t,!0);let n=xe(10),r=xe(void 0);const s=(p,o,h)=>{const[a,_,x]=p,[w,A,X]=o;return Math.sqrt((a-w)**2+(_-A)**2+(x-X)**2)<=h},u=(p,o,h)=>"#"+[p,o,h].map(a=>Math.round(a).toString(16).padStart(2,"0")).join(""),l=(p,o,h)=>{const a=Tt(p);for(let _=0;_<o.length;(_+=1)-1){const x=Tt(o[_]);if(s(a,x,h))return _}return o.push(p),o.length-1},v=(p,o,h)=>{const a=new FileReader;a.onload=_=>{var w;const x=new Image;x.onload=()=>{const A=document.createElement("canvas"),X=A.getContext("2d");if(X){A.width=x.width,A.height=x.height,X.drawImage(x,0,0);const I=X.getImageData(0,0,x.width,x.height).data,H=[],se=[];for(let re=0;re<x.height;(re+=1)-1){const J=[];for(let be=0;be<x.width;(be+=1)-1){const ce=(re*x.width+be)*4,fe=I[ce],ve=I[ce+1],Oe=I[ce+2],Te=I[ce+3]<1?"#ffffff":u(fe,ve,Oe),Pe=l(Te,H,o);J.push(Pe)}se.push(J)}h(se,H)}},x.src=(w=_.target)==null?void 0:w.result},a.readAsDataURL(p)};Qe(()=>{y(r)&&v(y(r)[0],y(n),(p,o)=>{Re.v=p[0].length,Ne.v=p.length,z.v=o,He.v=0,k.v=Rt();for(let h=0;h<k.numRows;(h+=1)-1)for(let a=0;a<k.numColumns;(a+=1)-1)k.v[h][a].colorIndex=p[h][a];Nt()})});var m=cr(),c=Be(m),i=L(c,2);ee(i,()=>y(r),p=>{var o=lr();Ce(o),Je(o,()=>y(n),h=>j(n,h)),S(p,o)}),er(c,()=>y(r),p=>j(r,p)),S(e,m),ne()}var ye=W(()=>et),gt=W(()=>He),wt=W(()=>Fe),ke=W(()=>z),vr=M('<button class="flex-1">-</button>'),ur=M('<!> <button class="flex-1">+</button>',1),dr=M('<input type="color" class="h-8 min-w-12 flex-1 border-0">'),hr=M('<div><div class="flex flex-wrap"><!></div> <div class="flex flex-wrap"><input type="color" class="h-8 min-w-12 flex-1 border-0"> <!></div></div>');function mr(e,t){te(t,!1);const n=()=>{const i="0123456789abcdef";let p="#";for(let o=0;o<6;(o+=1)-1){const h=Math.floor(Math.random()*i.length);p+=i[h]}return p},r=()=>ke().v.length>2;Xe();var s=hr(),u=q(s),l=q(u);ee(l,()=>!G.v,i=>{var p=ur(),o=Be(p);ee(o,r,a=>{var _=vr();_.__click=()=>{ke().v.pop(),gt().v>ke().v.length-1&&gt(gt().v-=1),an()},S(a,_)});var h=L(o,2);h.__click=()=>{ke().v.push(n())},S(i,p)}),O(u);var v=L(u,2),m=q(v);Ce(m),m.__change=()=>{ye(ye().v=!0)},m.__click=()=>{ye(ye().v=!1)};var c=L(m,2);ge(c,1,()=>ke().v,pe,(i,p,o)=>{var h=dr();Ce(h),h.__change=()=>{ye(ye().v=!0)},h.__click=()=>{ye(ye().v=!1)},Je(h,()=>ke().v[o],a=>ke(ke().v[o]=a)),S(i,h)}),O(v),O(s),Je(m,()=>wt().v,i=>wt(wt().v=i)),S(e,s),ne()}me(["click","change"]);var _r=M("<button>Reveal Tile</button>");function pr(e,t){te(t,!0);const n=U(()=>{const v=[];let m=!0;const c=k.numRows,i=k.numColumns;for(let p=0;p<c;(p+=1)-1)for(let o=0;o<i;(o+=1)-1)le.v[p][o].colorIndex!==k.v[p][o].colorIndex&&(v.push({column:o,row:p}),m=!1);return{isDifferent:v,allSame:m}}),r=U(()=>y(n).isDifferent),s=U(()=>y(n).allSame);Qe(()=>{Le.v=y(s)});const u=()=>{if(!Le.v){const v=ft(0,y(r).length-1),m=y(r)[v].row,c=y(r)[v].column;k.v[m][c]={colorIndex:le.v[m][c].colorIndex,Xed:!1},Nt()}};var l=_r();l.__click=u,S(e,l),ne()}me(["click"]);var xt=W(()=>Ze),bt=W(()=>Ge),gr=M('<div class="flex justify-between border-t-2 border-t-black p-5"><input type="checkbox" class="svelte-1puqql9"> <input type="checkbox" class="svelte-1puqql9"></div>');function wr(e,t){te(t,!1),Xe();var n=gr(),r=q(n);Ce(r);var s=L(r,2);Ce(s),O(n),Ft(r,()=>bt().v,u=>bt(bt().v=u)),Ft(s,()=>xt().v,u=>xt(xt().v=u)),S(e,n),ne()}const vn="none";function xr(e){return Array.isArray(e)?e:[e]}function We(e,t,n){return e.addEventListener(t,n),()=>e.removeEventListener(t,n)}function br(e,t){const n=e.getBoundingClientRect(),r=Math.abs(t[0].clientX-t[1].clientX),s=Math.abs(t[0].clientY-t[1].clientY),u=Math.min(t[0].clientX,t[1].clientX),l=Math.min(t[0].clientY,t[1].clientY),v=u+r/2,m=l+s/2,c=Math.round(v-n.left),i=Math.round(m-n.top);return{x:c,y:i}}function yr(e,t){return t.filter(n=>e.pointerId!==n.pointerId)}function rt(e,t,n,r,s){const u=e.getBoundingClientRect(),l=Math.round(n.clientX-u.left),v=Math.round(n.clientY-u.top);e.dispatchEvent(new CustomEvent(`${t}${s}`,{detail:{event:n,pointersCount:r.length,target:n.target,x:l,y:v}}))}function kr(e,t,n,r,s,u=vn){t.style.touchAction=xr(u).join(" ");let l=[];function v(c){l.push(c),rt(t,e,c,l,"down"),r==null||r(l,c);const i=c.pointerId;function p(w){i===w.pointerId&&(l=yr(w,l),l.length||o(),rt(t,e,w,l,"up"),s==null||s(l,w))}function o(){h(),a(),_(),x()}const h=We(t,"pointermove",w=>{l=l.map(A=>w.pointerId===A.pointerId?w:A),rt(t,e,w,l,"move"),n==null||n(l,w)}),a=We(t,"lostpointercapture",w=>{p(w)}),_=We(t,"pointerup",w=>{p(w)}),x=We(t,"pointerleave",w=>{l=[],o(),rt(t,e,w,l,"up"),s==null||s(l,w)})}const m=We(t,"pointerdown",v);return{destroy:()=>{m()}}}function Ut(e){return Math.hypot(e[0].clientX-e[1].clientX,e[0].clientY-e[1].clientY)}function Ir(e,t){const n={touchAction:vn,composed:!1,...t},r="pinch";let s,u=0,l;function v(i,p){i.length===1&&(s=void 0)}function m(i,p){i.length===2&&(u=Ut(i),l=br(e,i))}function c(i,p){if(i.length===2){const o=Ut(i);if(s!==void 0&&o!==s){const h=o/u;e.dispatchEvent(new CustomEvent(r,{detail:{scale:h,center:l,pointerType:p.pointerType}}))}s=o}return!1}return n.composed?{onMove:c,onDown:m,onUp:null}:kr(r,e,c,m,v,n.touchAction)}var $r=M('<input step=".025" type="range" class="svelte-artubv">');function Er(e,t){te(t,!0);const n=3,r=.5;let s=xe(1);const u=m=>{m.preventDefault(),m.deltaY<0&&ie.v<n?ie.v+=.05:m.deltaY>0&&ie.v>r&&(ie.v-=.05)},l=m=>{if(!De.v)return;const c=y(s);j(s,je(m.detail.scale));const i=y(s)<c;i&&ie.v>r?ie.v-=.025:!i&&ie.v<n&&(ie.v+=.025)};var v=$r();oe("wheel",he,u,void 0,!1),on($t.body,m=>Ir(m)),oe("pinch",$t.body,l),Ce(v),Ue(v,"max",n),Ue(v,"min",r),Je(v,()=>ie.v,m=>ie.v=m),S(e,v),ne()}var ot=W(()=>Lt),Cr=M("<!> <!>",1),Xr=M("<!> <!>",1),Tr=M('<div class="fixed bottom-0 top-0 z-50 flex w-40 max-w-[75%] flex-col overflow-hidden rounded-l-3xl bg-white svelte-187qfh2"><!> <!> <!> <!> <!></div>');function Sr(e,t){te(t,!1);const n=c=>{c.key==="o"&&ot(ot().v=!ot().v)};Xe();var r=Tr();oe("keydown",he,n);var s=q(r);ee(s,()=>!G.v,c=>{var i=Cr(),p=Be(i);fr(p,{});var o=L(p,2);ir(o,{}),S(c,i)});var u=L(s,2);or(u,{});var l=L(u,2);mr(l,{});var v=L(l,2);Er(v,{});var m=L(v,2);ee(m,()=>G.v,c=>{var i=Xr(),p=Be(i);wr(p,{});var o=L(p,2);pr(o,{}),S(c,i)}),O(r),B(()=>R(r,"right",ot().v?"0":"-300px")),S(e,r),ne()}const Ar=e=>e;function Mr(e,{delay:t=0,duration:n=400,easing:r=Ar}={}){const s=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:r,css:u=>`opacity: ${u*s}`}}var Hr=M('<div class="font-normal"> </div>'),Rr=M("<th></th>"),Nr=M('<thead class="top-0 z-20 align-bottom"><tr><th class="sticky left-0 z-30"></th><!></tr></thead>'),Lr=M('<div class="flex items-center justify-center"> </div>'),Dr=M('<td class="left-0 z-10"><div class="flex justify-end"></div></td>'),Or=M("<span>X</span>"),qr=M('<td class="box-content h-6 min-w-6 text-center transition-colors duration-500" tabindex="0"><!></td>'),Pr=M('<td class="px-1 text-center"></td>'),Yr=M("<tr><!><!><!></tr>"),zr=M('<td class="text-center"></td>'),Gr=M("<tr><td></td><!></tr>"),Fr=M('<table class="m-32 border-collapse"><!><tbody><!><!></tbody></table>');function Br(e,t){te(t,!0);let n=xe(!1),r=xe(!1),s=xe(""),u=xe(0);const l=(f,d,g,$)=>{const E=Math.abs(f-g),b=Math.abs(d-$);return E===0&&b===1?$>d?"right":"left":E===1&&b===0?g>f?"below":"above":"not adjacent"},v=f=>f.Xed,m=f=>f.colorIndex===He.v,c=(f,d)=>{f.colorIndex=d},i=f=>{f.colorIndex=0},p=f=>{f.Xed=!f.Xed},o=(f,d,g)=>{De.v||(f.target instanceof HTMLElement&&f.target.releasePointerCapture(f.pointerId),f.button===0?j(n,!0):f.button===2&&j(r,!0),h(d,g))},h=(f,d)=>{D.v={colorIndex:k.v[f][d].colorIndex,Xed:k.v[f][d].Xed,column:d,row:f},et.v=!1,j(u,0),G.v?y(n)?ue.v&&!ae(k.v[f][d])?p(k.v[f][d]):!ue.v&&!v(k.v[f][d])&&(m(k.v[f][d])?i(k.v[f][d]):c(k.v[f][d],He.v)):y(r)&&(ae(k.v[f][d])?i(k.v[f][d]):p(k.v[f][d])):y(n)?c(k.v[f][d],He.v):y(r)&&i(k.v[f][d])},a=f=>{f.button===0?j(n,!1):f.button===2&&j(r,!1),et.v=!0},_=(f,d)=>{if(!y(n)&&!y(r)||y(n)&&y(r)||D.v.row===-1||De.v)return;Pn(u),y(u)===1&&j(s,je(l(D.v.row,D.v.column,f,d)));const g=k.v[D.v.row][D.v.column];if(G.v)if(fn.v){const $=Math.min(D.v.row,f),E=Math.max(D.v.row,f),b=Math.min(D.v.column,d),C=Math.max(D.v.column,d);for(let P=$;P<=E;(P+=1)-1)for(let Y=b;Y<=C;(Y+=1)-1){const T=k.v[P][Y];y(n)?ue.v&&!ae(T)?T.Xed=g.Xed:!ue.v&&!v(T)&&c(T,g.colorIndex):D.v.Xed&&!ae(T)?T.Xed=!1:D.v.colorIndex===0&&!ae(T)?T.Xed=!0:D.v.colorIndex!==0&&!v(T)&&i(T)}}else if(y(s)==="above"||y(s)==="below"){const $=Math.min(D.v.row,f),E=Math.max(D.v.row,f);for(let b=$;b<E+1;(b+=1)-1){const C=k.v[b][D.v.column];y(n)?ue.v&&!ae(C)?C.Xed=g.Xed:!ue.v&&!v(C)&&c(C,g.colorIndex):D.v.Xed&&!ae(C)?C.Xed=!1:D.v.colorIndex===0&&!ae(C)?C.Xed=!0:D.v.colorIndex!==0&&!v(C)&&i(C)}}else{const $=Math.min(D.v.column,d),E=Math.max(D.v.column,d);for(let b=$;b<E+1;(b+=1)-1){const C=k.v[D.v.row][b];y(n)?ue.v&&!ae(C)?C.Xed=g.Xed:!ue.v&&!v(C)&&c(C,g.colorIndex):D.v.Xed&&!ae(C)?C.Xed=!1:D.v.colorIndex===0&&!ae(C)?C.Xed=!0:D.v.colorIndex!==0&&!v(C)&&i(C)}}else y(n)?c(k.v[f][d],He.v):i(k.v[f][d])};let x=0,w=0;const A=(f,d)=>{x=f,w=d},X=f=>{var $;if(f.key!=="ArrowUp"&&f.key!=="ArrowDown"&&f.key!=="ArrowLeft"&&f.key!=="ArrowRight"&&f.key!==" ")return;f.preventDefault();let d=x,g=w;f.key==="ArrowUp"&&x>0?d-=1:f.key==="ArrowDown"&&x<k.numRows-1?d+=1:f.key==="ArrowLeft"&&w>0?g-=1:f.key==="ArrowRight"&&w<k.numColumns-1?g+=1:f.key===" "&&j(n,!0),($=document.querySelector(`[data-row="${d}"][data-col="${g}"]`))==null||$.focus(),y(n)&&!De.v&&h(d,g)},I=f=>{f.key===" "&&j(n,!1)},H=(f,d)=>{let g=0;for(let E=0;E<=f;(E+=1)-1)E!==0&&d[E-1].color===d[E].color&&(g+=1),E<f&&(g+=d[E].count);let $=0;for(let E=d.length-1;E>=f;(E-=1)+1)E!==d.length-1&&d[E].color===d[E+1].color&&($+=1),E>f&&($+=d[E].count);return{offsetHead:g,offsetTail:$}},se=(f,d,g)=>{const{offsetHead:$,offsetTail:E}=H(f,d);let b=0,C=0;for(;b<$&&C<=g.length-1;)g[C].color!=="X"?b+=g[C].count:C>0&&(b+=1),C+=1;b=0;let P=g.length-1;for(;b<E&&P>=0;)g[P].color!=="X"?b+=g[P].count:P<g.length-1&&(b+=1),P-=1;return{encodesStartIndex:C,encodesEndIndex:P}},re=(f,d)=>{const g=new Array(f.length).fill(void 0),$=new Array(f.length).fill(void 0),E=new Array(f.length).fill(void 0);for(let b=0;b<f.length;(b+=1)-1){const{encodesStartIndex:C,encodesEndIndex:P}=se(b,f,d),Y=f[b];for(let T=C;T<=P;(T+=1)-1)if(Y.color===d[T].color&&Y.count>=d[T].count){if(g.slice(0,b).includes(T))continue;g[b]=T;for(let N=0;N<b;(N+=1)-1)g[N]>T&&(g[N]=void 0);break}}for(let b=f.length-1;b>=0;(b-=1)+1){const{encodesStartIndex:C,encodesEndIndex:P}=se(b,f,d),Y=f[b];for(let T=P;T>=C;(T-=1)+1)if(Y.color===d[T].color&&Y.count>=d[T].count){if($.slice(b+1).includes(T))continue;$[b]=T;for(let N=f.length-1;N>b;(N-=1)+1)$[N]<T&&($[N]=void 0);break}}for(let b=0;b<f.length;(b+=1)-1)g[b]===$[b]&&(E[b]=g[b]);return E},J=(f,d)=>{const g=re(f,d);let $=[],E=g[0]!==void 0?g[0]:0;for(let b=1;b<g.length;(b+=1)-1)g[b]!==void 0&&!(E===0&&g[b]===d.length-1)&&(g[b-1]===void 0&&$.push([E,g[b]]),E=g[b]);g[g.length-1]===void 0&&E!==d.length-1&&E!==0&&$.push([E,d.length-1]);for(let b=0;b<$.length;(b+=1)-1){const[C,P]=$[b],Y=C===0?0:g.indexOf(C),T=P===d.length-1?f.length-1:g.indexOf(P),N=f.slice(Y,T+1),F=d.slice(C,P+1);let Z=0;for(let Q=0;Q<F.length;(Q+=1)-1)d[Q].color!=="X"?Z+=d[Q].count:Q>0&&Q<F.length-1&&(Z+=1);const{offsetTail:_e}=H(0,N);if(_e+N[0].count>Z)continue;const K=re(N,F);for(let Q=0;Q<K.length;(Q+=1)-1)K[Q]!==void 0&&(K[Q]=K[Q]+C);g.splice(Y,T-Y+1,...K)}return g},be=U(()=>{let f=[[]];for(let d=0;d<le.rowHints.length;(d+=1)-1){const g=le.rowHints[d],$=k.rowEncodes[d];f[d]=J(g,$)}return f}),ce=U(()=>{let f=[[]];for(let d=0;d<le.columnHints.length;(d+=1)-1){const g=le.columnHints[d],$=k.columnEncodes[d];f[d]=J(g,$)}return f}),fe=(f,d,g,$)=>{const E=$?y(be):y(ce),b=$?k.rowEncodes[f]:k.columnEncodes[f];return E[f][d]!==void 0&&JSON.stringify(g)===JSON.stringify(b[E[f][d]])};var ve=Fr();oe("pointerup",he,a),oe("keyup",he,I);var Oe=q(ve);ee(Oe,()=>G.v,f=>{var d=Nr(),g=q(d),$=q(g),E=L($);ge(E,17,()=>({length:k.numColumns}),pe,(b,C,P)=>{var Y=Rr();ge(Y,21,()=>le.columnHints[P],pe,(T,N,F)=>{var Z=Hr();const _e=U(()=>fe(P,F,y(N),!1)?.2:1);B(()=>R(Z,"opacity",y(_e)));const K=U(()=>z.v[Xt(y(N).color)]);B(()=>R(Z,"color",y(K)));var Q=q(Z,!0);O(Z),B(()=>{R(Z,"font-size",Ze.v?".5rem":""),Et(Q,y(N).count)}),S(T,Z)}),O(Y),S(b,Y)}),O(g),O(d),B(()=>{R(d,"position",Ze.v?"sticky":""),R(d,"background-color",Ze.v?z.v[0]:""),R($,"visibility",Ge.v&&Ze.v?"":"hidden"),R($,"background-color",z.v[0])}),S(f,d)});var qe=L(Oe),Te=q(qe);ge(Te,17,()=>({length:k.numRows}),pe,(f,d,g)=>{var $=Yr(),E=q($);ee(E,()=>G.v,Y=>{var T=Dr(),N=q(T);ge(N,21,()=>le.rowHints[g],pe,(F,Z,_e)=>{var K=Lr();const Q=U(()=>fe(g,_e,y(Z),!0)?.2:1);B(()=>R(K,"opacity",y(Q)));const un=U(()=>z.v[Xt(y(Z).color)]);B(()=>R(K,"color",y(un)));var dn=q(K,!0);O(K),B(()=>{R(K,"width",Ge.v?".75rem":"1.5rem"),R(K,"font-size",Ge.v?".5rem":""),Et(dn,y(Z).count)}),S(F,K)}),O(N),O(T),B(()=>{R(T,"position",Ge.v?"sticky":""),R(T,"background-color",Ge.v?z.v[0]:"")}),S(Y,T)});var b=L(E);ge(b,17,()=>({length:k.numColumns}),pe,(Y,T,N)=>{var F=qr();F.__pointerdown=_e=>{o(_e,g,N)},Ue(F,"data-row",g),Ue(F,"data-col",N),F.__keydown=X;var Z=q(F);ee(Z,()=>v(k.v[g][N])&&!Le.v,_e=>{var K=Or();jn(3,K,()=>Mr,()=>({duration:300})),S(_e,K)}),O(F),B(()=>{R(F,"border-left",Le.v||!G.v?"0":`solid ${N%5===0&&N!==0?`4px ${z.v[1]}`:`2px ${Fe.v}`}`),R(F,"border-top",Le.v||!G.v?"0":`solid ${g%5===0&&g!==0?`4px ${z.v[1]}`:`2px ${Fe.v}`}`),R(F,"background-color",z.v[k.v[g][N].colorIndex]),R(F,"color",z.v[1])}),oe("pointerenter",F,()=>{_(g,N)}),oe("focus",F,()=>{A(g,N)}),S(Y,F)});var P=L(b);ee(P,()=>k.numRows>10&&G.v,Y=>{var T=Pr();T.textContent=g%5===4?g+1:"",S(Y,T)}),O($),S(f,$)});var Pe=L(Te);ee(Pe,()=>k.numColumns>10&&G.v,f=>{var d=Gr(),g=L(q(d));ge(g,17,()=>({length:k.numColumns}),pe,($,E,b)=>{var C=zr();C.textContent=b%5===4?b+1:"",S($,C)}),O(d),S(f,d)}),O(qe),O(ve),B(()=>R(ve,"zoom",ie.v)),S(e,ve),ne()}me(["pointerdown","keydown"]);var Ur=M('<div class="flex"><button class="flex-1">Undo</button> <button class="flex-1">Redo</button></div>');function Jr(e,t){te(t,!0);const n=()=>{D.v.row!==-1&&Nt(),D.reset()},r=i=>{i.key==="z"?u():i.key==="y"&&l()},s=()=>{k.v=ut(Ee.v[we.v]),an()},u=()=>{we.v!==0&&(we.v-=1,s())},l=()=>{we.v!==Ee.v.length-1&&(we.v+=1,s())};var v=Ur();oe("keydown",he,r),oe("pointerup",he,n);var m=q(v);m.__click=u;var c=L(m,2);c.__click=l,O(v),S(e,v),ne()}me(["click"]);var Se=W(()=>De),Ae=W(()=>He),st=W(()=>fn),Me=W(()=>ue),Vr=M('<button class="flex aspect-square h-8 flex-1 items-center justify-center p-0"></button>'),Kr=M('<button class="flex aspect-square h-8 flex-1 items-center justify-center p-0">X</button>'),Wr=M('<button class="flex aspect-square h-8 flex-1 items-center justify-center p-0">2d</button>'),Zr=M('<div class="flex flex-wrap"><!> <!> <button class="flex aspect-square h-8 flex-1 items-center justify-center p-0" aria-label="Move"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 21v-9m0 9l3-3m-3 3l-3-3m3-6V3m0 9H3m9 0h9m-9-9L9 6m3-3l3 3M3 12l3 3m-3-3l3-3m15 3l-3-3m3 3l-3 3"></path></svg></button> <!></div>');function Qr(e,t){te(t,!1);const n=o=>{/[1-9]/.test(o.key)&&Number(o.key)<=z.v.length?r(Number(o.key)-1):o.key==="m"?u():o.key==="x"&&G.v?s():o.key==="d"&&G.v&&l()},r=o=>{Me(Me().v=!1),Se(Se().v=!1),Ae(Ae().v=o)},s=()=>{Me(Me().v=!0),Se(Se().v=!1),Ae(Ae().v=-1)},u=()=>{Me(Me().v=!1),Se(Se().v=!0),Ae(Ae().v=-1)},l=()=>{st(st().v=!st().v)};Xe();var v=Zr();oe("keydown",he,n);var m=q(v);ge(m,1,()=>z.v,pe,(o,h,a)=>{var _=Vr();_.__click=()=>{r(a)},_.textContent=a+1,B(()=>{R(_,"filter",a===Ae().v?"brightness(60%)":""),R(_,"color",a===0?z.v[1]:z.v[0]),R(_,"background-color",z.v[a])}),S(o,_)});var c=L(m,2);ee(c,()=>G.v,o=>{var h=Kr();h.__click=s,B(()=>R(h,"filter",Me().v?"brightness(60%)":"")),S(o,h)});var i=L(c,2);i.__click=u;var p=L(i,2);ee(p,()=>G.v,o=>{var h=Wr();h.__click=l,B(()=>R(h,"filter",st().v?"brightness(60%)":"")),S(o,h)}),O(v),B(()=>R(i,"filter",Se().v?"brightness(60%)":"")),S(e,v),ne()}me(["click"]);var at=W(()=>Lt),jr=M('<footer class="flex justify-center"><div class="flex overflow-hidden rounded-t-lg"><button>Options</button> <div><!> <!></div></div></footer>');function eo(e,t){te(t,!1),Xe();var n=jr(),r=q(n),s=q(r);s.__click=()=>{at(at().v=!at().v)};var u=L(s,2),l=q(u);Qr(l,{});var v=L(l,2);Jr(v,{}),O(u),O(r),O(n),B(()=>R(s,"filter",at().v?"brightness(60%)":"")),S(e,n),ne()}me(["click"]);var to=M('<div class="absolute -left-4 -top-4 scale-[40%]" id="dynamic-svg"><a href="https://github.com/JeffHove/Shareogram" aria-label="Link to GitHub repository"><svg height="96" width="98" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z" fill="#fff" fill-rule="evenodd"></path></svg></a></div>');function no(e){var t=to();S(e,t)}var Jt=W(()=>le),yt=W(()=>G),ro=M('<span class="pt-2.5"> </span>'),oo=M('<button class="rounded-b-lg">Start Game</button>'),so=M('<header class="flex items-center justify-center"><!> <!></header>');function ao(e,t){te(t,!1),Xe();var n=so(),r=q(n);no(r);var s=L(r,2);ee(s,()=>yt().v,u=>{var l=ro(),v=q(l,!0);O(l),B(()=>Et(v,Le.v?"You win!":"Keep trying")),S(u,l)},u=>{var l=oo();l.__click=()=>{yt(yt().v=!0),Jt(Jt().v=k.v),ct()},S(u,l)}),O(n),S(e,n),ne()}me(["click"]);const io=e=>{let t=!1,n,r,s,u;const l=c=>{(c.button===1||c.button===0&&De.v)&&(c.preventDefault(),t=!0,n=c.pageX-e.offsetLeft,r=c.pageY-e.offsetTop,s=e.scrollLeft,u=e.scrollTop,e.style.cursor="grabbing",document.addEventListener("mousemove",v),document.addEventListener("mouseup",m))},v=c=>{if(!t)return;c.preventDefault();const i=c.pageX-e.offsetLeft,p=c.pageY-e.offsetTop,o=(i-n)*2,h=(p-r)*2;e.scrollLeft=s-o,e.scrollTop=u-h},m=()=>{t=!1,e.style.cursor="",document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",m)};return e.addEventListener("mousedown",l),{destroy:()=>{e.removeEventListener("mousedown",l),e.style.cursor=""}}};var lo=M('<li class="absolute -bottom-[200px] block aspect-square rounded-[10%] bg-white/20 svelte-qqc5lb"></li>'),co=M('<ul class="absolute inset-0 -z-10 m-0 overflow-hidden p-0 svelte-qqc5lb"></ul> <!>  <main class="m-3 flex flex-1 overflow-auto svelte-qqc5lb"><!></main> <!> <!>',1);function po(e,t){te(t,!0);let n=xe(!1);const r=a=>{const _=a.match(/(\d+|[a-zX]+)/g),x=[],w=[];if(_)for(let A=0;A<_.length;(A+=1)-1){const X=_[A];isNaN(Number(X))?w.push(X):x.push(Number(X))}if(x.length!==w.length)throw new Error("Error: different number of counts and letters.");return{letters:w,numbers:x}},s=a=>{const _=r(a),x=[];let w=0,A=0;for(let X=0;X<Ne.v;(X+=1)-1)x[X]=[];for(let X=0;X<_.numbers.length;(X+=1)-1)for(let I=0;I<_.numbers[X];(I+=1)-1)_.letters[X]==="X"?x[w][(A+=1)-1]={colorIndex:0,Xed:!0}:x[w][(A+=1)-1]={colorIndex:Xt(_.letters[X]),Xed:!1},A>Re.v-1&&(w+=1,A=0);return x},u=a=>(a.preventDefault(),a.returnValue="",""),l=()=>{const a=window.location.hash;if(a){try{const _=a.slice(1).split("-");G.v=!!Number(_[0]),Re.v=Number(_[1]),Ne.v=Number(_[2]),Fe.v="#"+_[3];const x=G.v?_.slice(4,-2):_.slice(4,-1);for(let w=0;w<x.length;(w+=1)-1)z.v[w]="#"+x[w];k.v=s(_[G.v?_.length-2:_.length-1]),Ee.v[0]=ut(k.v),G.v&&(le.v=s(_[_.length-1]))}catch{alert("Couldn't load the code from the URL. Make sure you copied the link correctly.")}et.v=!0}j(n,!0)};Qe(()=>{for(;!y(n);)l()}),Qe(()=>{if(et.v){const a=[Number(G.v),Re.v,Ne.v,Fe.v.slice(1)];for(let _=0;_<z.v.length;(_+=1)-1)a.push(z.v[_].slice(1));a.push(k.encoded),G.v&&a.push(le.encoded),window.location.hash=a.join("-")}}),Qe(()=>{document.body.style.color=z.v[0];const a=document.querySelector("#dynamic-svg path");a==null||a.setAttribute("fill",z.v[0])});var v=co();Gn(a=>{$t.title="Shareogram"}),oe("contextmenu",he,a=>a.preventDefault()),oe("load",he,l),oe("beforeunload",he,a=>{u(a)});var m=Be(v);ge(m,20,()=>({length:35}),pe,(a,_)=>{var x=lo();const w=U(()=>ft(0,60)+"s");B(()=>R(x,"animation-delay",y(w)));const A=U(()=>ft(5,200)+"px");B(()=>R(x,"width",y(A)));const X=U(()=>ft(0,100)+"%");B(()=>R(x,"left",y(X))),S(a,x)}),O(m);var c=L(m,2);ao(c,{});var i=L(c,2);i.__click=()=>{Lt.v=!1};var p=q(i);Br(p,{}),O(i),on(i,a=>io(a));var o=L(i,2);eo(o,{});var h=L(o,2);Sr(h,{}),B(()=>{R(m,"background-color",Fe.v),R(i,"touch-action",De.v?"auto":"none")}),S(e,v),ne()}me(["click"]);export{po as component,_o as universal};
